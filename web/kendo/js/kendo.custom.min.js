(function(e,t,n){function r(){}function o(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=e.charAt(0),r=e.substring(1);return"="===n?"+("+r+")+":":"===n?"+e("+r+")+":";"+e+";o+="}function i(e,t,n){return e+="",t=t||2,n=t-e.length,n?_[t].substring(0,n)+e:e}function a(t){var n,r,o,i,a,s,u,l,c,d,f,p,m,h=gt.browser,g="rtl"==t.css("direction");return t.parent().hasClass("k-animation-container")?(p=t.parent(".k-animation-container"),m=p[0].style,p.is(":hidden")&&p.show(),n=yt.test(m.width)||yt.test(m.height),n||p.css({width:t.outerWidth(),height:t.outerHeight()})):(r=t.css(st.support.transitions.css+"box-shadow")||t.css("box-shadow"),o=r?r.match(wt)||[0,0,0,0,0]:[0,0,0,0,0],i=mt.max(+o[3],+(o[4]||0)),a=-o[1]+i,s=+o[1]+i,u=+o[2]+i,l=t[0].style.width,c=t[0].style.height,d=yt.test(l),f=yt.test(c),h.opera&&(a=s=u=5),n=d||f,d||(l=t.outerWidth()),f||(c=t.outerHeight()),t.wrap(e("<div/>").addClass("k-animation-container").css({width:l,height:c,marginLeft:a*(g?1:-1),paddingLeft:a,paddingRight:s,paddingBottom:u})),n&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),h.msie&&7>=mt.floor(h.version)&&t.css({zoom:1}),t.parent()}function s(e){var t=1,n=arguments.length;for(t=1;n>t;t++)u(e,arguments[t]);return e}function u(e,t){var n,r,o,i,a=st.data.ObservableArray;for(n in t)r=t[n],o=typeof r,o===xt&&null!==r&&r.constructor!==Array&&r.constructor!==a?r instanceof Date?e[n]=new Date(r.getTime()):(i=e[n],e[n]=typeof i===xt?i||{}:{},u(e[n],r)):o!==Tt&&(e[n]=r);return e}function l(e,t,r){for(var o in t)if(t.hasOwnProperty(o)&&t[o].test(e))return o;return r!==n?r:e}function c(t,n){var r,o={};return document.defaultView&&document.defaultView.getComputedStyle?(r=document.defaultView.getComputedStyle(t,""),n&&e.each(n,function(e,t){o[t]=r.getPropertyValue(t)})):(r=t.currentStyle,n&&e.each(n,function(e,t){o[t]=r[t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})]})),st.size(o)||(o=r),o}function d(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&"toJSON"!=t&&n++;return n}function f(t){return""===e.trim(e(t).contents().filter(function(){return 8!=this.nodeType}).html())}function p(e,t,n){var r,o,i,a;return t||(t="offset"),r=e[t](),o=gt.mobileOS,gt.touch&&o.ios&&410>o.flatVersion&&(i="offset"==t?r:e.offset(),a=r.left==i.left&&r.top==i.top)?{top:r.top-window.scrollY,left:r.left-window.scrollX}:(st.support.pointers&&!n&&(r.top-=window.pageYOffset-document.documentElement.scrollTop,r.left-=window.pageXOffset-document.documentElement.scrollLeft),r)}function m(e){var t={};return lt("string"==typeof e?e.split(" "):e,function(e){t[e]=this}),t}function h(e){return new st.effects.Element(e)}function g(e,t,n,r){return typeof e===Mt&&(pt(t)&&(r=t,t=400,n=!1),pt(n)&&(r=n,n=!1),typeof t===Ot&&(n=t,t=400),e={effects:e,duration:t,reverse:n,complete:r}),ut({effects:{},duration:400,reverse:!1,init:ft,teardown:ft,hide:!1},e,{completeCallback:e.complete,complete:ft})}function y(t,n,r,o,i){for(var a,s=0,u=t.length;u>s;s++)a=e(t[s]),a.queue(function(){W.promise(a,g(n,r,o,i))});return t}function v(e,t,n,r,o,i){return W.transitionPromise(e,t,g(n,r,o,i))}function w(e,t,n,r){return t&&(t=t.split(" "),lt(t,function(t,n){e.toggleClass(n,r)})),e}function b(e){return(""+e).replace(L,"&amp;").replace(j,"&lt;").replace(R,"&gt;")}function M(e,r){var o;return 0===r.indexOf("data")&&(r=r.substring(4),r=r.charAt(0).toLowerCase()+r.substring(1)),r=r.replace(K,"-$1"),o=e.getAttribute("data-"+st.ns+r),null===o?o=n:"null"===o?o=null:"true"===o?o=!0:"false"===o?o=!1:isNaN(parseFloat(o))?G.test(o)&&!q.test(o)&&(o=t("("+o+")")):o=parseFloat(o),o}function S(t,r){var o,i,a={};for(o in r)i=M(t,o),i!==n&&(Y.test(o)&&(i=st.template(e("#"+i).html())),a[o]=i);return a}function x(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&k(e)}function k(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")||e.expr.filters.hidden(this)}).length}function O(e,t){return new O.fn.init(e,t)}var T,C,A,z,P,E,H,D,N,F,_,I,W,L,j,R,U,$,J,B,V,Y,G,q,K,Z,Q,X,et,tt,nt,rt,ot,it,at,st=window.kendo=window.kendo||{},ut=e.extend,lt=e.each,ct=e.proxy,dt=e.isArray,ft=e.noop,pt=e.isFunction,mt=Math,ht=window.JSON||{},gt={},yt=/%/,vt=/\{(\d+)(:[^\}]+)?\}/g,wt=/(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,bt="function",Mt="string",St="number",xt="object",kt="null",Ot="boolean",Tt="undefined",Ct={},At={},zt=[].slice,Pt=window.Globalize;r.extend=function(e){var t,n,r=function(){},o=this,i=e&&e.init?e.init:function(){o.apply(this,arguments)};r.prototype=o.prototype,n=i.fn=i.prototype=new r;for(t in e)n[t]=typeof e[t]!==xt||e[t]instanceof Array||null===e[t]?e[t]:ut(!0,{},r.prototype[t],e[t]);return n.constructor=i,i.extend=o.extend,i},C=function(){this._defaultPrevented=!0},A=function(){return this._defaultPrevented===!0},z=r.extend({init:function(){this._events={}},bind:function(e,t,r){var o,i,a,s,u,l=this,c=typeof e===Mt?[e]:e,d=typeof t===bt;if(t===n){for(o in e)l.bind(o,e[o]);return l}for(o=0,i=c.length;i>o;o++)e=c[o],s=d?t:t[e],s&&(r&&(a=s,s=function(){l.unbind(e,s),a.apply(l,arguments)}),u=l._events[e]=l._events[e]||[],u.push(s));return l},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var n,r,o,i,a=this,s=typeof e===Mt?[e]:e,u=typeof t===bt;for(n=0,r=s.length;r>n;n++)e=s[n],o=u?t:t[e],o&&(i=a._events[e]=a._events[e]||[],i.unshift(o));return a},trigger:function(e,t){var n,r,o=this,i=o._events[e];if(i){for(t=t||{},t.sender=o,t._defaultPrevented=!1,t.preventDefault=C,t.isDefaultPrevented=A,i=i.slice(),n=0,r=i.length;r>n;n++)i[n].call(o,t);return t._defaultPrevented===!0}return!1},unbind:function(e,t){var r,o=this,i=o._events[e];if(e===n)o._events={};else if(i)if(t)for(r=i.length-1;r>=0;r--)i[r]===t&&i.splice(r,1);else o._events[e]=[];return o}}),P=/^\w+/,E=/\$\{([^}]*)\}/g,H=/\\\}/g,D=/__CURLY__/g,N=/\\#/g,F=/__SHARP__/g,_=["","0","00","000","0000"],T={paramName:"data",useWithBlock:!0,render:function(e,t){var n,r,o="";for(n=0,r=t.length;r>n;n++)o+=e(t[n]);return o},compile:function(t,n){var r,i,a=ut({},this,n),s=a.paramName,u=s.match(P)[0],l=a.useWithBlock,c="var o,e=kendo.htmlEncode;";if(pt(t))return 2===t.length?function(n){return t(e,{data:n}).join("")}:t;for(c+=l?"with("+s+"){":"",c+="o=",r=t.replace(H,"__CURLY__").replace(E,"#=e($1)#").replace(D,"}").replace(N,"__SHARP__").split("#"),i=0;r.length>i;i++)c+=o(r[i],0===i%2);c+=l?";}":";",c+="return o;",c=c.replace(F,"#");try{return Function(u,c)}catch(d){throw Error(st.format("Invalid template:'{0}' Generated code:'{1}'",t,c))}}},function(){function e(e){return a.lastIndex=0,a.test(e)?'"'+e.replace(a,function(e){var t=s[e];return typeof t===Mt?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function t(i,a){var s,l,c,d,f,p,m=n,h=a[i];if(h&&typeof h===xt&&typeof h.toJSON===bt&&(h=h.toJSON(i)),typeof o===bt&&(h=o.call(a,i,h)),p=typeof h,p===Mt)return e(h);if(p===St)return isFinite(h)?h+"":kt;if(p===Ot||p===kt)return h+"";if(p===xt){if(!h)return kt;if(n+=r,f=[],"[object Array]"===u.apply(h)){for(d=h.length,s=0;d>s;s++)f[s]=t(s,h)||kt;return c=0===f.length?"[]":n?"[\n"+n+f.join(",\n"+n)+"\n"+m+"]":"["+f.join(",")+"]",n=m,c}if(o&&typeof o===xt)for(d=o.length,s=0;d>s;s++)typeof o[s]===Mt&&(l=o[s],c=t(l,h),c&&f.push(e(l)+(n?": ":":")+c));else for(l in h)Object.hasOwnProperty.call(h,l)&&(c=t(l,h),c&&f.push(e(l)+(n?": ":":")+c));return c=0===f.length?"{}":n?"{\n"+n+f.join(",\n"+n)+"\n"+m+"}":"{"+f.join(",")+"}",n=m,c}}var n,r,o,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u={}.toString;typeof Date.prototype.toJSON!==bt&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?i(e.getUTCFullYear(),4)+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof ht.stringify!==bt&&(ht.stringify=function(e,i,a){var s;if(n="",r="",typeof a===St)for(s=0;a>s;s+=1)r+=" ";else typeof a===Mt&&(r=a);if(o=i,i&&typeof i!==bt&&(typeof i!==xt||typeof i.length!==St))throw Error("JSON.stringify");return t("",{"":e})})}(),function(){function e(e){if(e){if(e.numberFormat)return e;if(typeof e===Mt){var t=st.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function t(t){return t&&(t=e(t)),t||st.cultures.current}function r(e){e.groupSizes=e.groupSize,e.percent.groupSizes=e.percent.groupSize,e.currency.groupSizes=e.currency.groupSize}function o(e,r,o){o=t(o);var a=o.calendars.standard,s=a.days,u=a.months;return r=a.patterns[r]||r,r.replace(l,function(t){var r;return"d"===t?r=e.getDate():"dd"===t?r=i(e.getDate()):"ddd"===t?r=s.namesAbbr[e.getDay()]:"dddd"===t?r=s.names[e.getDay()]:"M"===t?r=e.getMonth()+1:"MM"===t?r=i(e.getMonth()+1):"MMM"===t?r=u.namesAbbr[e.getMonth()]:"MMMM"===t?r=u.names[e.getMonth()]:"yy"===t?r=i(e.getFullYear()%100):"yyyy"===t?r=i(e.getFullYear(),4):"h"===t?r=e.getHours()%12||12:"hh"===t?r=i(e.getHours()%12||12):"H"===t?r=e.getHours():"HH"===t?r=i(e.getHours()):"m"===t?r=e.getMinutes():"mm"===t?r=i(e.getMinutes()):"s"===t?r=e.getSeconds():"ss"===t?r=i(e.getSeconds()):"f"===t?r=mt.floor(e.getMilliseconds()/100):"ff"===t?r=mt.floor(e.getMilliseconds()/10):"fff"===t?r=e.getMilliseconds():"tt"===t&&(r=12>e.getHours()?a.AM[0]:a.PM[0]),r!==n?r:t.slice(1,t.length-1)})}function a(e,r,o){o=t(o);var i,a,u,l,w,b,M,S,x,k,O,T,C,A,z,P,E,H,D,N,F,_,I,W=o.numberFormat,L=W.groupSize[0],j=W[h],R=W[m],U=W.decimals,$=W.pattern[0],J=[],B=0>e,V=p,Y=p,G=-1;if(e===n)return p;if(!isFinite(e))return e;if(!r)return o.name.length?e.toLocaleString():""+e;if(w=c.exec(r)){if(r=w[1].toLowerCase(),a="c"===r,u="p"===r,(a||u)&&(W=a?W.currency:W.percent,L=W.groupSize[0],j=W[h],R=W[m],U=W.decimals,i=W.symbol,$=W.pattern[B?0:1]),l=w[2],l&&(U=+l),"e"===r)return l?e.toExponential(U):e.toExponential();if(u&&(e*=100),e=s(e,U),e=e.split(m),b=e[0],M=e[1],B&&(b=b.substring(1)),Y=b,S=b.length,S>=L)for(Y=p,k=0;S>k;k++)k>0&&0===(S-k)%L&&(Y+=j),Y+=b.charAt(k);if(M&&(Y+=R+M),"n"===r&&!B)return Y;for(e=p,k=0,O=$.length;O>k;k++)T=$.charAt(k),e+="n"===T?Y:"$"===T||"%"===T?i:T;return e}if(B&&(e=-e),r=r.split(";"),B&&r[1])r=r[1],A=!0;else if(0===e){if(r=r[2]||r[0],-1==r.indexOf(g)&&-1==r.indexOf(y))return r}else r=r[0];if((r.indexOf("'")>-1||r.indexOf('"')>-1)&&(r=r.replace(d,function(e){return J.push(e),v})),N=r.indexOf("%"),F=r.indexOf("$"),u=-1!=N,a=-1!=F,u&&("\\"!==r[N-1]?e*=100:r=r.split("\\").join("")),a&&"\\"===r[F-1]&&(r=r.split("\\").join(""),a=!1),(a||u)&&(W=a?W.currency:W.percent,L=W.groupSize[0],j=W[h],R=W[m],U=W.decimals,i=W.symbol),C=r.indexOf(h)>-1,C&&(r=r.replace(f,p)),z=r.indexOf(m),O=r.length,-1!=z?(M=(""+e).split("e"),M=M[1]?s(e,Math.abs(M[1])):M[0],M=M.split(m)[1]||p,E=r.lastIndexOf(y)-z,P=r.lastIndexOf(g)-z,H=E>-1,D=P>-1,k=M.length,H||D||(r=r.substring(0,z)+r.substring(z+1),O=r.length,z=-1,k=0),H&&E>P?k=E:P>E&&(D&&k>P?k=P:H&&E>k&&(k=E)),k>-1&&(e=s(e,k))):e=s(e),P=r.indexOf(g),_=E=r.indexOf(y),G=-1==P&&-1!=E?E:-1!=P&&-1==E?P:P>E?E:P,P=r.lastIndexOf(g),E=r.lastIndexOf(y),I=-1==P&&-1!=E?E:-1!=P&&-1==E?P:P>E?P:E,G==O&&(I=G),-1!=G){if(Y=(""+e).split(m),b=Y[0],M=Y[1]||p,S=b.length,x=M.length,C)if(S===L&&z-_>S)b=j+b;else if(S>L){for(Y=p,k=0;S>k;k++)k>0&&0===(S-k)%L&&(Y+=j),Y+=b.charAt(k);b=Y}for(e=r.substring(0,G),B&&!A&&(e+="-"),k=G;O>k;k++){if(T=r.charAt(k),-1==z){if(S>I-k){e+=b;break}}else if(-1!=E&&k>E&&(V=p),S>=z-k&&z-k>-1&&(e+=b,k=z),z===k){e+=(M?R:p)+M,k+=I-z+1;continue}T===y?(e+=T,V=T):T===g&&(e+=V)}if(I>=G&&(e+=r.substring(I+1)),a||u){for(Y=p,k=0,O=e.length;O>k;k++)T=e.charAt(k),Y+="$"===T||"%"===T?i:T;e=Y}if(J[0])for(O=J.length,k=0;O>k;k++)e=e.replace(v,J[k])}return e}var s,u,l=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,c=/^(n|c|p|e)(\d*)$/i,d=/["'].*?["']/g,f=/\,/g,p="",m=".",h=",",g="#",y="0",v="??",w="en-US",b={}.toString;st.cultures={"en-US":{name:w,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}}},st.culture=function(t){var o,i=st.cultures;return t===n?i.current:(o=e(t)||i[w],o.calendar=o.calendars.standard,i.current=o,Pt&&r(o.numberFormat),n)},st.findCulture=e,st.getCulture=t,st.culture(w),s=function(e,t){var n=Math.pow(10,t||0);return(Math.round(e*n)/n).toFixed(t)},u=function(e,t,r){if(t){if("[object Date]"===b.call(e))return o(e,t,r);if(typeof e===St)return a(e,t,r)}return e!==n?e:""},Pt&&(u=ct(Pt.format,Pt)),st.format=function(e){var t=arguments;return e.replace(vt,function(e,n,r){var o=t[parseInt(n,10)+1];return u(o,r?r.substring(1):"")})},st._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},st._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},st._round=s,st.toString=u}(),function(){function t(e,t,n){return!(e>=t&&n>=e)}function r(e){return e.charAt(0)}function o(t){return e.map(t,r)}function i(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}function a(e,r,a){if(!e)return null;var s,u,d,f,m,h,g,y,v,w,b,M,S=function(e){for(var t=0;r[N]===e;)t++,N++;return t>0&&(N-=1),t},x=function(t){var n=p[t]||RegExp("^\\d{1,"+t+"}"),r=e.substr(F,t).match(n);return r?(r=r[0],F+=r.length,parseInt(r,10)):null},k=function(t){for(var n,r,o=0,i=t.length;i>o;o++)if(n=t[o],r=n.length,e.substr(F,r)==n)return F+=r,o+1;return null},O=function(){var t=!1;return e.charAt(F)===r[N]&&(F++,t=!0),t},T=a.calendars.standard,C=null,A=null,z=null,P=null,E=null,H=null,D=null,N=0,F=0,_=!1,I=new Date,W=T.twoDigitYearMax||2029,L=I.getFullYear();for(r||(r="d"),f=T.patterns[r],f&&(r=f),r=r.split(""),d=r.length;d>N;N++)if(s=r[N],_)"'"===s?_=!1:O();else if("d"===s){if(u=S("d"),z=3>u?x(2):k(T.days[3==u?"namesAbbr":"names"]),null===z||t(z,1,31))return null}else if("M"===s){if(u=S("M"),A=3>u?x(2):k(T.months[3==u?"namesAbbr":"names"]),null===A||t(A,1,12))return null;A-=1}else if("y"===s){if(u=S("y"),C=x(u),null===C)return null;2==u&&("string"==typeof W&&(W=L+parseInt(W,10)),C=L-L%100+C,C>W&&(C-=100))}else if("h"===s){if(S("h"),P=x(2),12==P&&(P=0),null===P||t(P,0,11))return null}else if("H"===s){if(S("H"),P=x(2),null===P||t(P,0,23))return null}else if("m"===s){if(S("m"),E=x(2),null===E||t(E,0,59))return null}else if("s"===s){if(S("s"),H=x(2),null===H||t(H,0,59))return null}else if("f"===s){if(u=S("f"),D=x(u),null!==D&&u>3&&(D=parseInt((""+D).substring(0,3),10)),null===D||t(D,0,999))return null}else if("t"===s){if(u=S("t"),v=T.AM,w=T.PM,1===u&&(v=o(v),w=o(w)),m=k(w),!m&&!k(v))return null}else if("z"===s){if(h=!0,u=S("z"),"Z"===e.substr(F,1)){if(!g)return null;O();continue}if(y=e.substr(F,6).match(u>2?c:l),!y)return null;if(y=y[0],F=y.length,y=y.split(":"),b=parseInt(y[0],10),t(b,-12,13))return null;if(u>2&&(M=parseInt(y[1],10),isNaN(M)||t(M,0,59)))return null}else if("T"===s)g=O();else if("'"===s)_=!0,O();else if(!O())return null;return null===C&&(C=L),m&&12>P&&(P+=12),null===z&&(z=1),h?(b&&(P+=-b),M&&(E+=-M),e=new Date(Date.UTC(C,A,z,P,E,H,D))):(e=new Date(C,A,z,P,E,H,D),i(e,P)),100>C&&e.setFullYear(C),e.getDate()!==z&&h===n?null:e}var s=/\u00A0/g,u=/[eE][\-+]?[0-9]+/,l=/[+|\-]\d{1,2}/,c=/[+|\-]\d{1,2}:\d{2}/,d=/^\/Date\((.*?)\)\/$/,f=["G","g","d","F","D","y","m","T","t"],p={2:/^\d{1,2}/,4:/^\d{4}/},m={}.toString;st._adjustDate=i,st.parseDate=function(e,t,n){if("[object Date]"===m.call(e))return e;var r,o,i=0,s=null;if(e&&0===e.indexOf("/D")&&(s=d.exec(e)))return new Date(parseInt(s[1],10));if(n=st.getCulture(n),!t){for(t=[],o=n.calendar.patterns,r=f.length;r>i;i++)t[i]=o[f[i]];t[i]="ddd MMM dd yyyy HH:mm:ss",t[++i]="yyyy-MM-ddTHH:mm:ss.fffffffzzz",t[++i]="yyyy-MM-ddTHH:mm:ss.fffzzz",t[++i]="yyyy-MM-ddTHH:mm:sszzz",t[++i]="yyyy-MM-ddTHH:mmzzz",t[++i]="yyyy-MM-ddTHH:mmzz",t[++i]="yyyy-MM-ddTHH:mm:ss",t[++i]="yyyy-MM-ddTHH:mm",t[++i]="yyyy-MM-dd",i=0}for(t=dt(t)?t:[t],r=t.length;r>i;i++)if(s=a(e,t[i],n))return s;return s},st.parseInt=function(e,t){var n=st.parseFloat(e,t);return n&&(n=0|n),n},st.parseFloat=function(e,t,n){if(!e&&0!==e)return null;if(typeof e===St)return e;e=""+e,t=st.getCulture(t);var r,o,i=t.numberFormat,a=i.percent,l=i.currency,c=l.symbol,d=a.symbol,f=e.indexOf("-")>-1;return u.test(e)?(e=parseFloat(e),isNaN(e)&&(e=null),e):(e.indexOf(c)>-1||n&&n.toLowerCase().indexOf("c")>-1?(i=l,r=i.pattern[0].replace("$",c).split("n"),e.indexOf(r[0])>-1&&e.indexOf(r[1])>-1&&(e=e.replace(r[0],"").replace(r[1],""),f=!0)):e.indexOf(d)>-1&&(o=!0,i=a,c=d),e=e.replace("-","").replace(c,"").replace(s," ").split(i[","].replace(s," ")).join("").replace(i["."],"."),e=parseFloat(e),isNaN(e)?e=null:f&&(e*=-1),e&&o&&(e/=100),e)},Pt&&(st.parseDate=function(e,t,n){return"[object Date]"===m.call(e)?e:Pt.parseDate(e,t,n)},st.parseFloat=function(e,t){return typeof e===St?e:e===n||null===e?null:(e=Pt.parseFloat(e,t),isNaN(e)?null:e)})}(),function(){function t(e){var t,n=!1,r=[],o={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(t in o)if(o.hasOwnProperty(t)&&(r=e.match(o[t]))){n={},n[t]=!0,n[r[1].toLowerCase()]=!0,n.version=parseInt(document.documentMode||r[2],10);break}return n}var r,o,i,a,s,u;gt.scrollbar=function(){var e,t=document.createElement("div");return t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",t.innerHTML="&nbsp;",document.body.appendChild(t),e=t.offsetWidth-t.scrollWidth,document.body.removeChild(t),e},gt.isRtl=function(t){return e(t).closest(".k-rtl").length>0},r=document.createElement("table");try{r.innerHTML="<tr><td></td></tr>",gt.tbodyInnerHtml=!0}catch(c){gt.tbodyInnerHtml=!1}gt.touch="ontouchstart"in window,gt.pointers=navigator.msPointerEnabled,o=gt.transitions=!1,i=gt.transforms=!1,a="HTMLElement"in window?HTMLElement.prototype:[],gt.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,lt(["Moz","webkit","O","ms"],function(){var e,t=""+this,a=typeof r.style[t+"Transition"]===Mt;return a||typeof r.style[t+"Transform"]===Mt?(e=t.toLowerCase(),i={css:"ms"!=e?"-"+e+"-":"",prefix:t,event:"o"===e||"webkit"===e?e:""},a&&(o=i,o.event=o.event?o.event+"TransitionEnd":"transitionend"),!1):n}),gt.transforms=i,gt.transitions=o,gt.devicePixelRatio=window.devicePixelRatio===n?1:window.devicePixelRatio,gt.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth,gt.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight,gt.detectOS=function(e){var t,n,r=!1,o=[],i=!/mobile safari/i.test(e),a={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},s={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,meego:/meego|ffos/},u={tablet:/playbook|ipad|fire/i},c={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(n in a)if(a.hasOwnProperty(n)&&(o=e.match(a[n]))){if("windows"==n&&"plugins"in navigator)return!1;r={},r.device=n,r.tablet=l(n,u,!1),r.browser=l(e,c,"default"),r.name=l(n,s),r[r.name]=!0,r.majorVersion=o[2],r.minorVersion=o[3].replace("_","."),t=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+t+Array(3-(3>t.length?t.length:2)).join("0"),r.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||typeof window.PhoneGap!==Tt||typeof window.cordova!==Tt,r.android&&(1.5>gt.devicePixelRatio&&400>r.flatVersion||i)&&(gt.screenWidth>800||gt.screenHeight>800)&&(r.tablet=n);break}return r},s=gt.mobileOS=gt.detectOS(navigator.userAgent),gt.wpDevicePixelRatio=s.wp?screen.width/320:0,gt.kineticScrollNeeded=s&&(gt.touch||gt.pointers),gt.hasNativeScrolling=!1,(s.ios&&s.majorVersion>4||s.android&&s.majorVersion>2||s.wp)&&(gt.hasNativeScrolling=s),gt.mouseAndTouchPresent=gt.touch&&!(gt.mobileOS.ios||gt.mobileOS.android),gt.browser=t(navigator.userAgent),function(t){var n,r=parseInt(t.version,10);t.msie?n="ie":t.mozilla?n="ff":t.safari?n="safari":t.webkit?n="webkit":t.opera&&(n="opera"),n&&e(document.documentElement).addClass("k-"+n+" k-"+n+r)}(gt.browser),gt.zoomLevel=function(){return gt.touch?document.documentElement.clientWidth/window.innerWidth:gt.pointers?window.outerWidth/window.innerWidth:1},gt.eventCapture=document.documentElement.addEventListener,gt.placeholder="placeholder"in document.createElement("input"),gt.stableSort=function(){var e=[0,1,2,3,4,5,6,7,8,9,10,11,12].sort(function(){return 0});return 0===e[0]&&1===e[1]&&2===e[2]&&3===e[3]&&4===e[4]&&5===e[5]&&6===e[6]&&7===e[7]&&8===e[8]&&9===e[9]&&10===e[10]&&11===e[11]&&12===e[12]}(),gt.matchesSelector=a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.matchesSelector||function(t){for(var n=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:e(t),r=n.length;r--;)if(n[r]==this)return!0;return!1},gt.pushState=window.history&&window.history.pushState,u=document.documentMode,gt.hashChange="onhashchange"in window&&!(gt.browser.msie&&(!u||8>=u))}(),I={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},W={},e.extend(W,{Element:function(t){this.element=e(t)},promise:function(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},transitionPromise:function(e,t,n){var r=st.wrap(e);return r.append(t),e.hide(),t.show(),n.completeCallback&&n.completeCallback(e),e}}),"kendoAnimate"in e.fn||ut(e.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,n,r){return y(this,e,t,n,r)},kendoAnimateTo:function(e,t,n,r,o){return v(this,e,t,n,r,o)},kendoAddClass:function(e,t){return st.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return st.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,n){return st.toggleClass(this,e,t,n)}}),L=/&/g,j=/</g,R=/>/g,U=function(e){return e.target},gt.touch&&($="chrome"==gt.mobileOS.browser&&!gt.mobileOS.ios,U=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null,n=$?"screen":"client";return t?document.elementFromPoint(t[0][n+"X"],t[0][n+"Y"]):e.target},lt(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,n){e.fn[n]=function(e){return this.bind(n,e)}})),gt.touch?gt.mobileOS?(gt.mousedown="touchstart",gt.mouseup="touchend",gt.mousemove="touchmove",gt.mousecancel="touchcancel",gt.click="touchend",gt.resize="orientationchange"):(gt.mousedown="mousedown touchstart",gt.mouseup="mouseup touchend",gt.mousemove="mousemove touchmove",gt.mousecancel="mouseleave touchcancel",gt.click="click",gt.resize="resize"):gt.pointers?(gt.mousemove="MSPointerMove",gt.mousedown="MSPointerDown",gt.mouseup="MSPointerUp",gt.mousecancel="MSPointerCancel",gt.click="MSPointerUp",gt.resize="orientationchange resize"):(gt.mousemove="mousemove",gt.mousedown="mousedown",gt.mouseup="mouseup",gt.mousecancel="mouseleave",gt.click="click",gt.resize="resize"),J=function(e,t){var n,r,o,i,a=t||"d",s=1;for(r=0,o=e.length;o>r;r++)i=e[r],""!==i&&(n=i.indexOf("["),0!==n&&(-1==n?i="."+i:(s++,i="."+i.substring(0,n)+" || {})"+i.substring(n))),s++,a+=i+(o-1>r?" || {})":")"));return Array(s).join("(")+a},B=/^([a-z]+:)?\/\//i,ut(st,{ui:st.ui||{},fx:st.fx||h,effects:st.effects||W,mobile:st.mobile||{},data:st.data||{},dataviz:st.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123},support:st.support||gt,animate:st.animate||y,ns:"",attr:function(e){return"data-"+st.ns+e},wrap:a,deepExtend:s,getComputedStyles:c,size:d,isNodeEmpty:f,getOffset:st.getOffset||p,parseEffects:st.parseEffects||m,toggleClass:st.toggleClass||w,directions:st.directions||I,Observable:z,Class:r,Template:T,template:ct(T.compile,T),render:ct(T.render,T),stringify:ct(ht.stringify,ht),eventTarget:U,htmlEncode:b,isLocalUrl:function(e){return e&&!B.test(e)},expr:function(e,t,n){return e=e||"",typeof t==Mt&&(n=t,t=!1),n=n||"d",e&&"["!==e.charAt(0)&&(e="."+e),e=t?J(e.split("."),n):n+e},getter:function(e,t){return Ct[e]=Ct[e]||Function("d","return "+st.expr(e,t))},setter:function(e){return At[e]=At[e]||Function("d,value",st.expr(e)+"=value")},accessor:function(e){return{get:st.getter(e),set:st.setter(e)}},guid:function(){var e,t,n="";for(e=0;32>e;e++)t=0|16*mt.random(),(8==e||12==e||16==e||20==e)&&(n+="-"),n+=(12==e?4:16==e?8|3&t:t).toString(16);return n},roleSelector:function(e){return e.replace(/(\S+)/g,"["+st.attr("role")+"=$1],").slice(0,-1)},logToConsole:function(e){var t=window.console;t!==n&&t.log&&t.log(e)}}),V=z.extend({init:function(e,t){var n=this;n.element=st.jQuery(e).handler(n),z.fn.init.call(n),t=n.options=ut(!0,{},n.options,t),n.element.attr(st.attr("role"))||n.element.attr(st.attr("role"),(t.name||"").toLowerCase()),n.element.data("kendo"+t.prefix+t.name,n),n.bind(n.events,t)},events:[],options:{prefix:""},_tabindex:function(e){e=e||this.wrapper;var t=this.element,n="tabindex",r=e.attr(n)||t.attr(n);t.removeAttr(n),e.attr(n,isNaN(r)?0:r)},setOptions:function(t){for(var n,r=this,o=0,i=r.events.length;i>o;o++)n=r.events[o],r.options[n]&&t[n]&&r.unbind(n,r.options[n]);e.extend(r.options,t),r.bind(r.events,t)},destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.element.removeData("handler"),e.unbind()}}),st.notify=ft,Y=/template$/i,G=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,q=/^\{(\d+)(:[^\}]+)?\}/,K=/([A-Z])/g,st.initWidget=function(t,r,o){var i,a,s,u,l,c,d,f;if(o?o.roles&&(o=o.roles):o=st.ui.roles,t=t.nodeType?t:t[0],c=t.getAttribute("data-"+st.ns+"role"),c&&(s=-1===c.indexOf(".")?o[c]:st.getter(c)(window))){for(f=M(t,"dataSource"),r=e.extend({},S(t,s.fn.options),r),f&&(r.dataSource=typeof f===Mt?st.getter(f)(window):f),u=0,l=s.fn.events.length;l>u;u++)a=s.fn.events[u],d=M(t,a),d!==n&&(r[a]=st.getter(d)(window));return i=e(t).data("kendo"+s.fn.options.prefix+s.fn.options.name),i?i.setOptions(r):i=new s(t,r),i}},st.rolesFromNamespaces=function(e){var t,n,r=[];for(e[0]||(e=[st.ui,st.dataviz.ui]),t=0,n=e.length;n>t;t++)r[t]=e[t].roles;return ut.apply(null,[{}].concat(r.reverse()))},st.init=function(t){var n=st.rolesFromNamespaces(zt.call(arguments,1));e(t).find("[data-"+st.ns+"role]").andSelf().each(function(){st.initWidget(this,{},n)})},st.destroy=function(t){e(t).find("[data-"+st.ns+"role]").andSelf().each(function(){var t=e(this),n=st.widgetInstance(t,st.ui)||st.widgetInstance(t,st.mobile.ui)||st.widgetInstance(t,st.dataviz.ui);n&&n.destroy()})},st.parseOptions=S,ut(st.ui,{Widget:V,roles:{},progress:function(t,n){var r,o,i,a,s=t.find(".k-loading-mask"),u=st.support,l=u.browser;n?s.length||(r=u.isRtl(t),o=r?"right":"left",a=t.scrollLeft(),i=l.webkit?r?t[0].scrollWidth-t.width()-2*a:0:0,s=e("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",t.scrollTop()).css(o,Math.abs(a)+i).prependTo(t)):s&&s.remove()},plugin:function(t,r,o){var i,a=t.fn.options.name;r=r||st.ui,o=o||"",r[a]=t,r.roles[a.toLowerCase()]=t,i="getKendo"+o+a,a="kendo"+o+a,e.fn[a]=function(r){var o,i=this;return typeof r===Mt?(o=zt.call(arguments,1),this.each(function(){var t,s,u=e.data(this,a);if(!u)throw Error(st.format("Cannot call method '{0}' of {1} before it is initialized",r,a));if(t=u[r],typeof t!==bt)throw Error(st.format("Cannot find method '{0}' of {1}",r,a));return s=t.apply(u,o),s!==n?(i=s,!1):n})):this.each(function(){new t(this,r)}),i},e.fn[i]=function(){return this.data(a)}}}),Z={bind:e.noop},Q=V.extend({init:function(e,t){V.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element},destroy:function(){V.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(st.roleSelector("view splitview modalview"));return st.widgetInstance(e,st.mobile.ui)},container:function(){var e=this.element.closest(st.roleSelector("view layout modalview"));return st.widgetInstance(e,st.mobile.ui)||Z}}),ut(st.mobile,{init:function(e){st.init(e,st.mobile.ui,st.ui,st.dataviz.ui)},ui:{Widget:Q,roles:{},plugin:function(e){st.ui.plugin(e,st.mobile.ui,"Mobile")}}}),st.touchScroller=function(t,n){return e(t).map(function(t,r){return r=e(r),gt.kineticScrollNeeded&&st.mobile.ui.Scroller&&!r.data("kendoMobileScroller")?(r.kendoMobileScroller(n),r.data("kendoMobileScroller")):!1})[0]},st.preventDefault=function(e){e.preventDefault()},st.widgetInstance=function(e,t){var r=t.roles[e.data(st.ns+"role")];return r?e.data("kendo"+r.fn.options.prefix+r.fn.options.name):n},st.onResize=function(t){var n=t;gt.mobileOS.android&&(n=function(){setTimeout(t,200)}),e(window).on(gt.resize,n)},st.attrValue=function(e,t){return e.data(st.ns+t)},st.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},e.extend(e.expr[":"],{focusable:function(t){var n=e.attr(t,"tabindex");return x(t,!isNaN(n)&&n>-1)}}),X=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],et="label, input, [data-rel=external]",tt={setupMouseMute:function(){var t,n=0,r=X.length,o=document.documentElement;if(!tt.mouseTrap&&gt.eventCapture)for(tt.mouseTrap=!0,tt.bustClick=!1,tt.captureMouse=!1,t=function(t){tt.captureMouse&&("click"===t.type?tt.bustClick&&!e(t.target).is(et)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};r>n;n++)o.addEventListener(X[n],t,!0)},muteMouse:function(e){tt.captureMouse=!0,e.data.bustClick&&(tt.bustClick=!0),clearTimeout(tt.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(tt.mouseTrapTimeoutID),tt.mouseTrapTimeoutID=setTimeout(function(){tt.captureMouse=!1,tt.bustClick=!1},400)}},nt={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},gt.touch&&(gt.mobileOS.ios||gt.mobileOS.android)&&(nt={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}),gt.pointers&&(nt={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"},e.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var r,o=this,i=t.relatedTarget,a=t.handleObj;
return(!i||i!==o&&!e.contains(o,i))&&(t.type=a.origType,r=a.handler.apply(this,arguments),t.type=n),r}}})),rt=function(e){return nt[e]||e},ot=/([^ ]+)/g,st.applyEventMap=function(e,t){return e=e.replace(ot,rt),t&&(e=e.replace(ot,"$1."+t)),e},it=e.fn.on,ut(!0,O,e),O.fn=O.prototype=new e,O.fn.constructor=O,O.fn.init=function(t,n){return n&&n instanceof e&&!(n instanceof O)&&(n=O(n)),e.fn.init.call(this,t,n,at)},O.fn.init.prototype=O.fn,at=O(document),ut(O.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return this.data("kendoNS",e||st.guid()),this},on:function(){var e,t,n,r,o,i,a=this,s=a.data("kendoNS");return 1===arguments.length?it.call(a,arguments[0]):(e=a,t=zt.call(arguments),typeof t[t.length-1]===Tt&&t.pop(),n=t[t.length-1],r=st.applyEventMap(t[0],s),gt.mouseAndTouchPresent&&r.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(tt.setupMouseMute(),o=2===t.length?null:t[1],i=r.indexOf("click")>-1&&r.indexOf("touchend")>-1,it.call(this,{touchstart:tt.muteMouse,touchend:tt.unMuteMouse},o,{bustClick:i})),typeof n===Mt&&(e=a.data("handler"),n=e[n],t[t.length-1]=function(t){n.call(e,t)}),t[0]=r,it.apply(a,t),a)},kendoDestroy:function(e){return e=e||this.data("kendoNS"),e&&this.off("."+e),this}}),st.jQuery=O,st.eventMap=nt})(jQuery,eval),"undefined"==typeof kendo_module&&(kendo_module=function(){});;(function(e,t){function r(e,t,r,n){return function(i){var a,s={};for(a in i)s[a]=i[a];s.field=n?r+"."+i.field:r,e.trigger(t,s)}}function n(t,r){if(t===r)return!0;var i,a=e.type(t),s=e.type(r);if(a!==s)return!1;if("date"===a)return t.getTime()===r.getTime();if("object"!==a&&"array"!==a)return!1;for(i in t)if(!n(t[i],r[i]))return!1;return!0}function i(e,t){var r,n;for(n in e){if(r=e[n],$(r)&&r.field&&r.field===t)return r;if(r===t)return r}return null}function a(e){this.data=e||[]}function s(e,r){if(e){var n=typeof e===it?{field:e,dir:r}:e,i=W(n)?n:n!==t?[n]:[];return X(i,function(e){return!!e.dir})}}function o(e){var t,r,n,i,a=e.filters;if(a)for(t=0,r=a.length;r>t;t++)n=a[t],i=n.operator,i&&typeof i===it&&(n.operator=R[i.toLowerCase()]||i),o(n)}function u(e){return e&&!K(e)?((W(e)||!e.filters)&&(e={logic:"and",filters:W(e)?e:[e]}),o(e),e):t}function l(e){return W(e)?e:[e]}function d(e,r){var n=typeof e===it?{field:e,dir:r}:e,i=W(n)?n:n!==t?[n]:[];return z(i,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates}})}function f(e,t){return e&&e.getTime&&t&&t.getTime?e.getTime()===t.getTime():e===t}function c(e,t,r,n,i){var a,s,o,u,l;for(t=t||[],u=t.length,a=0;u>a;a++)s=t[a],o=s.aggregate,l=s.field,e[l]=e[l]||{},e[l][o]=D[o.toLowerCase()](e[l][o],r,tt.accessor(l),n,i)}function g(e){var t,r=e.length,n=Array(r);for(t=0;r>t;t++)n[t]=e[t].toJSON();return n}function h(e,t){t=t||{};var r=new a(e),n=t.aggregate,i=t.filter;return i&&(r=r.filter(i)),r.aggregate(n)}function p(e,t,r){var n,i,a,s;for(a=0,s=e.length;s>a;a++){n=e[a];for(i in t)n[i]=r._parse(i,t[i](n))}}function _(e,t,r){var n,i,a;for(i=0,a=e.length;a>i;i++)n=e[i],n.value=r._parse(n.field,n.value),n.hasSubgroups?_(n.items,t,r):p(n.items,t,r)}function v(e,t,r,n){return function(i){return i=e(i),i&&!K(n)&&("[object Array]"===At.call(i)||i instanceof Tt||(i=[i]),r(i,n,new t)),i||[]}}function m(e,t,r,n){for(var i,a,s=0;t.length&&n&&(i=t[s],a=i.items,e&&e.field===i.field&&e.value===i.value?(e.hasSubgroups&&e.items.length?m(e.items[e.items.length-1],i.items,r,n):(a=a.slice(r,n),n-=a.length,e.items=e.items.concat(a)),t.splice(s--,1)):(a=a.slice(r,n),n-=a.length,i.items=a,i.items.length||t.splice(s--,1)),r=0,!(++s>=t.length)););}function y(e){var t,r,n=[];for(t=0,r=e.length;r>t;t++)n=e[t].hasSubgroups?n.concat(y(e[t].items)):n.concat(e[t].items.slice());return n}function w(e,t){var r,n,i,a;if(t)for(r=0,n=e.length;n>r;r++)i=e[r],a=i.items,i.hasSubgroups?w(a,t):!a.length||a[0]instanceof t||(a.type=t,a.wrapAll(a,a))}function S(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(e[r].hasSubgroups){if(S(e[r].items,t))return!0}else if(t(e[r].items,e[r]))return!0}function b(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(e[r].uid==t.uid)return t=e[r],e.splice(r,1),t}function q(e,t){var r,n,i,a;for(i=e.length-1,a=0;i>=a;i--)n=e[i],r={value:t.get(n.field),field:n.field,items:r?[r]:[t],hasSubgroups:!!r,aggregates:{}};return r}function k(e,t){return t?C(e,function(e){return e[t.idField]===t.id}):-1}function x(e,t){return t?C(e,function(e){return e.uid==t.uid}):-1}function C(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(t(e[r]))return r;return-1}function F(t,r){var n,i,a,s,o,u=e(t)[0].children,l=[],d=r[0],f=r[1];for(n=0,i=u.length;i>n;n++)a={},o=u[n],o.disabled||(a[d.field]=o.text,s=o.attributes.value,s=s&&s.specified?o.value:o.text,a[f.field]=s,l.push(a));return l}function O(t,r){var n,i,a,s,o,u,l,d=e(t)[0].tBodies[0],f=d?d.rows:[],c=r.length,g=[];for(n=0,i=f.length;i>n;n++){for(o={},l=!0,s=f[n].cells,a=0;c>a;a++)u=s[a],"th"!==u.nodeName.toLowerCase()&&(l=!1,o[r[a].field]=u.innerHTML);l||g.push(o)}return g}function A(e){return function(){var t=this._data,r=B.fn[e].apply(this,Ft.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),r}}function P(t,r){var n,i,a,s,o,u,l,d,f=e(t).children(),c=[],g=r[0].field,h=r[1]&&r[1].field,p=r[2]&&r[2].field,_=r[3]&&r[3].field;for(n=0,i=f.length;i>n;n++)a={_loaded:!0},s=f.eq(n),u=s[0].firstChild,d=s.children(),t=d.filter("ul"),d=d.filter(":not(ul)"),o=s.attr("data-id"),o&&(a.id=o),u&&(a[g]=3==u.nodeType?u.nodeValue:d.text()),h&&(a[h]=d.find("a").attr("href")),_&&(a[_]=d.find("img").attr("src")),p&&(l=d.find(".k-sprite").prop("className"),a[p]=l&&e.trim(l.replace("k-sprite",""))),t.length&&(a.items=P(t.eq(0),r)),"true"==s.attr("data-hasChildren")&&(a.hasChildren=!0),c.push(a);return c}var z,N,j,T,R,D,M,L,G,E,B,I,J,H,U=e.extend,V=e.proxy,Q=e.isFunction,$=e.isPlainObject,K=e.isEmptyObject,W=e.isArray,X=e.grep,Y=e.ajax,Z=e.each,et=e.noop,tt=window.kendo,rt=tt.Observable,nt=tt.Class,it="string",at="function",st="create",ot="read",ut="update",lt="destroy",dt="change",ft="sync",ct="get",gt="error",ht="requestStart",pt="progress",_t="requestEnd",vt=[st,ot,ut,lt],mt=function(e){return e},yt=tt.getter,wt=tt.stringify,St=Math,bt=[].push,qt=[].join,kt=[].pop,xt=[].splice,Ct=[].shift,Ft=[].slice,Ot=[].unshift,At={}.toString,Pt=tt.support.stableSort,zt=/^\/Date\((.*?)\)\/$/,Nt=/(\r+|\n+)/g,jt=/(?=['\\])/g,Tt=rt.extend({init:function(e,t){var r=this;r.type=t||Rt,rt.fn.init.call(r),r.length=e.length,r.wrapAll(e,r)},toJSON:function(){var e,t,r=this.length,n=Array(r);for(e=0;r>e;e++)t=this[e],t instanceof Rt&&(t=t.toJSON()),n[e]=t;return n},parent:et,wrapAll:function(e,t){var r,n,i=this,a=function(){return i};for(t=t||[],r=0,n=e.length;n>r;r++)t[r]=i.wrap(e[r],a);return t},wrap:function(e,t){var r,n=this;return null!==e&&"[object Object]"===At.call(e)&&(r=e instanceof n.type||e instanceof Lt,r||(e=e instanceof Rt?e.toJSON():e,e=new n.type(e)),e.parent=t,e.bind(dt,function(e){n.trigger(dt,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemchange":"itemchange"})})),e},push:function(){var e,t=this.length,r=this.wrapAll(arguments);return e=bt.apply(this,r),this.trigger(dt,{action:"add",index:t,items:r}),e},slice:Ft,join:qt,pop:function(){var e=this.length,t=kt.apply(this);return e&&this.trigger(dt,{action:"remove",index:e-1,items:[t]}),t},splice:function(e,t,r){var n,i,a,s=this.wrapAll(Ft.call(arguments,2));if(n=xt.apply(this,[e,t].concat(s)),n.length)for(this.trigger(dt,{action:"remove",index:e,items:n}),i=0,a=n.length;a>i;i++)n[i].children&&n[i].unbind(dt);return r&&this.trigger(dt,{action:"add",index:e,items:s}),n},shift:function(){var e=this.length,t=Ct.apply(this);return e&&this.trigger(dt,{action:"remove",index:0,items:[t]}),t},unshift:function(){var e,t=this.wrapAll(arguments);return e=Ot.apply(this,t),this.trigger(dt,{action:"add",index:0,items:t}),e},indexOf:function(e){var t,r,n=this;for(t=0,r=n.length;r>t;t++)if(n[t]===e)return t;return-1},forEach:function(e){for(var t=0,r=this.length;r>t;t++)e(this[t],t,this)},map:function(e){for(var t=0,r=[],n=this.length;n>t;t++)r[t]=e(this[t],t,this);return r},filter:function(e){for(var t,r=0,n=[],i=this.length;i>r;r++)t=this[r],e(t,r,this)&&(n[n.length]=t);return n},find:function(e){for(var t,r=0,n=this.length;n>r;r++)if(t=this[r],e(t,r,this))return t},every:function(e){for(var t,r=0,n=this.length;n>r;r++)if(t=this[r],!e(t,r,this))return!1;return!0},some:function(e){for(var t,r=0,n=this.length;n>r;r++)if(t=this[r],e(t,r,this))return!0;return!1},remove:function(e){this.splice(this.indexOf(e),1)}}),Rt=rt.extend({init:function(e){var t,r,n=this,i=function(){return n};rt.fn.init.call(this);for(r in e)t=e[r],"_"!=r.charAt(0)&&(t=n.wrap(t,r,i)),n[r]=t;n.uid=tt.guid()},shouldSerialize:function(e){return this.hasOwnProperty(e)&&"_events"!==e&&typeof this[e]!==at&&"uid"!==e},forEach:function(e){for(var t in this)this.shouldSerialize(t)&&e(this[t],t)},toJSON:function(){var e,t,r={};for(t in this)this.shouldSerialize(t)&&(e=this[t],(e instanceof Rt||e instanceof Tt)&&(e=e.toJSON()),r[t]=e);return r},get:function(e){var t,r=this;return r.trigger(ct,{field:e}),t="this"===e?r:tt.getter(e,!0)(r)},_set:function(e,r){var n,i,a,s=this;if(e.indexOf("."))for(n=e.split("."),i="";n.length>1;){if(i+=n.shift(),a=tt.getter(i,!0)(s),a instanceof Rt)return a.set(n.join("."),r),t;i+="."}tt.setter(e)(s,r)},set:function(e,t){var r=this,n=tt.getter(e,!0)(r);n!==t&&(r.trigger("set",{field:e,value:t})||(r._set(e,r.wrap(t,e,function(){return r})),r.trigger(dt,{field:e})))},parent:et,wrap:function(e,t,n){var i,a,s=this,o=At.call(e);return null==e||"[object Object]"!==o&&"[object Array]"!==o||(i=e instanceof Tt,a=e instanceof B,"[object Object]"!==o||a||i?("[object Array]"===o||i||a)&&(i||a||(e=new Tt(e)),e.parent()!=n()&&e.bind(dt,r(s,dt,t,!1))):(e instanceof Rt||(e=new Rt(e)),e.parent()!=n()&&(e.bind(ct,r(s,ct,t,!0)),e.bind(dt,r(s,dt,t,!0)))),e.parent=n),e}}),Dt={number:function(e){return tt.parseFloat(e)},date:function(e){return tt.parseDate(e)},"boolean":function(e){return typeof e===it?"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return null!=e?e+"":e},"default":function(e){return e}},Mt={string:"",number:0,date:new Date,"boolean":!1,"default":""},Lt=Rt.extend({init:function(r){var n=this;(!r||e.isEmptyObject(r))&&(r=e.extend({},n.defaults,r)),Rt.fn.init.call(n,r),n.dirty=!1,n.idField&&(n.id=n.get(n.idField),n.id===t&&(n.id=n._defaultId))},shouldSerialize:function(e){return Rt.fn.shouldSerialize.call(this,e)&&"uid"!==e&&!("id"!==this.idField&&"id"===e)&&"dirty"!==e&&"_accessors"!==e},_parse:function(e,t){var r,n=this,a=e,s=n.fields||{};return e=s[e],e||(e=i(s,a)),e&&(r=e.parse,!r&&e.type&&(r=Dt[e.type.toLowerCase()])),r?r(t):t},editable:function(e){return e=(this.fields||{})[e],e?e.editable!==!1:!0},set:function(e,t,r){var i=this;i.editable(e)&&(t=i._parse(e,t),n(t,i.get(e))||(i.dirty=!0,Rt.fn.set.call(i,e,t,r)))},accept:function(e){var t,r=this,n=function(){return r};for(t in e)r._set(t,r.wrap(e[t],t,n));r.idField&&(r.id=r.get(r.idField)),r.dirty=!1},isNew:function(){return this.id===this._defaultId}});Lt.define=function(e,r){r===t&&(r=e,e=Lt);var n,i,a,s,o,u,l,d=U({defaults:{}},r),f={},c=d.id;if(c&&(d.idField=c),d.id&&delete d.id,c&&(d.defaults[c]=d._defaultId=""),"[object Array]"===At.call(d.fields)){for(u=0,l=d.fields.length;l>u;u++)a=d.fields[u],typeof a===it?f[a]={}:a.field&&(f[a.field]=a);d.fields=f}for(i in d.fields)a=d.fields[i],s=a.type||"default",o=null,i=typeof a.field===it?a.field:i,a.nullable||(o=d.defaults[i]=a.defaultValue!==t?a.defaultValue:Mt[s.toLowerCase()]),r.id===i&&(d._defaultId=o),d.defaults[i]=o,a.parse=a.parse||Dt[s];return n=e.extend(d),n.define=function(e){return Lt.define(n,e)},d.fields&&(n.fields=d.fields,n.idField=d.idField),n},N={selector:function(e){return Q(e)?e:yt(e)},asc:function(e){var t=this.selector(e);return function(e,r){return e=t(e),r=t(r),null==e&&null==r?0:null==e?-1:null==r?1:e>r?1:r>e?-1:0}},desc:function(e){var t=this.selector(e);return function(e,r){return e=t(e),r=t(r),null==e&&null==r?0:null==r?-1:null==e?1:r>e?1:e>r?-1:0}},create:function(e){return this[e.dir.toLowerCase()](e.field)},combine:function(e){return function(t,r){var n,i,a=e[0](t,r);for(n=1,i=e.length;i>n;n++)a=a||e[n](t,r);return a}}},j=U({},N,{asc:function(e){var t=this.selector(e);return function(e,r){var n=t(e),i=t(r);return n&&n.getTime&&i&&i.getTime&&(n=n.getTime(),i=i.getTime()),n===i?e.__position-r.__position:null==n?-1:null==i?1:n>i?1:i>n?-1:e.__position-r.__position}},desc:function(e){var t=this.selector(e);return function(e,r){var n=t(e),i=t(r);return n&&n.getTime&&i&&i.getTime&&(n=n.getTime(),i=i.getTime()),n===i?e.__position-r.__position:null==n?1:null==i?-1:i>n?1:n>i?-1:e.__position-r.__position}}}),z=function(e,t){var r,n=e.length,i=Array(n);for(r=0;n>r;r++)i[r]=t(e[r],r,e);return i},T=function(){function e(e){return e.replace(jt,"\\").replace(Nt,"")}function t(t,r,n,i){var a;return null!=n&&(typeof n===it&&(n=e(n),a=zt.exec(n),a?n=new Date(+a[1]):i?(n="'"+n.toLowerCase()+"'",r="("+r+" || '').toLowerCase()"):n="'"+n+"'"),n.getTime&&(r="("+r+"?"+r+".getTime():"+r+")",n=n.getTime())),r+" "+t+" "+n}return{eq:function(e,r,n){return t("==",e,r,n)},neq:function(e,r,n){return t("!=",e,r,n)},gt:function(e,r,n){return t(">",e,r,n)},gte:function(e,r,n){return t(">=",e,r,n)},lt:function(e,r,n){return t("<",e,r,n)},lte:function(e,r,n){return t("<=",e,r,n)},startswith:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".lastIndexOf('"+r+"', 0) == 0"},endswith:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".indexOf('"+r+"', "+t+".length - "+(r||"").length+") >= 0"},contains:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".indexOf('"+r+"') >= 0"},doesnotcontain:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".indexOf('"+r+"') == -1"}}}(),a.filterExpr=function(e){var r,n,i,s,o,u,l=[],d={and:" && ",or:" || "},f=[],c=[],g=e.filters;for(r=0,n=g.length;n>r;r++)i=g[r],o=i.field,u=i.operator,i.filters?(s=a.filterExpr(i),i=s.expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(c.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(f.length+t)+"]"}),c.push.apply(c,s.operators),f.push.apply(f,s.fields)):(typeof o===at?(s="__f["+f.length+"](d)",f.push(o)):s=tt.expr(o),typeof u===at?(i="__o["+c.length+"]("+s+", "+i.value+")",c.push(u)):i=T[(u||"eq").toLowerCase()](s,i.value,i.ignoreCase!==t?i.ignoreCase:!0)),l.push(i);return{expression:"("+l.join(d[e.logic])+")",fields:f,operators:c}},R={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"},a.normalizeFilter=u,a.prototype={toArray:function(){return this.data},range:function(e,t){return new a(this.data.slice(e,e+t))},skip:function(e){return new a(this.data.slice(e))},take:function(e){return new a(this.data.slice(0,e))},select:function(e){return new a(z(this.data,e))},orderBy:function(e){var t=this.data.slice(0),r=Q(e)||!e?N.asc(e):e.compare;return new a(t.sort(r))},orderByDescending:function(e){return new a(this.data.slice(0).sort(N.desc(e)))},sort:function(e,t,r){var n,i,a=s(e,t),o=[];if(r=r||N,a.length){for(n=0,i=a.length;i>n;n++)o.push(r.create(a[n]));return this.orderBy({compare:r.combine(o)})}return this},filter:function(e){var t,r,n,i,s,o,l,d,f=this.data,c=[];if(e=u(e),!e||0===e.filters.length)return this;for(i=a.filterExpr(e),o=i.fields,l=i.operators,s=d=Function("d, __f, __o","return "+i.expression),(o.length||l.length)&&(d=function(e){return s(e,o,l)}),t=0,n=f.length;n>t;t++)r=f[t],d(r)&&c.push(r);return new a(c)},group:function(e,t){e=d(e||[]),t=t||this.data;var r,n=this,i=new a(n.data);return e.length>0&&(r=e[0],i=i.groupBy(r).select(function(n){var i=new a(t).filter([{field:n.field,operator:"eq",value:n.value}]);return{field:n.field,value:n.value,items:e.length>1?new a(n.items).group(e.slice(1),i.toArray()).toArray():n.items,hasSubgroups:e.length>1,aggregates:i.aggregate(r.aggregates)}})),i},groupBy:function(e){if(K(e)||!this.data.length)return new a([]);var t,r,n,i,s=e.field,o=this._sortForGrouping(s,e.dir||"asc"),u=tt.accessor(s),l=u.get(o[0],s),d={field:s,value:l,items:[]},c=[d];for(n=0,i=o.length;i>n;n++)t=o[n],r=u.get(t,s),f(l,r)||(l=r,d={field:s,value:l,items:[]},c.push(d)),d.items.push(t);return new a(c)},_sortForGrouping:function(e,t){var r,n,i=this.data;if(!Pt){for(r=0,n=i.length;n>r;r++)i[r].__position=r;for(i=new a(i).sort(e,t,j).toArray(),r=0,n=i.length;n>r;r++)delete i[r].__position;return i}return this.sort(e,t).toArray()},aggregate:function(e){var t,r,n={};if(e&&e.length)for(t=0,r=this.data.length;r>t;t++)c(n,e,this.data[t],t,r);return n}},D={sum:function(e,t,r){return(e||0)+r.get(t)},count:function(e){return(e||0)+1},average:function(e,t,r,n,i){return e=(e||0)+r.get(t),n==i-1&&(e/=i),e},max:function(e,t,r){var n=r.get(t);return e=e||0,n>e&&(e=n),e},min:function(e,t,r){var n=r.get(t);return e=e||n,e>n&&(e=n),e}},a.process=function(e,r){r=r||{};var n,i=new a(e),o=r.group,u=d(o||[]).concat(s(r.sort||[])),l=r.filter,f=r.skip,c=r.take;return l&&(i=i.filter(l),n=i.toArray().length),u&&(i=i.sort(u),o&&(e=i.toArray())),f!==t&&c!==t&&(i=i.range(f,c)),o&&(i=i.group(o,e)),{total:n,data:i.toArray()}},M=nt.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),L=nt.extend({init:function(e){var t,r=this;e=r.options=U({},r.options,e),Z(vt,function(t,r){typeof e[r]===it&&(e[r]={url:e[r]})}),r.cache=e.cache?G.create(e.cache):{find:et,add:et},t=e.parameterMap,r.parameterMap=Q(t)?t:function(e){var r={};return Z(e,function(e,n){e in t&&(e=t[e],$(e)&&(n=e.value(n),e=e.key)),r[e]=n}),r}},options:{parameterMap:mt},create:function(e){return Y(this.setup(e,st))},read:function(r){var n,i,a,s=this,o=s.cache;r=s.setup(r,ot),n=r.success||et,i=r.error||et,a=o.find(r.data),a!==t?n(a):(r.success=function(e){o.add(r.data,e),n(e)},e.ajax(r))},update:function(e){return Y(this.setup(e,ut))},destroy:function(e){return Y(this.setup(e,lt))},setup:function(e,t){e=e||{};var r,n=this,i=n.options[t],a=Q(i.data)?i.data(e.data):i.data;return e=U(!0,{},i,e),r=U(!0,{},a,e.data),e.data=n.parameterMap(r,t),Q(e.url)&&(e.url=e.url(r)),e}}),G=nt.extend({init:function(){this._store={}},add:function(e,r){e!==t&&(this._store[wt(e)]=r)},find:function(e){return this._store[wt(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[wt(e)]}}),G.create=function(e){var t={inmemory:function(){return new G}};return $(e)&&Q(e.find)?e:e===!0?new G:t[e]()},E=nt.extend({init:function(e){var t,r,n,i,a,s,o,u=this;e=e||{};for(t in e)r=e[t],u[t]=typeof r===it?yt(r):r;i=e.modelBase||Lt,$(u.model)&&(u.model=n=i.define(u.model)),u.model&&(a=V(u.data,u),s=V(u.groups,u),o={},n=u.model,n.fields&&Z(n.fields,function(e,t){$(t)&&t.field?o[t.field]=yt(t.field):o[e]=yt(e)}),u.data=v(a,n,p,o),u.groups=v(s,n,_,o))},errors:function(e){return e?e.errors:null},parse:mt,data:mt,total:function(e){return e.length},groups:mt,status:function(e){return e.status},aggregates:function(){return{}}}),B=rt.extend({init:function(e){var r,n,i=this;e&&(n=e.data),e=i.options=U({},i.options,e),i._map={},i._prefetch={},i._data=[],i._ranges=[],i._view=[],i._pristine=[],i._destroyed=[],i._pageSize=e.pageSize,i._page=e.page||(e.pageSize?1:t),i._sort=s(e.sort),i._filter=u(e.filter),i._group=d(e.group),i._aggregate=e.aggregate,i._total=e.total,rt.fn.init.call(i),i.transport=I.create(e,n),i.reader=new tt.data.readers[e.schema.type||"json"](e.schema),r=i.reader.model||{},i._data=i._observe(i._data),i.bind([gt,dt,ht,ft,_t,pt],e)},options:{data:[],schema:{modelBase:Lt},serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_flatData:function(e){return this._isServerGrouped()?y(e):e},parent:et,get:function(e){var t,r,n=this._flatData(this._data);for(t=0,r=n.length;r>t;t++)if(n[t].id==e)return n[t]},getByUid:function(e){var t,r,n=this._flatData(this._data);if(n)for(t=0,r=n.length;r>t;t++)if(n[t].uid==e)return n[t]},indexOf:function(e){return x(this._data,e)},at:function(e){return this._data[e]},data:function(e){var r=this;return e===t?r._data:(r._data=this._observe(e),r._ranges=[],r._addRange(r._data),r._total=r._data.length,r._process(r._data),t)},view:function(){return this._view},add:function(e){return this.insert(this._data.length,e)},insert:function(e,t){return t||(t=e,e=0),t instanceof Lt||(t=this.reader.model?new this.reader.model(t):new Rt(t)),this._isServerGrouped()?this._data.splice(e,0,q(this.group(),t)):this._data.splice(e,0,t),t},remove:function(e){var r,n=this,i=n._isServerGrouped();return this._eachItem(n._data,function(a){return r=b(a,e),r&&i?(r.isNew&&r.isNew()||n._destroyed.push(r),!0):t}),e},sync:function(){var t,r,n,i=this,a=[],s=[],o=i._destroyed,u=i._flatData(i._data);if(i.reader.model){for(t=0,r=u.length;r>t;t++)u[t].isNew()?a.push(u[t]):u[t].dirty&&s.push(u[t]);n=i._send("create",a),n.push.apply(n,i._send("update",s)),n.push.apply(n,i._send("destroy",o)),e.when.apply(null,n).then(function(){var e,t;for(e=0,t=arguments.length;t>e;e++)i._accept(arguments[e]);i._change({action:"sync"}),i.trigger(ft)})}},cancelChanges:function(e){var t=this,r=t._readData(t._pristine);e instanceof tt.data.Model?t._cancelModel(e):(t._destroyed=[],t._data=t._observe(r),t.options.serverPaging&&(t._total=t.reader.total(t._pristine)),t._change())},hasChanges:function(){var e,t,r=this._data;if(this._destroyed.length)return!0;for(e=0,t=r.length;t>e;e++)if(r[e].isNew()||r[e].dirty)return!0;return!1},_accept:function(t){var r,n=this,i=t.models,a=t.response,s=0,o=n._isServerGrouped(),u=n._readData(n._pristine),l=t.type;if(n.trigger(_t,{response:a,type:l}),a&&!K(a)){if(a=n.reader.parse(a),n._handleCustomErrors(a))return;a=n.reader.data(a),e.isArray(a)||(a=[a])}else a=e.map(i,function(e){return e.toJSON()});for("destroy"===l&&(n._destroyed=[]),s=0,r=i.length;r>s;s++)"destroy"!==l?(i[s].accept(a[s]),"create"===l?u.push(o?q(n.group(),i[s]):a[s]):"update"===l&&n._updatePristineForModel(i[s],a[s])):n._removePristineForModel(i[s])},_updatePristineForModel:function(e,t){this._executeOnPristineForModel(e,function(e,r){tt.deepExtend(r[e],t)})},_executeOnPristineForModel:function(e,r){this._eachPristineItem(function(n){var i=k(n,e);return i>-1?(r(i,n),!0):t})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t(e)},_eachPristineItem:function(e){this._eachItem(this._readData(this._pristine),e)},_eachItem:function(e,t){e&&e.length&&(this._isServerGrouped()?S(e,t):t(e))},_pristineForModel:function(e){var r,n,i=function(i){return n=k(i,e),n>-1?(r=i[n],!0):t};return this._eachPristineItem(i),r},_cancelModel:function(e){var t,r=this._pristineForModel(e);this._eachItem(this._data,function(n){t=x(n,e),-1!=t&&(!e.isNew()&&r?n[t].accept(r):n.splice(t,1))})},_promise:function(t,r,n){var i=this,a=i.transport;return e.Deferred(function(e){a[n].call(a,U({success:function(t){e.resolve({response:t,models:r,type:n})},error:function(t,r,n){e.reject(t),i.error(t,r,n)}},t))}).promise()},_send:function(e,t){var r,n,i=this,a=[];if(i.options.batch)t.length&&a.push(i._promise({data:{models:g(t)}},t,e));else for(r=0,n=t.length;n>r;r++)a.push(i._promise({data:t[r].toJSON()},[t[r]],e));return a},read:function(e){var t=this,r=t._params(e);t._queueRequest(r,function(){t.trigger(ht)?t._dequeueRequest():(t.trigger(pt),t._ranges=[],t.transport.read({data:r,success:V(t.success,t),error:V(t.error,t)}))})},success:function(r){var n=this,i=n.options;return n.trigger(_t,{response:r,type:"read"}),r=n.reader.parse(r),n._handleCustomErrors(r)?(n._dequeueRequest(),t):(n._pristine=$(r)?e.extend(!0,{},r):r.slice?r.slice(0):r,n._total=n.reader.total(r),n._aggregate&&i.serverAggregates&&(n._aggregateResult=n.reader.aggregates(r)),r=n._readData(r),n._data=n._observe(r),n._addRange(n._data),n._dequeueRequest(),n._process(n._data),t)},_addRange:function(e){var t=this,r=t._skip||0,n=r+t._flatData(e).length;t._ranges.push({start:r,end:n,data:e}),t._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,r){this._dequeueRequest(),this.trigger(_t,{}),this.trigger(gt,{xhr:e,status:t,errorThrown:r})},_params:function(e){var t=this,r=U({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},e);return t.options.serverPaging||(delete r.take,delete r.skip,delete r.page,delete r.pageSize),t.options.serverGrouping||delete r.group,t.options.serverFiltering||delete r.filter,t.options.serverSorting||delete r.sort,t.options.serverAggregates||delete r.aggregate,r},_queueRequest:function(e,r){var n=this;n._requestInProgress?n._pending={callback:V(r,n),options:e}:(n._requestInProgress=!0,n._pending=t,r())},_dequeueRequest:function(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(gt,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_observe:function(e){var t=this,r=t.reader.model,n=!1;return r&&e.length&&(n=!(e[0]instanceof r)),e instanceof Tt?n&&(e.type=t.reader.model,e.wrapAll(e,e)):(e=new Tt(e,t.reader.model),e.parent=function(){return t.parent()}),t._isServerGrouped()&&w(e,r),e.bind(dt,V(t._change,t))},_change:function(e){var t,r,n,i=this,a=e?e.action:"";if("remove"===a)for(t=0,r=e.items.length;r>t;t++)e.items[t].isNew&&e.items[t].isNew()||i._destroyed.push(e.items[t]);!i.options.autoSync||"add"!==a&&"remove"!==a&&"itemchange"!==a?(n=i._total||i.reader.total(i._pristine),"add"===a?n+=e.items.length:"remove"===a?n-=e.items.length:"itemchange"===a||"sync"===a||i.options.serverPaging||(n=i.reader.total(i._pristine)),i._total=n,i._process(i._data,e)):i.sync()},_process:function(e,r){var n,i=this,s={};i.options.serverPaging!==!0&&(s.skip=i._skip,s.take=i._take||i._pageSize,s.skip===t&&i._page!==t&&i._pageSize!==t&&(s.skip=(i._page-1)*i._pageSize)),i.options.serverSorting!==!0&&(s.sort=i._sort),i.options.serverFiltering!==!0&&(s.filter=i._filter),i.options.serverGrouping!==!0&&(s.group=i._group),i.options.serverAggregates!==!0&&(s.aggregate=i._aggregate,i._aggregateResult=h(e,s)),n=a.process(e,s),i._view=n.data,n.total===t||i.options.serverFiltering||(i._total=n.total),r=r||{},r.items=r.items||i._view,i.trigger(dt,r)},_mergeState:function(e){var r=this;return e!==t&&(r._pageSize=e.pageSize,r._page=e.page,r._sort=e.sort,r._filter=e.filter,r._group=e.group,r._aggregate=e.aggregate,r._skip=e.skip,r._take=e.take,r._skip===t&&(r._skip=r.skip(),e.skip=r.skip()),r._take===t&&r._pageSize!==t&&(r._take=r._pageSize,e.take=r._take),e.sort&&(r._sort=e.sort=s(e.sort)),e.filter&&(r._filter=e.filter=u(e.filter)),e.group&&(r._group=e.group=d(e.group)),e.aggregate&&(r._aggregate=e.aggregate=l(e.aggregate))),e},query:function(e){var r,n=this,i=n.options.serverSorting||n.options.serverPaging||n.options.serverFiltering||n.options.serverGrouping||n.options.serverAggregates;i||(n._data===t||0===n._data.length)&&!n._destroyed.length?n.read(n._mergeState(e)):n.trigger(ht)||(n.trigger(pt),r=a.process(n._data,n._mergeState(e)),n.options.serverFiltering||(n._total=r.total!==t?r.total:n._data.length),n._view=r.data,n._aggregateResult=h(n._data,e),n.trigger(_t,{}),n.trigger(dt,{items:r.data}))},fetch:function(e){var t=this;e&&Q(e)&&t.one(dt,e),t._query()},_query:function(e){var t=this;t.query(U({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var r=this,n=r.page(),i=r.total();return e=e||{},!n||i&&n+1>r.totalPages()?t:(r._skip=n*r.take(),n+=1,e.page=n,r._query(e),n)},prev:function(e){var r=this,n=r.page();return e=e||{},n&&1!==n?(r._skip=r._skip-r.take(),n-=1,e.page=n,r._query(e),n):t},page:function(e){var r,n=this;return e!==t?(e=St.max(St.min(St.max(e,1),n.totalPages()),1),n._query({page:e}),t):(r=n.skip(),r!==t?St.round((r||0)/(n.take()||1))+1:t)},pageSize:function(e){var r=this;return e!==t?(r._query({pageSize:e,page:1}),t):r.take()},sort:function(e){var r=this;return e!==t?(r._query({sort:e}),t):r._sort},filter:function(e){var r=this;return e===t?r._filter:(r._query({filter:e,page:1}),t)},group:function(e){var r=this;return e!==t?(r._query({group:e}),t):r._group},total:function(){return this._total||0},aggregate:function(e){var r=this;return e!==t?(r._query({aggregate:e}),t):r._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var e=this,t=e.pageSize()||e.total();return St.ceil((e.total()||0)/t)},inRange:function(e,t){var r=this,n=St.min(e+t,r.total());return!r.options.serverPaging&&r.data.length>0?!0:r._findRange(e,n).length>0},range:function(e,r){var n,i,a,s,o,u,l;if(e=St.min(e||0,this.total()),i=this,a=St.max(St.floor(e/r),0)*r,s=St.min(a+r,i.total()),n=i._findRange(e,St.min(e+r,i.total())),n.length){i._skip=e>i.skip()?St.min(s,(i.totalPages()-1)*i.take()):a,i._take=r,o=i.options.serverPaging,u=i.options.serverSorting,l=i.options.serverFiltering;try{i.options.serverPaging=!0,i.options.serverSorting=!0,i.options.serverFiltering=!0,o&&(i._data=n=i._observe(n)),i._process(n)}finally{i.options.serverPaging=o,i.options.serverSorting=u,i.options.serverFiltering=l}}else r!==t&&(i._rangeExists(a,s)?e>a&&i.prefetch(s,r,function(){i.range(e,r)}):i.prefetch(a,r,function(){e>a&&i.total()>s&&!i._rangeExists(s,St.min(s+r,i.total()))?i.prefetch(s,r,function(){i.range(e,r)}):i.range(e,r)}))},_findRange:function(e,r){var n,i,o,u,l,f,c,g,h,p,_,v,m=this,y=m._ranges,w=[],S=m.options,b=S.serverSorting||S.serverPaging||S.serverFiltering||S.serverGrouping||S.serverAggregates;for(i=0,_=y.length;_>i;i++)if(n=y[i],e>=n.start&&n.end>=e){for(p=0,o=i;_>o;o++)if(n=y[o],h=m._flatData(n.data),h.length&&e+p>=n.start&&(f=n.data,c=n.end,b||(v=d(m.group()||[]).concat(s(m.sort()||[])),g=a.process(n.data,{sort:v,filter:m.filter()}),h=f=g.data,g.total!==t&&(c=g.total)),u=0,e+p>n.start&&(u=e+p-n.start),l=h.length,c>r&&(l-=c-r),p+=l-u,w=m._mergeGroups(w,f,u,l),n.end>=r&&p==r-e))return w;break}return[]},_mergeGroups:function(e,t,r,n){if(this._isServerGrouped()){var i,a=t.toJSON();return e.length&&(i=e[e.length-1]),m(i,a,r,n),e.concat(a)}return e.concat(t.slice(r,n))},skip:function(){var e=this;return e._skip===t?e._page!==t?(e._page-1)*(e.take()||1):t:e._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(e,t,r){var n=this;return function(i){var a,s,o=!1,u={start:e,end:t,data:[]};for(n._dequeueRequest(),a=0,s=n._ranges.length;s>a;a++)if(n._ranges[a].start===e){o=!0,u=n._ranges[a];break}o||n._ranges.push(u),n.trigger(_t,{response:i,type:"read"}),i=n.reader.parse(i),u.data=n._observe(n._readData(i)),u.end=u.start+n._flatData(u.data).length,n._ranges.sort(function(e,t){return e.start-t.start}),n._total=n.reader.total(i),r&&r()}},prefetch:function(e,t,r){var n=this,i=St.min(e+t,n.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};n._rangeExists(e,i)?r&&r():(clearTimeout(n._timeout),n._timeout=setTimeout(function(){n._queueRequest(a,function(){n.trigger(ht)?n._dequeueRequest():n.transport.read({data:a,success:n._prefetchSuccessHandler(e,i,r)})})},100))},_rangeExists:function(e,t){var r,n,i=this,a=i._ranges;for(r=0,n=a.length;n>r;r++)if(e>=a[r].start&&a[r].end>=t)return!0;return!1}}),I={},I.create=function(e,t){var r,n=e.transport;return n?(n.read=typeof n.read===it?{url:n.read}:n.read,e.type&&(tt.data.transports[e.type]&&!$(tt.data.transports[e.type])?r=new tt.data.transports[e.type](U(n,{data:t})):n=U(!0,{},tt.data.transports[e.type],n),e.schema=U(!0,{},tt.data.schemas[e.type],e.schema)),r||(r=Q(n.read)?n:new L(n))):r=new M({data:e.data}),r},B.create=function(e){e=e&&e.push?{data:e}:e;var t,r,n,i=e||{},a=i.data,s=i.fields,o=i.table,u=i.select,l={};if(a||!s||i.transport||(o?a=O(o,s):u&&(a=F(u,s))),tt.data.Model&&s&&(!i.schema||!i.schema.model)){for(t=0,r=s.length;r>t;t++)n=s[t],n.type&&(l[n.field]=n);K(l)||(i.schema=U(!0,i.schema,{model:{fields:l}}))}return i.data=a,i instanceof B?i:new B(i)},J=Lt.define({init:function(e){var t=this,r=t.hasChildren||e&&e.hasChildren,n="items",i={};tt.data.Model.fn.init.call(t,e),typeof t.children===it&&(n=t.children),i={schema:{data:n,model:{hasChildren:r,id:t.idField}}},typeof t.children!==it&&U(i,t.children),i.data=e,r||(r=i.schema.data),typeof r===it&&(r=tt.getter(r)),Q(r)&&(t.hasChildren=!!r.call(t,t)),t._childrenOptions=i,t.hasChildren&&t._initChildren(),t._loaded=!(!e||!e[n]&&!e._loaded)},_initChildren:function(){var e=this;e.children instanceof H||(e.children=new H(e._childrenOptions),e.children.parent=function(){return e
},e.children.bind(dt,function(t){t.node=t.node||e,e.trigger(dt,t)}),e.children.bind(gt,function(t){var r=e.parent();r&&(t.node=t.node||e,r.trigger(gt,t))}),e._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){var e=this._childrenOptions.schema.data;this[e||"items"]=this.children.data()},load:function(){var e=this,r={};e.hasChildren&&(e._initChildren(),r[e.idField||"id"]=e.id,e._loaded||(e.children._data=t),e.children.one(dt,function(){e._loaded=!0,e._updateChildrenField()})._query(r))},parentNode:function(){var e=this.parent();return e.parent()},loaded:function(e){return e===t?this._loaded:(this._loaded=e,t)},shouldSerialize:function(e){return Lt.fn.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e}}),H=B.extend({init:function(e){var t=J.define({children:e});B.fn.init.call(this,U(!0,{},{schema:{modelBase:t,model:t}},e)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var e=this;e._data.bind(gt,function(t){e.trigger(gt,t)})},remove:function(e){var t,r=e.parentNode(),n=this;return r&&(n=r.children),t=B.fn.remove.call(n,e),r&&!n.data().length&&(r.hasChildren=!1),t},success:A("success"),data:A("data"),insert:function(e,t){var r=this.parent();return r&&(r.hasChildren=!0,r._initChildren()),B.fn.insert.call(this,e,t)},_find:function(e,t){var r,n,i,a,s;if(i=B.fn[e].call(this,t))return i;if(a=this._flatData(this.data()))for(r=0,n=a.length;n>r;r++)if(s=a[r].children,s instanceof H&&(i=s[e](t)))return i},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}}),H.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},r=t.data,n=t.fields,i=t.list;return r&&r._dataSource?r._dataSource:(r||!n||t.transport||i&&(r=P(i,n)),t.data=r,t instanceof H?t:new H(t))},U(!0,tt.data,{readers:{json:E},Query:a,DataSource:B,HierarchicalDataSource:H,Node:J,ObservableObject:Rt,ObservableArray:Tt,LocalTransport:M,RemoteTransport:L,Cache:G,DataReader:E,Model:Lt})})(window.kendo.jQuery);;(function(e){function o(o,t){return o===t||e.contains(o,t)}var t=window.kendo,n=t.ui,i=n.Widget,s=t.support,r=t.getOffset,l=t._activeElement,a="open",p="close",c="deactivate",d="activate",f="center",u="left",m="right",g="top",h="bottom",w="absolute",v="hidden",_="body",k="location",y="position",b="visible",x="effects",z="k-state-active",T="k-state-border",P=/k-state-border-(\w+)/,C=".k-picker-wrap, .k-dropdown-wrap, .k-link",S="down",E=e(window),I=e(document.documentElement),W="resize scroll",H=s.transitions.css,O=H+"transform",N=e.extend,A=".kendoPopup",L=["font-family","font-size","font-stretch","font-style","font-weight","line-height"],F=i.extend({init:function(o,n){var s,r=this;n=n||{},n.isRtl&&(n.origin=n.origin||h+" "+m,n.position=n.position||g+" "+m),i.fn.init.call(r,o,n),o=r.element,n=r.options,r.collisions=n.collision?n.collision.split(" "):[],1===r.collisions.length&&r.collisions.push(r.collisions[0]),s=e(r.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),n.appendTo=e(e(n.appendTo)[0]||s[0]||_),r.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!n.isRtl).css({position:w}).appendTo(n.appendTo).on("mouseenter"+A,function(){r._hovered=!0}).on("mouseleave"+A,function(){r._hovered=!1}),r.wrapper=e(),n.animation===!1&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),N(n.animation.open,{complete:function(){r.wrapper.css({overflow:b}),r.trigger(d)}}),N(n.animation.close,{complete:function(){r.wrapper.hide();var i,s,l=r.wrapper.data(k),a=e(n.anchor);l&&r.wrapper.css(l),n.anchor!=_&&(i=(a[0].className.match(P)||["","down"])[1],s=T+"-"+i,a.removeClass(s).children(C).removeClass(z).removeClass(s),o.removeClass(T+"-"+t.directions[i].reverse)),r._closing=!1,r.trigger(c)}}),r._mousedownProxy=function(e){r._mousedown(e)},r._resizeProxy=function(e){r._resize(e)},n.toggleTarget&&e(n.toggleTarget).on(n.toggleEvent+A,e.proxy(r.toggle,r))},events:[a,d,p,c],options:{name:"Popup",toggleEvent:"click",origin:h+" "+u,position:g+" "+u,anchor:_,collision:"flip fit",viewport:window,copyAnchorStyles:!0,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},destroy:function(){var o,n=this,s=n.options,r=n.element.off(A);i.fn.destroy.call(n),s.toggleTarget&&e(s.toggleTarget).off(A),I.unbind(S,n._mousedownProxy),E.unbind(W,n._resizeProxy),s.appendTo[0]===document.body&&(o=r.parent(".k-animation-container"),o[0]?o.remove():r.remove()),t.destroy(n.element.children())},open:function(o,n){var i,r,l,p=this,c={isFixed:!isNaN(parseInt(n,10)),x:o,y:n},d=p.element,f=p.options,u="down",m=e(f.anchor);if(!p.visible()){if(f.copyAnchorStyles&&d.css(t.getComputedStyles(m[0],L)),d.data("animating")||p.trigger(a))return;I.unbind(S,p._mousedownProxy).bind(S,p._mousedownProxy),s.mobileOS.ios||s.mobileOS.android||E.unbind(W,p._resizeProxy).bind(W,p._resizeProxy),p.wrapper=r=t.wrap(d).css({overflow:v,display:"block",position:w}),s.mobileOS.android&&r.add(m).css(O,"translatez(0)"),r.css(y),e(f.appendTo)[0]==document.body&&r.css(g,"-10000px"),i=N(!0,{},f.animation.open),p.flipped=p._position(c),i.effects=t.parseEffects(i.effects,p.flipped),u=i.effects.slideIn?i.effects.slideIn.direction:u,f.anchor!=_&&(l=T+"-"+u,d.addClass(T+"-"+t.directions[u].reverse),m.addClass(l).children(C).addClass(z).addClass(l)),d.data(x,i.effects).kendoStop(!0).kendoAnimate(i)}},toggle:function(){var e=this;e[e.visible()?p:a]()},visible:function(){return this.element.is(":"+b)},close:function(){var o,n,i,s,r=this,l=r.options;if(r.visible()){if(o=r.wrapper[0]?r.wrapper:t.wrap(r.element).hide(),r._closing||r.trigger(p))return;r.element.find(".k-popup").each(function(){var o=e(this),t=o.data("kendoPopup");t&&t.close()}),I.unbind(S,r._mousedownProxy),E.unbind(W,r._resizeProxy),n=N(!0,{},l.animation.close),i=r.element.data(x),s=n.effects,!s&&!t.size(s)&&i&&t.size(i)&&(n.effects=i,n.reverse=!0),r._closing=!0,r.element.kendoStop(!0),o.css({overflow:v}),r.element.kendoAnimate(n)}},_resize:function(e){var t=this;"resize"===e.type?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position(),t._resizeTimeout=null},50)):t._hovered||o(t.element[0],l())||t.close()},_mousedown:function(n){var i=this,s=i.element[0],r=i.options,l=e(r.anchor)[0],a=r.toggleTarget,p=t.eventTarget(n),c=e(p).closest(".k-popup"),d=c.parent().parent(".km-shim").length;c=c[0],(d||!c||c===i.element[0])&&(o(s,p)||o(l,p)||a&&o(e(a)[0],p)||i.close())},_fit:function(e,o,t){var n=0;return e+o>t&&(n=t-(e+o)),0>e&&(n=-e),n},_flip:function(e,o,t,n,i,s,r){var l=0;return r=r||o,s!==i&&s!==f&&i!==f&&(e+r>n&&(l+=-(t+o)),0>e+l&&(l+=t+o)),l},_position:function(o){var t,n,i,l,a,p,c,d,f,u=this,m=u.element.css(y,""),g=u.wrapper,h=u.options,v=e(h.viewport),_=e(v).offset(),b=e(h.anchor),x=h.origin.toLowerCase().split(" "),z=h.position.toLowerCase().split(" "),T=u.collisions,P=s.zoomLevel(),C=10002,S=0,E=b.parents().filter(g.siblings());if(E[0])if(n=Number(e(E).css("zIndex")))C=n+1;else for(t=b.parentsUntil(E),i=t.length;i>S;S++)n=Number(e(t[S]).css("zIndex")),n&&n>C&&(C=n+1);return g.css("zIndex",C),o&&o.isFixed?g.css({left:o.x,top:o.y}):g.css(u._align(x,z)),l=r(g,y,b[0]===g.offsetParent()[0]),a=r(g),p=b.offsetParent().parent(".k-animation-container,.k-popup,.k-group"),p.length&&(l=r(g,y,!0),a=r(g)),v[0]===window?(a.top-=window.pageYOffset||document.documentElement.scrollTop||0,a.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(a.top-=_.top,a.left-=_.left),u.wrapper.data(k)||g.data(k,N({},l)),c=N({},a),d=N({},l),"fit"===T[0]&&(d.top+=u._fit(c.top,g.outerHeight(),v.height()/P)),"fit"===T[1]&&(d.left+=u._fit(c.left,g.outerWidth(),v.width()/P)),f=N({},d),"flip"===T[0]&&(d.top+=u._flip(c.top,m.outerHeight(),b.outerHeight(),v.height()/P,x[0],z[0],g.outerHeight())),"flip"===T[1]&&(d.left+=u._flip(c.left,m.outerWidth(),b.outerWidth(),v.width()/P,x[1],z[1],g.outerWidth())),m.css(y,w),g.css(d),d.left!=f.left||d.top!=f.top},_align:function(o,t){var n,i=this,s=i.wrapper,l=e(i.options.anchor),a=o[0],p=o[1],c=t[0],d=t[1],u=r(l),g=e(i.options.appendTo),w=s.outerWidth(),v=s.outerHeight(),_=l.outerWidth(),k=l.outerHeight(),y=u.top,b=u.left,x=Math.round;return g[0]!=document.body&&(n=r(g),y-=n.top,b-=n.left),a===h&&(y+=k),a===f&&(y+=x(k/2)),c===h&&(y-=v),c===f&&(y-=x(v/2)),p===m&&(b+=_),p===f&&(b+=x(_/2)),d===m&&(b-=w),d===f&&(b-=x(w/2)),{top:y,left:b}}});n.plugin(F)})(window.kendo.jQuery);;(function(e,t){function a(t,n){t.filters&&(t.filters=e.grep(t.filters,function(e){return a(e,n),e.filters?e.filters.length:e.field!=n}))}var n=window.kendo,i=n.ui,r=i.Widget,o=n.keys,l=n.support,s=n.htmlEncode,u=n._activeElement,d="id",c="li",f="change",_="character",p="k-state-focused",h="k-state-hover",v="k-loading",g="open",m="close",b="select",x="progress",S="requestEnd",y="width",w=e.extend,C=e.proxy,k=l.browser,F=k.msie&&9>k.version,I=/"/g,T={ComboBox:"DropDownList",DropDownList:"ComboBox"},D=r.extend({init:function(t,a){var n,i=this,o=i.ns;r.fn.init.call(i,t,a),t=i.element,i._isSelect=t.is(b),i._template(),i.ul=e('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:l.kineticScrollNeeded?"":"auto"}).on("mouseenter"+o,c,function(){e(this).addClass(h)}).on("mouseleave"+o,c,function(){e(this).removeClass(h)}).on("click"+o,c,C(i._click,i)).attr({tabIndex:-1,role:"listbox","aria-hidden":!0}),i.list=e("<div class='k-list-container'/>").append(i.ul).on("mousedown"+o,function(e){e.preventDefault()}),n=t.attr(d),n&&(i.list.attr(d,n+"-list"),i.ul.attr(d,n+"_listbox"),i._optionID=n+"_option_selected"),i._accessors(),i._initValue()},setOptions:function(e){r.fn.setOptions.call(this,e),e&&e.enable!==t&&(e.enabled=e.enable)},focus:function(){this._focused.focus()},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},_filterSource:function(e){var t=this,n=t.options,i=t.dataSource,r=i.filter()||{};a(r,n.dataTextField),e&&(r=r.filters||[],r.push(e)),i.filter(r)},_initValue:function(){var e=this,t=e.options.value;t?e.element.val(t):t=e.element.val(),e._old=t},_ignoreCase:function(){var e,t=this,a=t.dataSource.reader.model;a&&a.fields&&(e=a.fields[t.options.dataTextField],e&&e.type&&"string"!==e.type&&(t.options.ignoreCase=!1))},items:function(){return this.ul[0].children},current:function(e){var a=this,n=a._optionID;return e===t?a._current:(a._current&&(a._current.removeClass(p).removeAttr("aria-selected").removeAttr(d),a._focused.removeAttr("aria-activedescendant")),e&&(e.addClass(p),a._scroll(e),n&&(e.attr("id",n),a._focused.attr("aria-activedescendant",n))),a._current=e,t)},destroy:function(){var e=this,t=e.ns;r.fn.destroy.call(e),e._unbindDataSource(),e.ul.off(t),e.list.off(t),e.popup.destroy(),e._form&&e._form.off("reset",e._resetHandler)},dataItem:function(e){var a=this;return e===t&&(e=a.selectedIndex),a._data()[e]},_accessors:function(){var e=this,t=e.element,a=e.options,i=n.getter,r=t.attr(n.attr("text-field")),o=t.attr(n.attr("value-field"));r&&(a.dataTextField=r),o&&(a.dataValueField=o),e._text=i(a.dataTextField),e._value=i(a.dataValueField)},_aria:function(e){var a=this,n=a.options,i=a._focused;n.suggest!==t&&i.attr("aria-autocomplete",n.suggest?"both":"list"),e=e?e+" "+a.ul[0].id:a.ul[0].id,i.attr("aria-owns",e),a.ul.attr("aria-live",n.filter&&"none"!==n.filter?"polite":"off")},_blur:function(){var e=this;e._change(),e.close()},_change:function(){var e,a=this,n=a.selectedIndex,i=a.options.value,r=a.value();a._isSelect&&!a._bound&&i&&(r=i),r!==a._old?e=!0:n!==t&&n!==a._oldIndex&&(e=!0),e&&(a._old=r,a._oldIndex=n,a.trigger(f),a.element.trigger(f))},_click:function(t){t.isDefaultPrevented()||this._accept(e(t.currentTarget))},_data:function(){return this.dataSource.view()},_enable:function(){var e=this,a=e.options,n=e.element.is("[disabled]");a.enable!==t&&(a.enabled=a.enable),!a.enabled||n?e.enable(!1):e.readonly(e.element.is("[readonly]"))},_focus:function(e){var a=this;return a.popup.visible()&&e&&a.trigger(b,{item:e})?(a.close(),t):(a._select(e),a._triggerCascade(),a._blur(),t)},_index:function(e){var t,a,n=this,i=n._data();for(t=0,a=i.length;a>t;t++)if(n._dataValue(i[t])==e)return t;return-1},_dataValue:function(e){var a=this._value(e);return a===t&&(a=this._text(e)),a},_height:function(e){if(e){var t=this,a=t.list,n=t.popup.visible(),i=t.options.height;a=a.add(a.parent(".k-animation-container")).show().height(t.ul[0].scrollHeight>i?i:"auto"),n||a.hide()}},_adjustListWidth:function(){var e,t,a=this.list,n=a[0].style.width,i=this.wrapper;if(a.data(y)||!n)return e=window.getComputedStyle?window.getComputedStyle(i[0],null):0,t=e?parseFloat(e.width):i.outerWidth(),e&&(k.mozilla||k.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),n=t-(a.outerWidth()-a.width()),a.css({fontFamily:i.css("font-family"),width:n}).data(y,n),!0},_popup:function(){var e=this,t=e.list,a=e._focused,r=e.options,o=e.wrapper;e.popup=new i.Popup(t,w({},r.popup,{anchor:o,open:function(t){e._adjustListWidth(),e.trigger(g)?t.preventDefault():(a.attr("aria-expanded",!0),e.ul.attr("aria-hidden",!1))},close:function(t){e.trigger(m)?t.preventDefault():(a.attr("aria-expanded",!1),e.ul.attr("aria-hidden",!0))},animation:r.animation,isRtl:l.isRtl(o)})),e.popup.one(g,function(){e._height(e._data().length)}),e._touchScroller=n.touchScroller(e.popup.element)},_makeUnselectable:function(){F&&this.list.find("*").attr("unselectable","on")},_toggleHover:function(t){e(t.currentTarget).toggleClass(h,"mouseenter"===t.type)},_toggle:function(e){var a=this;e=e!==t?e:!a.popup.visible(),l.touch||a._focused[0]===u()||a._focused.focus(),a[e?g:m]()},_scroll:function(e){if(e){e[0]&&(e=e[0]);var t=this.ul[0],a=e.offsetTop,n=e.offsetHeight,i=t.scrollTop,r=t.clientHeight,o=a+n;t.scrollTop=i>a?a:o>i+r?o-r:i}},_template:function(){var e=this,t=e.options,a=t.template,i=t.dataSource;e._isSelect&&e.element[0].length&&(i||(t.dataTextField=t.dataTextField||"text",t.dataValueField=t.dataValueField||"value")),a?(a=n.template(a),e.template=function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+a(e)+"</li>"}):e.template=n.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+n.expr(t.dataTextField,"data")+"}</li>",{useWithBlock:!1})},_triggerCascade:function(){var e=this,t=e.value();(!e._bound&&t||e._old!==t)&&e.trigger("cascade")},_unbindDataSource:function(){var e=this;e.dataSource.unbind(f,e._refreshHandler).unbind(x,e._progressHandler).unbind(S,e._requestEndHandler).unbind("error",e._errorHandler)}});w(D,{caret:function(e){var t,a=e.ownerDocument.selection;return t=a?Math.abs(a.createRange().moveStart(_,-e.value.length)):e.selectionStart},selectText:function(e,t,a){try{if(e.createTextRange){e.focus();var n=e.createTextRange();n.collapse(!0),n.moveStart(_,t),n.moveEnd(_,a-t),n.select()}else e.setSelectionRange(t,a)}catch(i){}},inArray:function(e,t){var a,n,i=t.children;if(!e||e.parentNode!==t)return-1;for(a=0,n=i.length;n>a;a++)if(e===i[a])return a;return-1}}),n.ui.List=D,i.Select=D.extend({init:function(e,t){D.fn.init.call(this,e,t),this._initial=this.element.val()},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},close:function(){this.popup.close()},select:function(e){var a=this;return e===t?a.selectedIndex:(a._select(e),a._triggerCascade(),a._old=a._accessor(),a._oldIndex=a.selectedIndex,t)},_accessor:function(e,a){var n,i,r=this.element,o=this._isSelect;return r=r[0],e===t?(o?(i=r.selectedIndex,i>-1&&(n=r.options[i],n&&(e=n.value))):e=r.value,e):(o?r.selectedIndex=a:r.value=e,t)},_hideBusy:function(){var e=this;clearTimeout(e._busy),e._arrow.removeClass(v),e._focused.attr("aria-busy",!1),e._busy=null},_showBusy:function(){var e=this;e._request=!0,e._busy||(e._busy=setTimeout(function(){e._focused.attr("aria-busy",!0),e._arrow.addClass(v)},100))},_requestEnd:function(){this._request=!1},_dataSource:function(){var t,a=this,i=a.element,r=a.options,o=r.dataSource||{};o=e.isArray(o)?{data:o}:o,a._isSelect&&(t=i[0].selectedIndex,t>-1&&(r.index=t),o.select=i,o.fields=[{field:r.dataTextField},{field:r.dataValueField}]),a.dataSource&&a._refreshHandler?a._unbindDataSource():(a._refreshHandler=C(a.refresh,a),a._progressHandler=C(a._showBusy,a),a._requestEndHandler=C(a._requestEnd,a),a._errorHandler=C(a._hideBusy,a)),a.dataSource=n.data.DataSource.create(o).bind(f,a._refreshHandler).bind(x,a._progressHandler).bind(S,a._requestEndHandler).bind("error",a._errorHandler)},_get:function(t){var a,n,i=this,r=i._data();if("function"==typeof t)for(a=0,n=r.length;n>a;a++)if(t(r[a])){t=a;break}if("number"==typeof t){if(0>t)return e();t=e(i.ul[0].children[t])}return t&&t.nodeType&&(t=e(t)),t},_move:function(e){var t,a,n=this,i=e.keyCode,r=n.ul[0],l=n.popup.visible()?"_select":"_accept",s=n._current,u=i===o.DOWN;if(i===o.UP||u){if(e.altKey)n.toggle(u);else{if(t=r.firstChild,!t&&!n._accessor()&&"filter"!==n._state)return n.dataSource.one(f,function(){n._move(e)}),n._filterSource(),e.preventDefault(),!0;u?(!s||-1===n.selectedIndex&&!n.value()&&s[0]===t?s=t:(s=s[0].nextSibling,s||t!==r.lastChild||(s=t)),n[l](s)):(s=s?s[0].previousSibling:r.lastChild,s||t!==r.lastChild||(s=t),n[l](s))}e.preventDefault(),a=!0}else i===o.ENTER||i===o.TAB?(n.popup.visible()&&e.preventDefault(),n._accept(s),a=!0):i===o.ESC&&(n.popup.visible()&&e.preventDefault(),n.close(),a=!0);return a},_selectItem:function(e){var t=this,a=t.options,n=t.selectedIndex;e=t._selectedValue||a.value||t._accessor(),e?t.value(e):(!t._bound||n>-1)&&(t._bound||(n=a.index),t.select(n))},_fetchItems:function(e){var a=this,n=a.ul[0].firstChild;return a._request?!0:a._fetch||n?t:a.options.cascadeFrom?!n:(a.dataSource.one(f,function(){a.value(e),a._fetch=!1}),a._fetch=!0,a.dataSource.fetch(),!0)},_options:function(e,a){var n,i,r,o,l=this,u=l.element,d=u[0].selectedIndex,c=e.length,f="",_=0;for(a&&(f=a,d+=1,_=1);c>_;_++)n="<option",i=e[_],r=l._text(i),o=l._value(i),o!==t&&(o+="",-1!==o.indexOf('"')&&(o=o.replace(I,"&quot;")),n+=' value="'+o+'"'),n+=">",r!==t&&(n+=s(r)),n+="</option>",f+=n;u.html(f),u[0].selectedIndex=-1===d?0:d},_reset:function(){var e=this,t=e.element,a=t.closest("form");a[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(e._initial)})},e._form=a.on("reset",e._resetHandler))},_cascade:function(){var t,n,i,r,o,l=this,s=l.options,u=s.cascadeFrom;if(u){if(l._selectedValue=s.value||l._accessor(),n=e("#"+u),t=n.data("kendo"+s.name),t||(t=n.data("kendo"+T[s.name])),!t)return;s.autoBind=!1,r=t.options.dataValueField,o=function(){var e=l._selectedValue||l.value();e?(l.value(e),l.dataSource.view()[0]&&-1!==l.selectedIndex||l._clearSelection(t,!0)):l.select(s.index),l.enable(),l._triggerCascade()},i=function(){var e,n,i=t.dataItem(),s=i?t._value(i):null;s?(e=l.dataSource.filter()||{},a(e,r),n=e.filters||[],n.push({field:r,operator:"eq",value:s}),l.dataSource.one(f,o).filter(n)):(l.enable(!1),l._clearSelection(t),l._triggerCascade())},t.bind("cascade",function(){i()}),t._bound?i():t.value()||l.enable(!1)}}})})(window.kendo.jQuery);;(function(e,t){function a(e,t,a){return a?t.substring(0,e).split(a).length-1:0}function s(e,t,s){return t.split(s)[a(e,t,s)]}function r(e,t,s,r){var n=t.split(r);return n.splice(a(e,t,r),1,s),r&&""!==n[n.length-1]&&n.push(""),n.join(r)}function n(e){var t=e.value.length;T(e,t,t)}var o=window.kendo,i=o.support,l=o._activeElement,c=i.placeholder,u=o.ui,p=o.keys,d=o.data.DataSource,h=u.List,_="aria-disabled",f="aria-readonly",g="k-state-default",v="disabled",m="readonly",y="k-state-focused",C="k-state-selected",b="k-state-disabled",w="k-state-hover",k=".kendoAutoComplete",x="mouseenter"+k+" mouseleave"+k,S=h.caret,T=h.selectText,A=e.proxy,B=h.extend({init:function(t,a){var s,r=this;r.ns=k,a=e.isArray(a)?{dataSource:a}:a,h.fn.init.call(r,t,a),t=r.element,a=r.options,a.placeholder=a.placeholder||t.attr("placeholder"),c&&t.attr("placeholder",a.placeholder),r._wrapper(),r._loader(),r._dataSource(),r._ignoreCase(),t[0].type="text",s=r.wrapper,r._popup(),t.addClass("k-input").on("keydown"+k,A(r._keydown,r)).on("paste"+k,A(r._search,r)).on("focus"+k,function(){r._prev=r._accessor(),r._placeholder(!1),s.addClass(y)}).on("blur"+k,function(){r._change(),r._placeholder(),s.removeClass(y)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),r._enable(),r._old=r._accessor(),t[0].id&&t.attr("aria-owns",r.ul[0].id),r._aria(),r._placeholder(),o.notify(r)},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{}},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._refreshHandler=A(e.refresh,e),e._progressHandler=A(e._showBusy,e)),e.dataSource=d.create(e.options.dataSource).bind("change",e._refreshHandler).bind("progress",e._progressHandler)},setDataSource:function(e){this.options.dataSource=e,this._dataSource()},events:["open","close","change","select","dataBinding","dataBound"],setOptions:function(e){h.fn.setOptions.call(this,e),this._template(),this._accessors(),this._aria()},_editable:function(e){var t=this,a=t.element,s=t.wrapper.off(k),r=e.readonly,n=e.disable;r||n?(s.addClass(n?b:g).removeClass(n?g:b),a.attr(v,n).attr(m,r).attr(_,n).attr(f,r)):(s.addClass(g).removeClass(b).on(x,t._toggleHover),a.removeAttr(v).removeAttr(m).attr(_,!1).attr(f,!1))},close:function(){var e=this,t=e._current;t&&t.removeClass(C),e.current(null),e.popup.close()},destroy:function(){var e=this;e.element.off(k),e.wrapper.off(k),h.fn.destroy.call(e)},refresh:function(){var a,s=this,r=s.ul[0],n=s.popup,i=s.options,c=s._data(),u=c.length;s.trigger("dataBinding"),r.innerHTML=o.render(s.template,c),s._height(u),n.visible()&&n._position(),u&&(i.highlightFirst&&s.current(e(r.firstChild)),i.suggest&&s.suggest(e(r.firstChild))),s._open&&(s._open=!1,a=u?"open":"close",s._typing&&s.element[0]!==l()&&(a="close"),n[a](),s._typing=t),s._touchScroller&&s._touchScroller.reset(),s._makeUnselectable(),s._hideBusy(),s.trigger("dataBound")},select:function(e){this._select(e)},search:function(e){var t,a=this,r=a.options,n=r.ignoreCase,o=r.separator;e=e||a._accessor(),a._current=null,clearTimeout(a._typing),o&&(e=s(S(a.element[0]),e,o)),t=e.length,t?t>=a.options.minLength&&(a._open=!0,a._filterSource({value:n?e.toLowerCase():e,operator:r.filter,field:r.dataTextField,ignoreCase:n})):a.popup.close()},suggest:function(e){var s,r=this,n=r._last,o=r._accessor(),i=r.element[0],l=S(i),c=r.options.separator,u=o.split(c),d=a(l,o,c),_=l;return n==p.BACKSPACE||n==p.DELETE?(r._last=t,t):(e=e||"","string"!=typeof e&&(s=h.inArray(e[0],r.ul[0]),e=s>-1?r._text(r._data()[s]):""),0>=l&&(l=o.toLowerCase().indexOf(e.toLowerCase())+1),s=o.substring(0,l).lastIndexOf(c),s=s>-1?l-(s+c.length):l,o=u[d].substring(0,s),e&&(s=e.toLowerCase().indexOf(o.toLowerCase()),s>-1&&(e=e.substring(s+o.length),_=l+e.length,o+=e),c&&""!==u[u.length-1]&&u.push("")),u[d]=o,r._accessor(u.join(c||"")),T(i,l,_),t)},value:function(e){return e===t?this._accessor():(this._accessor(e),this._old=e,t)},_accessor:function(e){var a=this,s=a.element[0];return e===t?(e=s.value,s.className.indexOf("k-readonly")>-1?e===a.options.placeholder?"":e:e):(s.value=null===e?"":e,a._placeholder(),t)},_accept:function(e){var t=this;t._focus(e),n(t.element[0])},_keydown:function(t){var a=this,s=a.ul[0],r=t.keyCode,n=a._current,o=a.popup.visible();a._last=r,r===p.DOWN?(o&&a._move(n?n.next():e(s.firstChild)),t.preventDefault()):r===p.UP?(o&&a._move(n?n.prev():e(s.lastChild)),t.preventDefault()):r===p.ENTER||r===p.TAB?(r===p.ENTER&&a.popup.visible()&&t.preventDefault(),a._accept(n)):r===p.ESC?(a.popup.visible()&&t.preventDefault(),a.close()):a._search()},_move:function(e){var t=this;e=e[0]?e:null,t.current(e),t.options.suggest&&t.suggest(e)},_hideBusy:function(){var e=this;clearTimeout(e._busy),e._loading.hide(),e.element.attr("aria-busy",!1),e._busy=null},_showBusy:function(){var e=this;e._busy||(e._busy=setTimeout(function(){e.element.attr("aria-busy",!0),e._loading.show()},100))},_placeholder:function(e){if(!c){var a,s=this,r=s.element,n=s.options.placeholder;if(n){if(a=r.val(),e===t&&(e=!a),e||(n=a!==n?a:""),a===s._old&&!e)return;r.toggleClass("k-readonly",e).val(n)}}},_search:function(){var e=this;clearTimeout(e._typing),e._typing=setTimeout(function(){e._prev!==e._accessor()&&(e._prev=e._accessor(),e.search())},e.options.delay)},_select:function(t){var a,s,n=this,o=n.options.separator,i=n._data();t=e(t),t[0]&&!t.hasClass(C)&&(s=h.inArray(t[0],n.ul[0]),s>-1&&(i=i[s],a=n._text(i),o&&(a=r(S(n.element[0]),n._accessor(),a,o)),n._accessor(a),n.current(t.addClass(C))))},_loader:function(){this._loading=e('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)},_toggleHover:function(t){e(t.currentTarget).toggleClass(w,"mouseenter"===t.type)},_wrapper:function(){var e,t=this,a=t.element,s=a[0];e=a.parent(),e.is("span.k-widget")||(e=a.wrap("<span />").parent()),e.attr("tabindex",-1),e.attr("role","presentation"),e[0].style.cssText=s.style.cssText,a.css({width:"100%",height:s.style.height}),t._focused=t.element,t.wrapper=e.addClass("k-widget k-autocomplete k-header").addClass(s.className)}});u.plugin(B)})(window.kendo.jQuery);;(function(e,t){var n=window.kendo,a=n.ui,s=a.List,o=a.Select,i=n.support,r=i.placeholder,l=n._activeElement,c=n.keys,u=".kendoComboBox",d="click"+u,p="mousedown"+u,_="disabled",h="readonly",f="change",g="k-state-default",v="k-state-focused",x="k-state-disabled",m="aria-disabled",C="aria-readonly",y="k-state-selected",w="filter",b="accept",k="rebind",L="mouseenter"+u+" mouseleave"+u,S=null,T=e.proxy,B=o.extend({init:function(t,a){var s,i=this;i.ns=u,a=e.isArray(a)?{dataSource:a}:a,o.fn.init.call(i,t,a),i._focusHandler=function(){i.input.focus()},a=i.options,t=i.element.on("focus"+u,i._focusHandler),a.placeholder=a.placeholder||t.attr("placeholder"),i._reset(),i._wrapper(),i._input(),i._tabindex(i.input),i._popup(),i._dataSource(),i._ignoreCase(),i._enable(),i._cascade(),i._aria(),i._oldIndex=i.selectedIndex=-1,a.autoBind?i._filterSource():(s=a.text,!s&&i._isSelect&&(s=t.children(":selected").text()),s&&i.input.val(s)),s||i._placeholder(),n.notify(i)},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:!0,template:"",filter:"none",placeholder:"",suggest:!1,ignoreCase:!0,animation:{}},events:["open","close",f,"select","dataBinding","dataBound","cascade"],setOptions:function(e){o.fn.setOptions.call(this,e),this._template(),this._accessors(),this._aria()},current:function(e){var n=this,a=n._current;return e===t?a:(a&&a.removeClass(y),o.fn.current.call(n,e),t)},destroy:function(){var e=this;e.input.off(u),e.element.off(u),e._inputWrapper.off(u),o.fn.destroy.call(e)},_editable:function(e){var t=this,n=e.disable,a=e.readonly,s=t._inputWrapper.off(u),o=t.element.add(t.input.off(u)),i=t._arrow.parent().off(d+" "+p);a||n?(s.addClass(n?x:g).removeClass(n?g:x),o.attr(_,n).attr(h,a).attr(m,n).attr(C,a)):(s.addClass(g).removeClass(x).on(L,t._toggleHover),o.removeAttr(_).removeAttr(h).attr(m,!1).attr(C,!1),i.on(d,function(){t.toggle()}).on(p,function(e){e.preventDefault()}),t.input.on("keydown"+u,T(t._keydown,t)).on("focus"+u,function(){s.addClass(v),t._placeholder(!1)}).on("blur"+u,function(){s.removeClass(v),clearTimeout(t._typing),t.options.text!==t.input.val()&&t.text(t.text()),t._placeholder(),t._blur(),t.element.blur()}))},open:function(){var e=this,t=e.dataSource.options.serverFiltering;e.popup.visible()||(!e.ul[0].firstChild||e._state===b&&!t?(e._open=!0,e._state=k,e._filterSource()):(e.popup.open(),e._scroll(e._current)))},refresh:function(){var a,s,o,i=this,r=i.ul[0],c=i.options,u=i._state,d=i._data(),p=d.length;i.trigger("dataBinding"),r.innerHTML=n.render(i.template,d),i._height(p),i.popup.visible()&&i.popup._position(),i._isSelect&&(u===k&&(i._state="",a=i.value()),o=i._option,i._option=t,i._options(d),o&&o[0].selected&&i._custom(o.val())),p&&(c.highlightFirst&&i.current(e(r.firstChild)),c.suggest&&i.input.val()&&i._request!==t&&i.suggest(e(r.firstChild))),u===w||i._fetch||i._selectItem(),i._open&&(i._open=!1,s=!!p,i._typing&&i.input[0]!==l()&&(s=!1),i.toggle(s),i._typing=t),i._touchScroller&&i._touchScroller.reset(),i._makeUnselectable(),i._hideBusy(),i._bound=!0,i.trigger("dataBound")},search:function(e){e="string"==typeof e?e:this.text();var t=this,n=e.length,a=t.options,s=a.ignoreCase,o=a.filter,i=a.dataTextField;clearTimeout(t._typing),n>=a.minLength&&(t._state=w,"none"===o?t._filter(e):(t._open=!0,t._filterSource({value:s?e.toLowerCase():e,field:i,operator:o,ignoreCase:s})))},suggest:function(e){var n,a=this,o=a.input[0],i=a.text(),r=s.caret(o),l=a._last;return l==c.BACKSPACE||l==c.DELETE?(a._last=t,t):(e=e||"","string"!=typeof e&&(n=s.inArray(e[0],a.ul[0]),e=n>-1?a._text(a.dataSource.view()[n]):""),0>=r&&(r=i.toLowerCase().indexOf(e.toLowerCase())+1),e?(n=e.toLowerCase().indexOf(i.toLowerCase()),n>-1&&(i+=e.substring(n+i.length))):i=i.substring(0,r),i.length===r&&e||(o.value=i,s.selectText(o,r,i.length)),t)},text:function(e){e=null===e?"":e;var n,a=this,s=a._text,o=a.input[0],i=a.options.ignoreCase,r=e;return e===t?o.value:(n=a.dataItem(),n&&s(n)===e?(a._triggerCascade(),t):(i&&(r=r.toLowerCase()),a._select(function(e){return e=s(e),i&&(e=(e+"").toLowerCase()),e===r}),0>a.selectedIndex&&(a._custom(e),o.value=e),a._triggerCascade(),t))},toggle:function(e){var t=this;t._toggle(e)},value:function(e){var n,a=this;return e===t?a._accessor():(null!==e&&(e=""+e),a._selectedValue=e,!a._open&&e&&a._fetchItems(e)||(n=a._index(e),n>-1?a.select(n):(a.current(S),a._custom(e),a.text(e),a._placeholder()),a._prev=a._old=a._accessor(),a._oldIndex=a.selectedIndex),t)},_accept:function(e){var t=this;e?t._focus(e):(t.text(t.text()),t._change())},_custom:function(t){var n=this,a=n.element,s=n._option;n._state===w&&(n._state=b),n._isSelect?(s||(s=n._option=e("<option/>"),a.append(s)),s.text(t),s[0].selected=!0):a.val(t),n._selectedValue=t},_filter:function(e){var n=this,a=n.options,s=n.dataSource,o=a.ignoreCase,i=function(a){var s=n._text(a);return s!==t?(s+="",""!==s&&""===e?!1:(o&&(s=s.toLowerCase()),0===s.indexOf(e))):t};return o&&(e=e.toLowerCase()),n.ul[0].firstChild?(-1!==n._highlight(i)&&(a.suggest&&n._current&&n.suggest(n._current),n.open()),n._hideBusy(),t):(s.one(f,function(){s.data()[0]&&n.search(e)}).fetch(),t)},_highlight:function(n){var a,o=this;return n===t||null===n?-1:(n=o._get(n),a=s.inArray(n[0],o.ul[0]),-1==a&&(n=o.options.highlightFirst&&!o.text()?e(o.ul[0].firstChild):S),o.current(n),a)},_input:function(){var t,n=this,a=n.element.removeClass("k-input")[0],s=a.accessKey,o=n.wrapper,i="input.k-input",l=a.name||"";l&&(l='name="'+l+'_input" '),t=o.find(i),t[0]||(o.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+l+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(n.element),t=o.find(i)),t[0].style.cssText=a.style.cssText,a.maxLength>-1&&(t[0].maxLength=a.maxLength),t.addClass(a.className).val(a.value).css({width:"100%",height:a.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),r&&t.attr("placeholder",n.options.placeholder),s&&(a.accessKey="",t[0].accessKey=s),n._focused=n.input=t,n._inputWrapper=e(o[0].firstChild),n._arrow=o.find(".k-icon").attr({role:"button",tabIndex:-1}),a.id&&n._arrow.attr("aria-controls",n.ul[0].id)},_keydown:function(e){var t=this,n=e.keyCode;t._last=n,clearTimeout(t._typing),n==c.TAB||t._move(e)||t._search()},_placeholder:function(e){if(!r){var n,a=this,s=a.input,o=a.options.placeholder;if(o){if(n=a.value(),e===t&&(e=!n),s.toggleClass("k-readonly",e),!e){if(n)return;o=""}s.val(o)}}},_search:function(){var e=this;e._typing=setTimeout(function(){var t=e.text();e._prev!==t&&(e._prev=t,e.search(t))},e.options.delay)},_select:function(e){var n,a,s=this,o=s._data(),i=s._highlight(e);s.selectedIndex=i,-1!==i&&(s._state===w&&(s._state=b),s._current.addClass(y),o=o[i],n=s._text(o),a=s._value(o),s._prev=s.input[0].value=n,s._accessor(a!==t?a:n,i),s._selectedValue=s._accessor(),s._placeholder(),s._optionID&&s._current.attr("aria-selected",!0))},_wrapper:function(){var e=this,t=e.element,n=t.parent();n.is("span.k-widget")||(n=t.hide().wrap("<span />").parent(),n[0].style.cssText=t[0].style.cssText),e.wrapper=n.addClass("k-widget k-combobox k-header").addClass(t[0].className).css("display","")},_clearSelection:function(e,t){var n=this,a=e._selectedValue||e.value(),s=a&&-1===e.selectedIndex;(t||!a||s)&&n.value("")}});a.plugin(B)})(window.kendo.jQuery);;(function(t,e){function n(t,e,n,a){var r,i=t.getFullYear(),o=e.getFullYear(),l=n.getFullYear();return i-=i%a,r=i+(a-1),o>i&&(i=o),r>l&&(r=l),i+"-"+r}function a(t){for(var e,n=0,a=t.min,r=t.max,i=t.start,o=t.setter,s=t.build,u=t.cells||12,c=t.perRow||4,f=t.content||S,d=t.empty||O,g=t.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';u>n;n++)n>0&&0===n%c&&(g+='</tr><tr role="row">'),e=s(i,n),g+=l(i,a,r)?f(e):d(e),o(i,1);return g+"</tr></tbody></table>"}function r(t,e,n){var a=t.getFullYear(),r=e.getFullYear(),i=r,o=0;return n&&(r-=r%n,i=r-r%n+n-1),a>i?o=1:r>a&&(o=-1),o}function i(){var t=new ge;return new ge(t.getFullYear(),t.getMonth(),t.getDate())}function o(t,e,n){var a=i();return t&&(a=new ge(+t)),e>a?a=new ge(+e):a>n&&(a=new ge(+n)),a}function l(t,e,n){return+t>=+e&&+n>=+t}function s(t,e){return t.slice(e).concat(t.slice(0,e))}function u(t,e,n){e=e instanceof ge?e.getFullYear():t.getFullYear()+n*e,t.setFullYear(e)}function c(e){t(this).toggleClass(L,ne.indexOf(e.type)>-1||e.type==te)}function f(t){t.preventDefault()}function d(t){return C(t).calendars.standard}function g(t){var n=ve[t.start],a=ve[t.depth],r=C(t.culture);t.format=y(t.format||r.calendars.standard.patterns.d),isNaN(n)&&(n=0,t.start=B),(a===e||a>n)&&(t.depth=B),t.dates||(t.dates=[])}function v(t){A&&t.find("*").attr("unselectable","on")}function h(t,e){for(var n=0,a=e.length;a>n;n++)if(t===+e[n])return!0;return!1}function m(t,e){return t?t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate():!1}var _,p=window.kendo,w=p.support,k=p.ui,D=k.Widget,F=p.parseDate,b=p._adjustDate,Y=p.keys,y=p._extractFormat,x=p.template,C=p.getCulture,M=p.support.transitions,T=M?M.css+"transform-origin":"",S=x('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),O=x('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),V=p.support.browser,A=V.msie&&9>V.version,P=".kendoCalendar",E="click"+P,H="keydown"+P,N="id",z="min",I="left",W="slideIn",B="month",R="century",U="change",G="navigate",q="value",L="k-state-hover",j="k-state-disabled",K="k-state-focused",Q="k-other-month",J=' class="'+Q+'"',X="k-nav-today",Z="td:has(.k-link)",$="blur"+P,te="focus",ee=te+P,ne=w.touch?"touchstart":"mouseenter",ae=w.touch?"touchstart"+P:"mouseenter"+P,re=w.touch?"touchend"+P+" touchmove"+P:"mouseleave"+P,ie=6e4,oe=864e5,le="_prevArrow",se="_nextArrow",ue="aria-disabled",ce="aria-selected",fe=t.proxy,de=t.extend,ge=Date,ve={month:0,year:1,decade:2,century:3},he=D.extend({init:function(e,n){var a,r,i=this;D.fn.init.call(i,e,n),e=i.wrapper=i.element,n=i.options,n.url=window.unescape(n.url),i._templates(),i._header(),i._footer(i.footer),r=e.addClass("k-widget k-calendar").on(ae+" "+re,Z,c).on(H,"table.k-content",fe(i._move,i)).on(E,Z,function(e){var n=e.currentTarget.firstChild;-1!=n.href.indexOf("#")&&e.preventDefault(),i._click(t(n))}).on("mouseup"+P,function(){i._focusView(i.options.focusOnNav!==!1)}).attr(N),r&&(i._cellID=r+"_cell_selected"),a=n.value,g(n),i._index=ve[n.start],i._current=new ge(+o(a,n.min,n.max)),i._addClassProxy=function(){i._active=!0,i._cell.addClass(K)},i._removeClassProxy=function(){i._active=!1,i._cell.removeClass(K)},i.value(a),p.notify(i)},options:{name:"Calendar",value:null,min:new ge(1900,0,1),max:new ge(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:B,depth:B,animation:{horizontal:{effects:W,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[U,G],setOptions:function(t){g(t),D.fn.setOptions.call(this,t)},destroy:function(){var t=this,e=t._today;t.element.off(P),t._title.off(P),t[le].off(P),t[se].off(P),p.destroy(t._view),e&&p.destroy(e.off(P)),D.fn.destroy.call(t)},current:function(){return this._current},view:function(){return this._view},focus:function(t){t=t||this._table,this._bindTable(t),t.focus()},min:function(t){return this._option(z,t)},max:function(t){return this._option("max",t)},navigateToPast:function(){this._navigate(le,-1)},navigateToFuture:function(){this._navigate(se,1)},navigateUp:function(){var t=this,e=t._index;t._title.hasClass(j)||t.navigate(t._current,++e)},navigateDown:function(t){var n=this,a=n._index,r=n.options.depth;if(t)return a===ve[r]?(+n._value!=+t&&(n.value(t),n.trigger(U)),e):(n.navigate(t,--a),e)},navigate:function(n,a){a=isNaN(a)?ve[a]:a;var r,i,l,s,u=this,c=u.options,f=c.culture,d=c.min,g=c.max,h=u._title,m=u._table,p=u._oldTable,w=u._value,k=u._current,D=n&&+n>+k,F=a!==e&&a!==u._index;n?u._current=n=new ge(+o(n,d,g)):n=k,a===e?a=u._index:u._index=a,u._view=i=_.views[a],l=i.compare,s=a===ve[R],h.toggleClass(j,s).attr(ue,s),s=1>l(n,d),u[le].toggleClass(j,s).attr(ue,s),s=l(n,g)>-1,u[se].toggleClass(j,s).attr(ue,s),m&&p&&p.data("animating")&&(p.kendoStop(!0,!0),m.kendoStop(!0,!0)),u._oldTable=m,(!m||u._changeView)&&(h.html(i.title(n,d,g,f)),u._table=r=t(i.content(de({min:d,max:g,date:n,url:c.url,dates:c.dates,format:c.format,culture:f},u[i.name]))),v(r),u._animate({from:m,to:r,vertical:F,future:D}),u._focus(n),u.trigger(G)),a===ve[c.depth]&&w&&u._class("k-state-selected",i.toDateString(w)),u._class(K,i.toDateString(n)),!m&&u._cell&&u._cell.removeClass(K),u._changeView=!0},value:function(t){var n=this,a=n._view,r=n.options,i=n._view,o=r.min,s=r.max;return t===e?n._value:(t=F(t,r.format,r.culture),null!==t&&(t=new ge(+t),l(t,o,s)||(t=null)),n._value=t,i&&null===t&&n._cell?n._cell.removeClass("k-state-selected"):(n._changeView=!t||a&&0!==a.compare(t,n._current),n.navigate(t)),e)},_move:function(e){var n,a,r,i,l=this,s=l.options,u=e.keyCode,c=l._view,f=l._index,d=new ge(+l._current),g=p.support.isRtl(l.wrapper);return e.target===l._table[0]&&(l._active=!0),e.ctrlKey?u==Y.RIGHT&&!g||u==Y.LEFT&&g?(l.navigateToFuture(),a=!0):u==Y.LEFT&&!g||u==Y.RIGHT&&g?(l.navigateToPast(),a=!0):u==Y.UP?(l.navigateUp(),a=!0):u==Y.DOWN&&(l._click(t(l._cell[0].firstChild)),a=!0):(u==Y.RIGHT&&!g||u==Y.LEFT&&g?(n=1,a=!0):u==Y.LEFT&&!g||u==Y.RIGHT&&g?(n=-1,a=!0):u==Y.UP?(n=0===f?-7:-4,a=!0):u==Y.DOWN?(n=0===f?7:4,a=!0):u==Y.ENTER?(l._click(t(l._cell[0].firstChild)),a=!0):u==Y.HOME||u==Y.END?(r=u==Y.HOME?"first":"last",i=c[r](d),d=new ge(i.getFullYear(),i.getMonth(),i.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()),a=!0):u==Y.PAGEUP?(a=!0,l.navigateToPast()):u==Y.PAGEDOWN&&(a=!0,l.navigateToFuture()),(n||r)&&(r||c.setDate(d,n),l._focus(o(d,s.min,s.max)))),a&&e.preventDefault(),l._current},_animate:function(t){var e=this,n=t.from,a=t.to,r=e._active;n?n.parent().data("animating")?(n.parent().kendoStop(!0,!0).remove(),n.remove(),a.insertAfter(e.element[0].firstChild),e._focusView(r)):n.is(":visible")&&e.options.animation!==!1?e[t.vertical?"_vertical":"_horizontal"](n,a,t.future):(a.insertAfter(n),n.remove(),e._focusView(r)):(a.insertAfter(e.element[0].firstChild),e._bindTable(a))},_horizontal:function(t,n,a){var r=this,i=r._active,o=r.options.animation.horizontal,l=o.effects,s=t.outerWidth();l&&-1!=l.indexOf(W)&&(t.add(n).css({width:s}),t.wrap("<div/>"),r._focusView(i,t),t.parent().css({position:"relative",width:2*s,"float":I,"margin-left":a?0:-s}),n[a?"insertAfter":"insertBefore"](t),de(o,{effects:W+":"+(a?"right":I),complete:function(){t.remove(),n.unwrap(),r._focusView(i),r._oldTable=e}}),t.parent().kendoStop(!0,!0).kendoAnimate(o))},_vertical:function(t,n){var a,r,i=this,o=i.options.animation.vertical,l=o.effects,s=i._active;l&&-1!=l.indexOf("zoom")&&(n.css({position:"absolute",top:t.prev().outerHeight(),left:0}).insertBefore(t),T&&(a=i._cellByDate(i._view.toDateString(i._current)),r=a.position(),r=r.left+parseInt(a.width()/2,10)+"px"+" "+(r.top+parseInt(a.height()/2,10)+"px"),n.css(T,r)),t.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){t.remove(),n.css({position:"static",top:0,left:0}),i._focusView(s),i._oldTable=e}}),n.kendoStop(!0,!0).kendoAnimate(o))},_cellByDate:function(e){return this._table.find("td:not(."+Q+")").filter(function(){return t(this.firstChild).attr(p.attr(q))===e})},_class:function(e,n){var a=this,r=a._cellID,i=a._cell;i&&i.removeAttr(ce).removeAttr(N),i=a._table.find("td:not(."+Q+")").removeClass(e).filter(function(){return t(this.firstChild).attr(p.attr(q))===n}).attr(ce,!0),e!==K||a._active||a.options.focusOnNav===!1||(e=""),i.addClass(e),i[0]&&(a._cell=i),r&&(i.attr(N,r),a._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",r))},_bindTable:function(t){t.on(ee,this._addClassProxy).on($,this._removeClassProxy)},_click:function(t){var e=this,n=e.options,a=new Date(+e._current),r=t.attr(p.attr(q)).split("/");r=new ge(r[0],r[1],r[2]),b(r),e._view.setDate(a,r),e.navigateDown(o(a,n.min,n.max))},_focus:function(t){var e=this,n=e._view;0!==n.compare(t,e._current)?e.navigate(t):(e._current=t,e._class(K,n.toDateString(t)))},_focusView:function(t,e){t&&this.focus(e)},_footer:function(n){var a=this,r=i(),o=a.element,l=o.find(".k-footer");return n?(l[0]||(l=t('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(o)),a._today=l.show().find(".k-link").html(n(r)).attr("title",p.toString(r,"D",a.options.culture)),a._toggle(),e):(a._toggle(!1),l.hide(),e)},_header:function(){var t,e=this,n=e.element,a=e.options.focusOnNav!==!1;n.find(".k-header")[0]||n.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),t=n.find(".k-link").on(ae+" "+re+" "+ee+" "+$,c).click(!1),e._title=t.eq(1).on(E,function(){e._focusView(a),e.navigateUp()}),e[le]=t.eq(0).on(E,function(){e._focusView(a),e.navigateToPast()}),e[se]=t.eq(2).on(E,function(){e._focusView(a),e.navigateToFuture()})},_navigate:function(t,e){var n=this,a=n._index+1,r=new ge(+n._current);t=n[t],t.hasClass(j)||(a>3?r.setFullYear(r.getFullYear()+100*e):_.views[a].setDate(r,e),n.navigate(r))},_option:function(t,n){var a,r,i=this,o=i.options,l=+i._value,s=se;return n===e?o[t]:(n=F(n,o.format,o.culture),n&&(o[t]=new ge(+n),r=i._view.compare(n,i._current),l?t===z?(a=+n>l,r=r>-1,s=le):(a=l>+n,r=1>r):r=m(i._current,n),a?i.value(null):r?i.navigate():i[s].toggleClass(j,!1).attr(ue,!1),i._toggle()),e)},_toggle:function(t){var n=this,a=n.options,r=n._today;t===e&&(t=l(i(),a.min,a.max)),r&&(r.off(E),t?r.addClass(X).removeClass(j).on(E,fe(n._todayClick,n)):r.removeClass(X).addClass(j).on(E,f))},_todayClick:function(t){var e=this,n=ve[e.options.depth],a=i();t.preventDefault(),0===e._view.compare(e._current,a)&&e._index==n&&(e._changeView=!1),e._value=a,e.navigate(a,n),e.trigger(U)},_templates:function(){var t=this,e=t.options,n=e.footer,a=e.month,r=a.content,i=a.empty;t.month={content:x('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+p.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(r||"#=data.value#")+"</a></td>",{useWithBlock:!!r}),empty:x('<td role="gridcell">'+(i||"&nbsp;")+"</td>",{useWithBlock:!!i})},n!==!1&&(t.footer=x(n||'#= kendo.toString(data,"D","'+e.culture+'") #',{useWithBlock:!1}))}});k.plugin(he),_={firstDayOfMonth:function(t){return new ge(t.getFullYear(),t.getMonth(),1)},firstVisibleDay:function(t,e){e=e||p.culture().calendar;for(var n=e.firstDay,a=new ge(t.getFullYear(),t.getMonth(),0,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());a.getDay()!=n;)_.setTime(a,-1*oe);return a},setTime:function(t,e){var n=t.getTimezoneOffset(),a=new ge(t.getTime()+e),r=a.getTimezoneOffset()-n;t.setTime(a.getTime()+r*ie)},views:[{name:B,title:function(t,e,n,a){return d(a).months.names[t.getMonth()]+" "+t.getFullYear()},content:function(t){for(var e=this,n=0,r=t.min,i=t.max,o=t.date,l=t.dates,u=t.format,c=t.culture,f=t.url,g=f&&l[0],v=d(c),m=v.firstDay,w=v.days,k=s(w.names,m),D=s(w.namesShort,m),F=_.firstVisibleDay(o,v),Y=e.first(o),y=e.last(o),x=e.toDateString,C=new ge,M='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';7>n;n++)M+='<th scope="col" title="'+k[n]+'">'+D[n]+"</th>";return C=new ge(C.getFullYear(),C.getMonth(),C.getDate()),b(C),C=+C,a({cells:42,perRow:7,html:M+='</tr></thead><tbody><tr role="row">',start:new ge(F.getFullYear(),F.getMonth(),F.getDate()),min:new ge(r.getFullYear(),r.getMonth(),r.getDate()),max:new ge(i.getFullYear(),i.getMonth(),i.getDate()),content:t.content,empty:t.empty,setter:e.setDate,build:function(t){var e=[],n=t.getDay(),a="",r="#";return(Y>t||t>y)&&e.push(Q),+t===C&&e.push("k-today"),(0===n||6===n)&&e.push("k-weekend"),g&&h(+t,l)&&(r=f.replace("{0}",p.toString(t,u,c)),a=" k-action-link"),{date:t,dates:l,ns:p.ns,title:p.toString(t,"D",c),value:t.getDate(),dateString:x(t),cssClass:e[0]?' class="'+e.join(" ")+'"':"",linkClass:a,url:r}}})},first:function(t){return _.firstDayOfMonth(t)},last:function(t){var e=new ge(t.getFullYear(),t.getMonth()+1,0),n=_.firstDayOfMonth(t),a=Math.abs(e.getTimezoneOffset()-n.getTimezoneOffset());return a&&e.setHours(n.getHours()+a/60),e},compare:function(t,e){var n,a=t.getMonth(),r=t.getFullYear(),i=e.getMonth(),o=e.getFullYear();return n=r>o?1:o>r?-1:a==i?0:a>i?1:-1},setDate:function(t,e){var n=t.getHours();e instanceof ge?t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()):_.setTime(t,e*oe),b(t,n)},toDateString:function(t){return t.getFullYear()+"/"+t.getMonth()+"/"+t.getDate()}},{name:"year",title:function(t){return t.getFullYear()},content:function(t){var e=d(t.culture).months.namesAbbr,n=this.toDateString,r=t.min,i=t.max;return a({min:new ge(r.getFullYear(),r.getMonth(),1),max:new ge(i.getFullYear(),i.getMonth(),1),start:new ge(t.date.getFullYear(),0,1),setter:this.setDate,build:function(t){return{value:e[t.getMonth()],ns:p.ns,dateString:n(t),cssClass:""}}})},first:function(t){return new ge(t.getFullYear(),0,t.getDate())},last:function(t){return new ge(t.getFullYear(),11,t.getDate())},compare:function(t,e){return r(t,e)},setDate:function(t,e){var n,a=t.getHours();e instanceof ge?(n=e.getMonth(),t.setFullYear(e.getFullYear(),n,t.getDate()),n!==t.getMonth()&&t.setDate(0)):(n=t.getMonth()+e,t.setMonth(n),n>11&&(n-=12),n>0&&t.getMonth()!=n&&t.setDate(0)),b(t,a)},toDateString:function(t){return t.getFullYear()+"/"+t.getMonth()+"/1"}},{name:"decade",title:function(t,e,a){return n(t,e,a,10)},content:function(t){var e=t.date.getFullYear(),n=this.toDateString;return a({start:new ge(e-e%10-1,0,1),min:new ge(t.min.getFullYear(),0,1),max:new ge(t.max.getFullYear(),0,1),setter:this.setDate,build:function(t,e){return{value:t.getFullYear(),ns:p.ns,dateString:n(t),cssClass:0===e||11==e?J:""}}})},first:function(t){var e=t.getFullYear();return new ge(e-e%10,t.getMonth(),t.getDate())},last:function(t){var e=t.getFullYear();return new ge(e-e%10+9,t.getMonth(),t.getDate())},compare:function(t,e){return r(t,e,10)},setDate:function(t,e){u(t,e,1)},toDateString:function(t){return t.getFullYear()+"/0/1"}},{name:R,title:function(t,e,a){return n(t,e,a,100)},content:function(t){var e=t.date.getFullYear(),n=t.min.getFullYear(),r=t.max.getFullYear(),i=this.toDateString,o=n,l=r;return o-=o%10,l-=l%10,10>l-o&&(l=o+9),a({start:new ge(e-e%100-10,0,1),min:new ge(o,0,1),max:new ge(l,0,1),setter:this.setDate,build:function(t,e){var a=t.getFullYear(),o=a+9;return n>a&&(a=n),o>r&&(o=r),{ns:p.ns,value:a+" - "+o,dateString:i(t),cssClass:0===e||11==e?J:""}}})},first:function(t){var e=t.getFullYear();return new ge(e-e%100,t.getMonth(),t.getDate())},last:function(t){var e=t.getFullYear();return new ge(e-e%100+99,t.getMonth(),t.getDate())},compare:function(t,e){return r(t,e,100)},setDate:function(t,e){u(t,e,10)},toDateString:function(t){var e=t.getFullYear();return e-e%10+"/0/1"}}]},_.isEqualDatePart=m,_.makeUnselectable=v,_.restrictValue=o,_.isInRange=l,_.normalize=g,_.viewsEnum=ve,p.calendar=_})(window.kendo.jQuery);;(function(e,t){function a(t){var a=t.parseFormats,n=t.format;H.normalize(t),a=e.isArray(a)?a:[a],-1===e.inArray(n,a)&&a.splice(0,0,t.format),t.parseFormats=a}function n(e){e.preventDefault()}var o,r=window.kendo,i=r.ui,l=i.Widget,s=r.parseDate,d=r.keys,u=r.template,p=r._activeElement,c="<div />",f="<span />",m=".kendoDatePicker",v="click"+m,_="open",h="close",k="change",w="dateView",g="disabled",y="readonly",b="k-state-default",x="k-state-focused",C="k-state-selected",V="k-state-disabled",D="k-state-hover",T="keydown"+m,A="mouseenter"+m+" mouseleave"+m,I="mousedown"+m,W="id",R="min",E="max",N="month",F="aria-disabled",O="aria-expanded",P="aria-hidden",S="aria-readonly",H=r.calendar,B=H.isInRange,z=H.restrictValue,K=H.isEqualDatePart,U=e.extend,j=e.proxy,q=Date,Q=function(t){var a,n=this,l=document.body,s=o.sharedCalendar,d=e(c).attr(P,"true").addClass("k-calendar-container").appendTo(l);s||(s=o.sharedCalendar=new i.Calendar(e(c).attr(W,r.guid()).hide().appendTo(l),{focusOnNav:!1}),H.makeUnselectable(s.element)),n.calendar=s,n.options=t=t||{},a=t.id,a&&(a+="_dateview",d.attr(W,a),n._dateViewID=a),n.popup=new i.Popup(d,U(t.popup,t,{name:"Popup",isRtl:r.support.isRtl(t.anchor)})),n.div=d,n._templates(),n.value(t.value)};Q.prototype={_calendar:function(){var e=this,t=e.popup,a=e.options,o=e.calendar,r=o.element;r.data(w)!==e&&(r.appendTo(t.element).data(w,e).off(v+" "+T).on(v,"td:has(.k-link)",j(e._click,e)).on(I,n).show(),o.unbind(k).bind(k,a),o.month=e.month,o.options.dates=a.dates,o.options.depth=a.depth,o.options.culture=a.culture,o._footer(e.footer),o.min(a.min),o.max(a.max),o._value=null,o.navigate(e._value||e._current,a.start),e.value(e._value))},destroy:function(){var a,n=this,r=n.calendar,i=r.element,l=i.data(w);(l===t||l===n)&&(a=e(".k-calendar-container"),a.length>1?i.hide().appendTo(document.body):(i.off(m),r.destroy(),r.element.remove(),o.sharedCalendar=null)),n.popup.destroy()},open:function(){var e=this;e._calendar(),e.popup.open()},close:function(){this.popup.close()},min:function(e){this._option(R,e)},max:function(e){this._option(E,e)},toggle:function(){var e=this;e[e.popup.visible()?h:_]()},move:function(e){var a=this,n=e.keyCode,o=a.calendar,r=e.ctrlKey&&n==d.DOWN||n==d.ENTER;if(n==d.ESC)return a.close(),t;if(e.altKey)return n==d.DOWN?(a.open(),e.preventDefault()):n==d.UP&&(a.close(),e.preventDefault()),t;if(a.popup.visible())return r&&o._cell.hasClass(C)?(a.close(),e.preventDefault(),t):(a._current=o._move(e),t)},value:function(e){var t=this,a=t.calendar,n=t.options;t._value=e,t._current=new q(+z(e,n.min,n.max)),a.element.data(w)===t&&a.value(e)},_click:function(e){-1!==e.currentTarget.className.indexOf(C)&&this.close()},_option:function(e,t){var a=this,n=a.options,o=a.calendar;n[e]=t,o.element.data(w)===a&&o[e](t)},_templates:function(){var e=this,t=e.options,a=t.footer,n=t.month||{},o=n.content,i=n.empty;e.month={content:u('<td#=data.cssClass#><a tabindex="-1" class="k-link" href="\\#" '+r.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(o||"#=data.value#")+"</a></td>",{useWithBlock:!!o}),empty:u("<td>"+(i||"&nbsp;")+"</td>",{useWithBlock:!!i})},a!==!1&&(e.footer=u(a||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}))}},Q.normalize=a,r.DateView=Q,o=l.extend({init:function(e,t){var n,o,i=this;l.fn.init.call(i,e,t),e=i.element,t=i.options,a(t),i._wrapper(),i.dateView=new Q(U({},t,{id:e.attr(W),anchor:i.wrapper,change:function(){i._change(this.value()),i.close()},close:function(t){i.trigger(h)?t.preventDefault():(e.attr(O,!1),o.attr(P,!0))},open:function(t){var a,n=i.options;i.trigger(_)?t.preventDefault():(i.element.val()!==i._oldText&&(a=s(e.val(),n.parseFormats,n.culture),a?(i.dateView._current=a,i.dateView.calendar._focus(a)):i.dateView.value(a)),e.attr(O,!0),o.attr(P,!1))}})),o=i.dateView.div,i._icon(),e[0].type="text",e.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1,"aria-owns":i.dateView._dateViewID}),i._reset(),i._template(),n=e.is("[disabled]"),n?i.enable(!1):i.readonly(e.is("[readonly]")),i.value(t.value||i.element.val()),r.notify(i)},events:[_,h,k],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:N,depth:N,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(e){var t=this,n=t.dateView,o=n.options;l.fn.setOptions.call(t,e),a(t.options),n.options=U(o,t.options,{change:o.change,close:o.close,open:o.open})},_editable:function(e){var t=this,a=t._dateIcon.off(m),o=t.element.off(m),r=t._inputWrapper.off(m),i=e.readonly,l=e.disable;i||l?(r.addClass(l?V:b).removeClass(l?b:V),o.attr(g,l).attr(y,i).attr(F,l).attr(S,i)):(r.addClass(b).removeClass(V).on(A,t._toggleHover),o.removeAttr(g).removeAttr(y).attr(F,!1).attr(S,!1).on("keydown"+m,j(t._keydown,t)).on("blur"+m,j(t._blur,t)).on("focus"+m,function(){t._inputWrapper.addClass(x)}),a.on(v,j(t._click,t)).on(I,n))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;l.fn.destroy.call(e),e.dateView.destroy(),e.element.off(m),e._dateIcon.off(m),e._inputWrapper.off(m),e._form&&e._form.off("reset",e._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(e){return this._option(R,e)},max:function(e){return this._option(E,e)},value:function(e){var a=this;return e===t?a._value:(a._old=a._update(e),null===a._old&&a.element.val(""),a._oldText=a.element.val(),t)},_toggleHover:function(t){e(t.currentTarget).toggleClass(D,"mouseenter"===t.type)},_blur:function(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&e._change(t),e._inputWrapper.removeClass(x)},_click:function(){var e=this,t=e.element;e.dateView.toggle(),r.support.touch||t[0]===p()||t.focus()},_change:function(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t.trigger(k),t.element.trigger(k))},_keydown:function(e){var t=this,a=t.dateView,n=t.element.val();a.popup.visible()||e.keyCode!=d.ENTER||n===t._oldText?(a.move(e),t._updateARIA(a._current)):t._change(n)},_icon:function(){var t,a=this,n=a.element;t=n.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(n)),a._dateIcon=t.attr({role:"button","aria-controls":a.dateView._dateViewID})},_option:function(e,a){var n=this,o=n.options;return a===t?o[e]:(a=s(a,o.parseFormats,o.culture),a&&(o[e]=new q(+a),n.dateView[e](a)),t)},_update:function(e){var t,a=this,n=a.options,o=n.min,i=n.max,l=s(e,n.parseFormats,n.culture);return+l===+a._value?(t=r.toString(l,n.format,n.culture),t!==e&&a.element.val(null===l?e:t),l):(null!==l&&K(l,o)?l=z(l,o,i):B(l,o,i)||(l=null),a._value=l,a.dateView.value(l),a.element.val(l?r.toString(l,n.format,n.culture):e),a._updateARIA(l),l)},_wrapper:function(){var t,a=this,n=a.element;t=n.parents(".k-datepicker"),t[0]||(t=n.wrap(f).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(f).parent()),t[0].style.cssText=n[0].style.cssText,n.css({width:"100%",height:n[0].style.height}),a.wrapper=t.addClass("k-widget k-datepicker k-header").addClass(n[0].className),a._inputWrapper=e(t[0].firstChild)},_reset:function(){var e=this,t=e.element,a=t.closest("form");a[0]&&(e._resetHandler=function(){e.value(t[0].defaultValue)},e._form=a.on("reset",e._resetHandler))},_template:function(){this._ariaTemplate=u(this.options.ARIATemplate)},_updateARIA:function(e){this.element.attr("aria-label",this._ariaTemplate({current:e}))}}),i.plugin(o)})(window.kendo.jQuery);;(function(e,t){function n(e,t,n){var i,o=e.getTimezoneOffset();e.setTime(e.getTime()+t),n||(i=e.getTimezoneOffset()-o,e.setTime(e.getTime()+i*M))}function i(){var e=new Q,t=new Q(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),n=new Q(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0);return-1*(t.getTimezoneOffset()-n.getTimezoneOffset())}function o(e){return 60*e.getHours()*M+e.getMinutes()*M+1e3*e.getSeconds()+e.getMilliseconds()}function a(e,t,n){var i,a=o(t),r=o(n);return e&&a!=r?(i=o(e),a>i&&(i+=A),a>r&&(r+=A),i>=a&&r>=i):!0}function r(e){var t=e.parseFormats;e.format=f(e.format||c.getCulture(e.culture).calendars.standard.patterns.t),t=Y(t)?t:[t],t.splice(0,0,e.format),e.parseFormats=t}function s(e){e.preventDefault()}var l,u,c=window.kendo,p=c.keys,d=c._activeElement,f=c._extractFormat,h=c.support,m=h.browser,v=c.ui,g=v.Widget,_="open",w="close",k="change",y=".kendoTimePicker",b="click"+y,x="k-state-default",T="disabled",C="readonly",D="li",V="<span/>",F="k-state-focused",W="k-state-hover",S="mouseenter"+y+" mouseleave"+y,H="mousedown"+y,M=6e4,A=864e5,I="k-state-selected",O="k-state-disabled",B="aria-selected",E="aria-expanded",L="aria-hidden",N="aria-disabled",R="aria-readonly",z="aria-activedescendant",P="id",Y=e.isArray,j=e.extend,K=e.proxy,Q=Date,U=new Q;U=new Q(U.getFullYear(),U.getMonth(),U.getDate(),0,0,0),l=function(t){var n=this,i=t.id;n.options=t,n.ul=e('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:h.kineticScrollNeeded?"":"auto"}).on(b,D,K(n._click,n)).on("mouseenter"+y,D,function(){e(this).addClass(W)}).on("mouseleave"+y,D,function(){e(this).removeClass(W)}),n.list=e("<div class='k-list-container'/>").append(n.ul).on(H,s),i&&(n._timeViewID=i+"_timeview",n._optionID=i+"_option_selected",n.ul.attr(P,n._timeViewID)),n._popup(),n.template=c.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})},l.prototype={current:function(n){var i=this,o=i.options.active;return n===t?i._current:(i._current&&i._current.removeClass(I).removeAttr(B).removeAttr(P),n&&(n=e(n).addClass(I).attr(P,i._optionID).attr(B,!0),i.scroll(n[0])),i._current=n,o&&o(n),t)},close:function(){this.popup.close()},destroy:function(){var e=this;e.ul.off(y),e.list.off(y),e.popup.destroy()},open:function(){var e=this;e.ul[0].firstChild||e.bind(),e.popup.open(),e._current&&e.scroll(e._current[0])},dataBind:function(e){for(var t,n=this,i=n.options,o=i.format,r=c.toString,s=n.template,l=e.length,u=0,p="";l>u;u++)t=e[u],a(t,i.min,i.max)&&(p+=s(r(t,o,i.culture)));n._html(p,l)},refresh:function(){var e,t,a,r=this,s=r.options,l=s.format,u=i(),p=0>u,d=s.min,f=s.max,h=o(d),m=o(f),v=s.interval*M,g=c.toString,_=r.template,w=new Q(+d),k=w.getDate(),y=0,b="";for(a=p?(A+u*M)/v:A/v,h!=m&&(h>m&&(m+=A),a=(m-h)/v+1),t=parseInt(a,10);a>y;y++)y&&n(w,v,p),m&&t==y&&(e=o(w),w.getDate()>k&&(e+=A),e>m&&(w=new Q(+f))),b+=_(g(w,l,s.culture));r._html(b,a)},bind:function(){var e=this,t=e.options.dates;t&&t[0]?e.dataBind(t):e.refresh()},_html:function(e,t){var n=this;n.ul[0].innerHTML=e,n._height(t),n.current(null),n.select(n._value)},scroll:function(e){if(e){var t=this.ul[0],n=e.offsetTop,i=e.offsetHeight,o=t.scrollTop,a=t.clientHeight,r=n+i;t.scrollTop=o>n?n:r>o+a?r-a:o}},select:function(t){var n=this,i=n.options,o=n._current;t instanceof Date&&(t=c.toString(t,i.format,i.culture)),"string"==typeof t&&(o&&o.text()===t?t=o:(t=e.grep(n.ul[0].childNodes,function(e){return(e.textContent||e.innerText)==t}),t=t[0]?t:null)),n.current(t)},toggle:function(){var e=this;e.popup.visible()?e.close():e.open()},value:function(e){var t=this;t._value=e,t.ul[0].firstChild&&t.select(e)},_click:function(t){var n=this,i=e(t.currentTarget);t.isDefaultPrevented()||(n.select(i),n.options.change(i.text(),!0),n.close())},_height:function(e){if(e){var t=this,n=t.list,i=n.parent(".k-animation-container"),o=t.options.height;n.add(i).show().height(t.ul[0].scrollHeight>o?o:"auto").hide()}},_parse:function(e){var t=this,n=t.options,i=t._value||U;return e instanceof Q?e:(e=c.parseDate(e,n.parseFormats,n.culture),e&&(e=new Q(i.getFullYear(),i.getMonth(),i.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())),e)},_adjustListWidth:function(){var e,t,n=this.list,i=n[0].style.width,o=this.options.anchor;(n.data("width")||!i)&&(e=window.getComputedStyle?window.getComputedStyle(o[0],null):0,t=e?parseFloat(e.width):o.outerWidth(),e&&(m.mozilla||m.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),i=t-(n.outerWidth()-n.width()),n.css({fontFamily:o.css("font-family"),width:i}).data("width",i))},_popup:function(){var e=this,t=e.list,n=e.options,i=n.anchor;e.popup=new v.Popup(t,j(n.popup,{anchor:i,open:n.open,close:n.close,animation:n.animation,isRtl:h.isRtl(n.anchor)})),c.touchScroller(e.popup.element)},move:function(e){var n=this,i=e.keyCode,o=n.ul[0],a=n._current,r=i===p.DOWN;if(i===p.UP||r){if(e.altKey)return n.toggle(r),t;a=r?a?a[0].nextSibling:o.firstChild:a?a[0].previousSibling:o.lastChild,a&&n.select(a),n.options.change(n._current.text()),e.preventDefault()}else(i===p.ENTER||i===p.TAB||i===p.ESC)&&(e.preventDefault(),a&&n.options.change(a.text(),!0),n.close())}},l.getMilliseconds=o,c.TimeView=l,u=g.extend({init:function(e,t){var n,i,o,a=this;g.fn.init.call(a,e,t),e=a.element,t=a.options,r(t),a._wrapper(),a.timeView=i=new l(j({},t,{id:e.attr(P),anchor:a.wrapper,format:t.format,change:function(t,n){n?a._change(t):e.val(t)},open:function(t){a.timeView._adjustListWidth(),a.trigger(_)?t.preventDefault():(e.attr(E,!0),n.attr(L,!1))},close:function(t){a.trigger(w)?t.preventDefault():(e.attr(E,!1),n.attr(L,!0))},active:function(t){e.removeAttr(z),t&&e.attr(z,i._optionID)}})),n=i.ul,a._icon(),a._reset(),e[0].type="text",e.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1,"aria-owns":i._timeViewID}),o=e.is("[disabled]"),o?a.enable(!1):a.readonly(e.is("[readonly]")),a.value(t.value||e.val()),c.notify(a)},options:{name:"TimePicker",min:U,max:U,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[_,w,k],setOptions:function(e){var t=this,n=t.timeView,i=n.options;g.fn.setOptions.call(t,e),r(t.options),n.options=j(i,t.options,{active:i.active,change:i.change,close:i.close,open:i.open}),n.ul[0].innerHTML=""},dataBind:function(e){Y(e)&&this.timeView.dataBind(e)},_editable:function(e){var t=this,n=e.disable,i=e.readonly,o=t._arrow.off(y),a=t.element.off(y),r=t._inputWrapper.off(y);i||n?(r.addClass(n?O:x).removeClass(n?x:O),a.attr(T,n).attr(C,i).attr(N,n).attr(R,i)):(r.addClass(x).removeClass(O).on(S,t._toggleHover),a.removeAttr(T).removeAttr(C).attr(N,!1).attr(R,!1).on("keydown"+y,K(t._keydown,t)).on("blur"+y,K(t._blur,t)).on("focus"+y,function(){t._inputWrapper.addClass(F)}),o.on(b,K(t._click,t)).on(H,s))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;g.fn.destroy.call(e),e.timeView.destroy(),e.element.off(y),e._arrow.off(y),e._inputWrapper.off(y),e._form&&e._form.off("reset",e._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},value:function(e){var n=this;return e===t?n._value:(n._old=n._update(e),null===n._old&&n.element.val(""),n._oldText=n.element.val(),t)},_blur:function(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&e._change(t),e._inputWrapper.removeClass(F)},_click:function(){var e=this,t=e.element;e.timeView.toggle(),h.touch||t[0]===d()||t.focus()},_change:function(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t.trigger(k),t.element.trigger(k))},_icon:function(){var t,n=this,i=n.element;t=i.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(i)),n._arrow=t.attr({role:"button","aria-controls":n.timeView._timeViewID})},_keydown:function(e){var t=this,n=e.keyCode,i=t.timeView,o=t.element.val();i.popup.visible()||e.altKey?i.move(e):n===p.ENTER&&o!==t._oldText&&t._change(o)},_option:function(e,n){var i=this,o=i.options;return n===t?o[e]:(n=i.timeView._parse(n),n&&(n=new Q(+n),o[e]=n,i.timeView.options[e]=n,i.timeView.bind()),t)},_toggleHover:function(t){e(t.currentTarget).toggleClass(W,"mouseenter"===t.type)},_update:function(e){var t=this,n=t.options,i=t.timeView,o=i._parse(e);return a(o,n.min,n.max)||(o=null),t._value=o,t.element.val(o?c.toString(o,n.format,n.culture):e),i.value(o),o},_wrapper:function(){var t,n=this,i=n.element;t=i.parents(".k-timepicker"),t[0]||(t=i.wrap(V).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(V).parent()),t[0].style.cssText=i[0].style.cssText,n.wrapper=t.addClass("k-widget k-timepicker k-header").addClass(i[0].className),i.css({width:"100%",height:i[0].style.height}),n._inputWrapper=e(t[0].firstChild)},_reset:function(){var e=this,t=e.element,n=t.closest("form");n[0]&&(e._resetHandler=function(){e.value(t[0].defaultValue)},e._form=n.on("reset",e._resetHandler))}}),v.plugin(u)})(window.kendo.jQuery);;(function(e,t){function a(e){e.preventDefault()}function n(t){var a,n=i.getCulture(t.culture).calendars.standard.patterns;t.format=s(t.format||n.g),t.timeFormat=a=s(t.timeFormat||n.t),i.DateView.normalize(t),-1===e.inArray(a,t.parseFormats)&&t.parseFormats.splice(1,0,a)}var i=window.kendo,o=i.TimeView,r=i.parseDate,l=i._activeElement,s=i._extractFormat,u=i.calendar,d=u.isInRange,c=u.restrictValue,m=u.isEqualDatePart,p=o.getMilliseconds,f=i.ui,_=f.Widget,v="open",h="close",g="change",w=".kendoDateTimePicker",k="click"+w,x="disabled",V="readonly",y="k-state-default",b="k-state-focused",D="k-state-hover",A="k-state-disabled",I="mouseenter"+w+" mouseleave"+w,T="mousedown"+w,C="month",F="<span/>",R="aria-activedescendant",W="aria-expanded",H="aria-hidden",S="aria-owns",E="aria-disabled",M="aria-readonly",q=Date,B=new q(1900,0,1),N=new q(2099,11,31),O={view:"date"},P={view:"time"},j=e.extend,L=_.extend({init:function(e,t){var a,o=this;_.fn.init.call(o,e,t),e=o.element,t=o.options,n(t),o._wrapper(),o._views(),o._icons(),o._reset(),o._template(),e[0].type="text",e.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1}),o._midnight=0===p(t.min)+p(t.max),a=e.is("[disabled]"),a?o.enable(!1):o.readonly(e.is("[readonly]")),o.value(t.value||e.val()),i.notify(o)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new q(B),max:new q(N),interval:30,height:200,footer:"",start:C,depth:C,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "G")#'},events:[v,h,g],setOptions:function(e){var t=this,a=t.dateView.options,i=t.timeView.options;_.fn.setOptions.call(t,e),n(t.options),e=t.options,j(a,e,{change:a.change,close:a.close,open:a.open}),j(i,e,{format:e.timeFormat,active:i.active,change:i.change,close:i.close,open:i.open}),t.timeView.ul[0].innerHTML=""},_editable:function(t){var n=this,o=n.element.off(w),r=n._dateIcon.off(w),s=n._timeIcon.off(w),u=n._inputWrapper.off(w),d=t.readonly,c=t.disable;d||c?(u.addClass(c?A:y).removeClass(c?y:A),o.attr(x,c).attr(V,d).attr(E,c).attr(M,d)):(u.addClass(y).removeClass(A).on(I,n._toggleHover),o.removeAttr(x).removeAttr(V).attr(E,!1).attr(M,!1).on("keydown"+w,e.proxy(n._keydown,n)).on("focus"+w,function(){n._inputWrapper.addClass(b)}).on("blur"+w,function(){n._inputWrapper.removeClass(b),o.val()!==n._oldText&&n._change(o.val()),n.close("date"),n.close("time")}),r.on(T,a).on(k,function(){n.toggle("date"),i.support.touch||o[0]===l()||o.focus()}),s.on(T,a).on(k,function(){n.toggle("time"),i.support.touch||o[0]===l()||o.focus()}))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;_.fn.destroy.call(e),e.dateView.destroy(),e.timeView.destroy(),e.element.off(w),e._dateIcon.off(w),e._timeIcon.off(w),e._inputWrapper.off(w),e._form&&e._form.off("reset",e._resetHandler)},close:function(e){"time"!==e&&(e="date"),this[e+"View"].close()},open:function(e){"time"!==e&&(e="date"),this[e+"View"].open()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},toggle:function(e){var t="timeView";"time"!==e?e="date":t="dateView",this[e+"View"].toggle(),this[t].close()},value:function(e){var a=this;return e===t?a._value:(a._old=a._update(e),null===a._old&&a.element.val(""),a._oldText=a.element.val(),t)},_change:function(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t.trigger(g),t.element.trigger(g))},_option:function(e,a){var n=this,i=n.options,o=n.timeView,l=o.options,s=n._value||n._old;if(a===t)return i[e];if(a=r(a,i.parseFormats,i.culture)){if(i[e]=new q(+a),n.dateView[e](a),n._midnight=0===p(i.min)+p(i.max),s&&m(a,s)){if(n._midnight&&"max"==e)return l[e]=N,o.dataBind([N]),t;l[e]=a}else l.max=N,l.min=B;o.bind()}},_toggleHover:function(t){e(t.currentTarget).toggleClass(D,"mouseenter"===t.type)},_update:function(t){var a,n,o,l,s,u=this,p=u.options,f=p.min,_=p.max,v=p.dates,h=u.timeView,g=r(t,p.parseFormats,p.culture);return+g===+u._value?(s=i.toString(g,p.format,p.culture),s!==t&&u.element.val(null===g?t:s),g):(null!==g&&m(g,f)?g=c(g,f,_):d(g,f,_)||(g=null),u._value=g,h.value(g),u.dateView.value(g),g&&(o=u._old,n=h.options,v[0]&&(v=e.grep(v,function(e){return m(g,e)}),v[0]&&(h.dataBind(v),l=!0)),l||(m(g,f)&&(n.min=f,n.max=N,a=!0),m(g,_)&&(u._midnight?(h.dataBind([N]),l=!0):(n.max=_,a||(n.min=B),a=!0))),!l&&(!o&&a||o&&!m(o,g))&&(a||(n.max=N,n.min=B),h.bind())),u.element.val(g?i.toString(g,p.format,p.culture):t),u._updateARIA(g),g)},_keydown:function(e){var t=this,a=t.dateView,n=t.timeView,o=t.element.val(),r=a.popup.visible();e.altKey&&e.keyCode===i.keys.DOWN?t.toggle(r?"time":"date"):r?(a.move(e),t._updateARIA(a._current)):n.popup.visible()?n.move(e):e.keyCode===i.keys.ENTER&&o!==t._oldText&&t._change(o)},_views:function(){var e,t,a,n,l,s=this,u=s.element,c=s.options,m=u.attr("id");s.dateView=e=new i.DateView(j({},c,{id:m,anchor:s.wrapper,change:function(){var t,a=e.calendar.value(),n=+a,i=+c.min,o=+c.max;(n===i||n===o)&&(t=new q(+s._value),t.setFullYear(a.getFullYear()),t.setMonth(a.getMonth()),t.setDate(a.getDate()),d(t,i,o)&&(a=t)),s._change(a),s.close("date")},close:function(e){s.trigger(h,O)?e.preventDefault():(u.attr(W,!1),a.attr(H,!0),t.popup.visible()||u.removeAttr(S))},open:function(t){s.trigger(v,O)?t.preventDefault():(s.element.val()!==s._oldText&&(l=r(u.val(),c.parseFormats,c.culture),l?(s.dateView._current=l,s.dateView.calendar._focus(l)):s.dateView.value(l)),a.attr(H,!1),u.attr(W,!0).attr(S,e._dateViewID))}})),a=e.div,s.timeView=t=new o({id:m,value:c.value,anchor:s.wrapper,animation:c.animation,format:c.timeFormat,culture:c.culture,height:c.height,interval:c.interval,min:new q(B),max:new q(N),parseFormats:c.parseFormats,change:function(a,n){a=t._parse(a),c.min>a?(a=new q(+c.min),t.options.min=a):a>c.max&&(a=new q(+c.max),t.options.max=a),n?(s._timeSelected=!0,s._change(a)):(u.val(i.toString(a,c.format,c.culture)),e.value(a),s._updateARIA(a))},close:function(t){s.trigger(h,P)?t.preventDefault():(n.attr(H,!0),u.attr(W,!1),e.popup.visible()||u.removeAttr(S))},open:function(e){t._adjustListWidth(),s.trigger(v,P)?e.preventDefault():(n.attr(H,!1),u.attr(W,!0).attr(S,t._timeViewID))},active:function(e){u.removeAttr(R),e&&u.attr(R,t._optionID)}}),n=t.ul},_icons:function(){var t,a=this,n=a.element;t=n.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(n)),t=t.children(),a._dateIcon=t.eq(0).attr({role:"button","aria-controls":a.dateView._dateViewID}),a._timeIcon=t.eq(1).attr({role:"button","aria-controls":a.timeView._timeViewID})},_wrapper:function(){var t,a=this,n=a.element;t=n.parents(".k-datetimepicker"),t[0]||(t=n.wrap(F).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(F).parent()),t[0].style.cssText=n[0].style.cssText,n.css({width:"100%",height:n[0].style.height}),a.wrapper=t.addClass("k-widget k-datetimepicker k-header").addClass(n[0].className),a._inputWrapper=e(t[0].firstChild)},_reset:function(){var e=this,t=e.element,a=t.closest("form");a[0]&&(e._resetHandler=function(){e.value(t[0].defaultValue)},e._form=a.on("reset",e._resetHandler))},_template:function(){this._ariaTemplate=i.template(this.options.ARIATemplate)},_updateARIA:function(e){this.element.attr("aria-label",this._ariaTemplate({current:e}))}});f.plugin(L)})(window.kendo.jQuery);;(function(e,t){function n(e,t,n){for(var a,o=0,s=t.length-1;s>o;++o)a=t[o],a in e||(e[a]={}),e=e[a];e[t[s]]=n}var a=window.kendo,o=a.ui,s=o.Select,i=a.support.mobileOS,r=".kendoDropDownList",l="disabled",p="readonly",d="change",c="k-state-focused",u="k-state-default",_="k-state-disabled",f="aria-disabled",h="aria-readonly",v="k-state-selected",g="mouseenter"+r+" mouseleave"+r,b="tabindex",m=e.proxy,w=s.extend({init:function(n,o){var i,l,p,d=this,c=o&&o.index;d.ns=r,o=e.isArray(o)?{dataSource:o}:o,s.fn.init.call(d,n,o),d._focusHandler=function(){d.wrapper.focus()},o=d.options,n=d.element.on("focus"+r,d._focusHandler),d._reset(),d._word="",d._wrapper(),d._tabindex(),d.wrapper.data(b,d.wrapper.attr(b)),d._aria(),d._span(),d._popup(),d._mobile(),d._dataSource(),d._ignoreCase(),d._enable(),d._cascade(),d._oldIndex=d.selectedIndex=-1,c!==t&&(o.index=c),o.autoBind?d.dataSource.fetch():(p=o.text||"",p||(i=d._optionLabelText(o.optionLabel),l=i&&0===o.index,d._isSelect?p=l?i:n.children(":selected").text():!n[0].value&&l&&(p=i)),d.text(p)),a.notify(d)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,template:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",ignoreCase:!0,animation:{}},events:["open","close",d,"select","dataBinding","dataBound","cascade"],setOptions:function(e){s.fn.setOptions.call(this,e),this._template(),this._accessors(),this._aria()},destroy:function(){var e=this;e.wrapper.off(r),e.element.off(r),e._inputWrapper.off(r),s.fn.destroy.call(e)},open:function(){var e=this;e.ul[0].firstChild?(e.popup.open(),e._scroll(e._current)):(e._open=!0,e._request||e.dataSource.fetch())},toggle:function(e){this._toggle(e)},refresh:function(){var e=this,t=e._data(),n=t.length,o=e.options.optionLabel;e.trigger("dataBinding"),e._current&&e.current(null),e.ul[0].innerHTML=a.render(e.template,t),e._height(n),e.popup.visible()&&e.popup._position(),e._isSelect&&(o&&n&&(o=e._optionLabelText(o),o='<option value="">'+o+"</option>"),e._options(t,o)),e._open&&(e._open=!1,e.toggle(!!n)),e._hideBusy(),e._makeUnselectable(),!e._fetch&&n&&e._selectItem(),e._bound=!0,e.trigger("dataBound")},search:function(e){if(e){var n=this,a=n.options.ignoreCase;a&&(e=e.toLowerCase()),n._select(function(o){var s=n._text(o);return s!==t?(s+="",a&&(s=s.toLowerCase()),0===s.indexOf(e)):t})}},text:function(e){var n=this.span;return e===t?n.text():(n.text(e),t)},value:function(e){var n,a,o=this;return e===t?o._accessor():(null!==e&&(e=""+e),o._selectedValue=e,a=e||o.options.optionLabel&&!o.element[0].disabled&&""===e,a&&o._fetchItems(e)||(n=o._index(e),o.select(n>-1?n:0)),t)},_editable:function(e){var t=this,n=t.element,a=e.disable,o=e.readonly,s=t.wrapper.off(r),i=t._inputWrapper.off(g),d=function(){i.addClass(c),t._blured=!1},v=function(){t._blured||(t._triggerCascade(),t._blur(),i.removeClass(c),t._blured=!0,n.blur())};o||a?(a?(s.removeAttr(b),i.addClass(_).removeClass(u)):(i.addClass(u).removeClass(_),s.on("focusin"+r,d).on("focusout"+r,v)),n.attr(l,a).attr(p,o),s.attr(f,a).attr(h,o)):(n.removeAttr(l).removeAttr(p),i.addClass(u).removeClass(_).on(g,t._toggleHover),s.attr(b,s.data(b)).attr(f,!1).attr(h,!1).on("click"+r,function(e){t._blured=!1,e.preventDefault(),t.toggle()}).on("keydown"+r,m(t._keydown,t)).on("keypress"+r,m(t._keypress,t)).on("focusin"+r,d).on("focusout"+r,v))},_accept:function(e){this._focus(e)},_optionLabelText:function(){var e=this.options,t=e.dataTextField,n=e.optionLabel;return n&&t&&"object"==typeof n?this._text(n):n},_data:function(){var e=this,t=e.options,o=t.optionLabel,s=t.dataTextField,i=t.dataValueField,r=e.dataSource.view(),l=r.length,p=o,d=0;if(o&&l){for("object"==typeof o?p=o:s&&(p={},s=s.split("."),i=i.split("."),n(p,i,""),n(p,s,o)),p=new a.data.ObservableArray([p]);l>d;d++)p.push(r[d]);r=p}return r},_keydown:function(e){var t=this,n=e.keyCode,o=a.keys,s=t.ul[0];n===o.LEFT?n=o.UP:n===o.RIGHT&&(n=o.DOWN),e.keyCode=n,t._move(e),n===o.HOME?(e.preventDefault(),t._select(s.firstChild)):n===o.END&&(e.preventDefault(),t._select(s.lastChild))},_selectNext:function(e,t){for(var n,a=this,o=a.options.ignoreCase,s=a._data(),i=s.length;i>t;t++)if(n=a._text(s[t]),n&&(n+="",o&&(n=n.toLowerCase()),0===n.indexOf(e)))return a._select(t),a._triggerEvents(),!0;return!1},_keypress:function(e){var t=this;setTimeout(function(){var n=String.fromCharCode(e.keyCode||e.charCode),a=t.selectedIndex;if(t.options.ignoreCase&&(n=n.toLowerCase()),n===t._last&&a>-1){if(t._word=n,t._selectNext(n,a+1))return}else t._word+=n;t._last=n,t._search()})},_popup:function(){s.fn._popup.call(this),this.popup.one("open",function(){this.wrapper=a.wrap(this.element).addClass("km-popup")})},_search:function(){var e=this,n=e.dataSource,a=e._word;return clearTimeout(e._typing),e._typing=setTimeout(function(){e._word=""},e.options.delay),e.ul[0].firstChild?(e.search(a),e._triggerEvents(),t):(n.one(d,function(){n.data()[0]&&e.search(a)}).fetch(),t)},_select:function(e){var n,a,s,i=this,r=i._current,l=i._data();e=i._get(e),e&&e[0]&&!e.hasClass(v)&&(r&&r.removeClass(v),s=o.List.inArray(e[0],i.ul[0]),s>-1&&(l=l[s],a=i._text(l),n=i._value(l),i.selectedIndex=s,i.text(a),i._accessor(n!==t?n:a,s),i._selectedValue=i._accessor(),i.current(e.addClass(v)),i._optionID&&i._current.attr("aria-selected",!0)))},_triggerEvents:function(){this.popup.visible()||(this._triggerCascade(),this._change())},_mobile:function(){var e=this,t=e.popup,n=t.element.parents(".km-root").eq(0);n.length&&i&&(t.options.animation.open.effects=i.android||i.meego?"fadeIn":i.ios||i.wp?"slideIn:up":t.options.animation.open.effects)},_span:function(){var t,n=this,a=n.wrapper,o="span.k-input";t=a.find(o),t[0]||(a.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(n.element),t=a.find(o)),n.span=t,n._inputWrapper=e(a[0].firstChild),n._arrow=a.find(".k-icon").mousedown(function(e){e.preventDefault()})},_wrapper:function(){var e,t=this,n=t.element,a=n[0];e=n.parent(),e.is("span.k-widget")||(e=n.wrap("<span />").parent(),e[0].style.cssText=a.style.cssText),n.hide(),t._focused=t.wrapper=e.addClass("k-widget k-dropdown k-header").addClass(a.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var e=this,n=e.options.optionLabel;return e.dataSource.view()[0]&&n?(e.select(0),t):(e.text(n),e.element.val(""),e.selectedIndex=-1,t)}});o.plugin(w)})(window.kendo.jQuery);;(function(t){function e(t,e){var n=t.x.location,i=t.y.location,o=e.x.location,r=e.y.location,a=n-o,s=i-r;return{center:{x:(n+o)/2,y:(i+r)/2},distance:Math.sqrt(a*a+s*s)}}function n(t){var e,n,i,o=[],r=t.originalEvent,s=t.currentTarget,c=0;if(t.api)o.push({id:2,event:t,target:t.target,currentTarget:t.target,location:t});else if(t.type.match(/touch/))for(n=r?r.changedTouches:[],e=n.length;e>c;c++)i=n[c],o.push({location:i,event:t,target:i.target,currentTarget:s,id:i.identifier});else a.pointers?o.push({location:r,event:t,target:t.target,currentTarget:s,id:r.pointerId}):o.push({id:1,event:t,target:t.target,currentTarget:s,location:t});return o}function i(e){e.preventDefault();var n=t(e.data.root),i=n.closest(".k-widget").parent();i[0]||(i=n.parent()),i.trigger(t.Event(e.type,{target:n[0]}))}function o(t){for(var e=r.eventMap.up.split(" "),n=0,i=e.length;i>n;n++)t(e[n])}var r=window.kendo,a=r.support,s=window.document,c=t(s.documentElement),u=r.Class,h=r.Observable,l=t.now,p=t.extend,d=a.mobileOS,v=d&&d.android,f=a.browser.ie?5:0,g="press",_="select",m="start",T="move",y="end",w="cancel",x="tap",M="release",D="gesturestart",E="gesturechange",b="gestureend",S="gesturetap",k=u.extend({init:function(t,e){var n=this;n.axis=t,n._updateLocationData(e),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=l()},move:function(t){var e=this,n=t["page"+e.axis],i=l(),o=i-e.timeStamp||1;(n||!v)&&(e.delta=n-e.location,e._updateLocationData(t),e.initialDelta=n-e.startLocation,e.velocity=e.delta/o,e.timeStamp=i)},_updateLocationData:function(t){var e=this,n=e.axis;e.location=t["page"+n],e.client=t["client"+n],e.screen=t["screen"+n]}}),I=u.extend({init:function(t,e,n){var i=this;p(i,{x:new k("X",n.location),y:new k("Y",n.location),userEvents:t,target:e,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,_moved:!1,_finished:!1}),i.notifyInit=function(){i._trigger(g,n)}},move:function(t){var e=this;if(!e._finished){if(e.x.move(t.location),e.y.move(t.location),!e._moved){if(e._withinIgnoreThreshold())return;if(C.current&&C.current!==e.userEvents)return e.dispose();e._start(t)}e._finished||e._trigger(T,t)}},end:function(t){var e=this;e.endTime=l(),e._finished||(e._moved?e._trigger(y,t):e._trigger(x,t),e._trigger(M,t),e.dispose())},dispose:function(){var e=this,n=e.userEvents,i=n.touches;e._finished=!0,i.splice(t.inArray(e,i),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(t){this.startTime=l(),this._moved=!0,this._trigger(m,t)},_trigger:function(t,e){var n=this,i=e.event,o={touch:n,x:n.x,y:n.y,target:n.target,event:i};n.userEvents.notify(t,o)&&i.preventDefault()},_withinIgnoreThreshold:function(){var t=this.x.initialDelta,e=this.y.initialDelta;return Math.sqrt(t*t+e*e)<=this.userEvents.threshold}}),C=h.extend({init:function(e,n){var i,s,u=this,l=r.guid();n=n||{},i=u.filter=n.filter,u.threshold=n.threshold||f,u.touches=[],u._maxTouches=n.multiTouch?2:1,u.allowSelection=n.allowSelection,u.eventNS=l,e=t(e).handler(u),h.fn.init.call(u),p(u,{element:e,surface:n.global?c:t(n.surface||e),stopPropagation:n.stopPropagation,pressed:!1}),u.surface.handler(u).on(r.applyEventMap("move",l),"_move").on(r.applyEventMap("up cancel",l),"_end"),e.on(r.applyEventMap("down",l),i,"_start"),a.pointers&&e.css("-ms-touch-action","pinch-zoom double-tap-zoom"),n.preventDragEvent&&e.on(r.applyEventMap("dragstart",l),r.preventDefault),e.on(r.applyEventMap("mousedown selectstart",l),i,{root:e},"_select"),a.eventCapture&&(s=u.surface[0],u.preventIfMoving=function(t){u._isMoved()&&t.preventDefault()},o(function(t){s.addEventListener(t,u.preventIfMoving,!0)})),u.bind([g,x,m,T,y,M,w,D,E,b,S,_],n)},destroy:function(){var t,e=this;a.eventCapture&&(t=e.surface[0],o(function(n){t.removeEventListener(n,e.preventIfMoving)})),e.element.kendoDestroy(e.eventNS),e.surface.kendoDestroy(e.eventNS),e.element.removeData("handler"),e.surface.removeData("handler"),e._disposeAll(),e.unbind()},capture:function(){C.current=this},cancel:function(){this._disposeAll(),this.trigger(w)},notify:function(t,n){var i=this,o=i.touches;if(this._isMultiTouch()){switch(t){case T:t=E;break;case y:t=b;break;case x:t=S}p(n,{touches:o},e(o[0],o[1]))}return this.trigger(t,n)},press:function(t,e,n){this._apiCall("_start",t,e,n)},move:function(t,e){this._apiCall("_move",t,e)},end:function(t,e){this._apiCall("_end",t,e)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){t.each(this.touches,function(){this.dispose()})},_isMoved:function(){return t.grep(this.touches,function(t){return t.isMoved()}).length},_select:function(t){(!this.allowSelection||this.trigger(_,{event:t}))&&i(t)},_start:function(e){var i,o,r=this,a=0,s=r.filter,c=n(e),u=c.length;if(!r._maxTouchesReached())for(C.current=null,r.currentTarget=e.currentTarget,r.stopPropagation&&e.stopPropagation();u>a&&!r._maxTouchesReached();a++)o=c[a],i=s?t(o.currentTarget):r.element,i.length&&(o=new I(r,i,o),r.touches.push(o),o.notifyInit(),r._isMultiTouch()&&r.notify("gesturestart",{}))},_move:function(t){this._eachTouch("move",t)},_end:function(t){this._eachTouch("end",t)},_eachTouch:function(t,e){var i,o,r,a,s=this,c={},u=n(e),h=s.touches;for(i=0;h.length>i;i++)o=h[i],c[o.id]=o;for(i=0;u.length>i;i++)r=u[i],a=c[r.id],a&&a[t](r)},_apiCall:function(e,n,i,o){this[e]({api:!0,pageX:n,pageY:i,target:o||this.element,stopPropagation:t.noop,preventDefault:t.noop})}});r.getTouches=n,r.touchDelta=e,r.UserEvents=C})(window.kendo.jQuery);;(function(e,t){function n(t,n){try{return e.contains(t,n)||t==n}catch(r){return!1}}function r(e){return O?m.elementFromPoint(e.x.screen,e.y.screen):m.elementFromPoint(e.x.client,e.y.client)}function i(e,t){return parseInt(e.css(t),10)||0}function a(e,t){return Math.min(Math.max(e,t.min),t.max)}function o(e,t){var n=E(e),r=n.left+i(e,"borderLeftWidth")+i(e,"paddingLeft"),a=n.top+i(e,"borderTopWidth")+i(e,"paddingTop"),o=r+e.width()-t.outerWidth(!0),s=a+e.height()-t.outerHeight(!0);return{x:{min:r,max:o},y:{min:a,max:s}}}function s(e,n,r){for(var i,a,o=0,s=n&&n.length,c=r&&r.length;e&&e.parentNode;){for(o=0;s>o;o++)if(i=n[o],i.element[0]===e)return{target:i,targetElement:e};for(o=0;c>o;o++)if(a=r[o],p.matchesSelector.call(e,a.options.filter))return{target:a,targetElement:e};e=e.parentNode}return t}var c,l,u,d,f,g,h=window.kendo,p=h.support,m=window.document,v=h.Class,x=h.ui.Widget,y=h.Observable,_=h.UserEvents,b=e.proxy,T=e.extend,E=h.getOffset,w={},S={},M={},z=p.mobileOS,D=z&&z.android,O=D&&"chrome"==z.browser,C="keyup",k="change",W="dragstart",H="drag",P="dragend",A="dragcancel",L="dragenter",N="dragleave",F="drop",B=y.extend({init:function(t,n){var r=this,i=t[0];r.capture=!1,e.each(h.eventMap.down.split(" "),function(){i.addEventListener(this,b(r._press,r),!0)}),e.each(h.eventMap.up.split(" "),function(){i.addEventListener(this,b(r._release,r),!0)}),y.fn.init.call(r),r.bind(["press","release"],n||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){var t=this;t.trigger("press"),t.capture&&e.preventDefault()},_release:function(e){var t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())}}),G=y.extend({init:function(t){var n=this;y.fn.init.call(n),n.forcedEnabled=!1,e.extend(n,t),n.scale=1,n.max=0,n.horizontal?(n.measure="width",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="height",n.scrollSize="scrollHeight",n.axis="y")},outOfBounds:function(e){return e>this.max||this.min>e},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[this.measure]()},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,n=t.getTotal(),r=n*t.scale,i=t.getSize();t.size=i,t.total=r,t.min=Math.min(t.max,t.size-r),t.minScale=t.size/n,t.enabled=t.forcedEnabled||r>i,e||t.trigger(k,t)}}),I=y.extend({init:function(e){var t=this,n=b(t.refresh,t);y.fn.init.call(t),t.x=new G(T({horizontal:!0},e)),t.y=new G(T({horizontal:!1},e)),t.forcedMinScale=e.minScale,t.bind(k,e),h.onResize(n)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},refresh:function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.max(e.x.minScale,e.y.minScale),e.trigger(k)}}),j=y.extend({init:function(e){var t=this;T(t,e),y.fn.init.call(t)},dragMove:function(e){var t=this,n=t.dimension,r=t.axis,i=t.movable,a=i[r]+e;n.enabled&&((n.min>a&&0>e||a>n.max&&e>0)&&(e*=t.resistance),i.translateAxis(r,e),t.trigger(k,t))}}),Q=v.extend({init:function(e){var t,n,r,i,a=this;T(a,{elastic:!0},e),r=a.elastic?.5:0,i=a.movable,a.x=t=new j({axis:"x",dimension:a.dimensions.x,resistance:r,movable:i}),a.y=n=new j({axis:"y",dimension:a.dimensions.y,resistance:r,movable:i}),a.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(e){a.gesture=e},gesturechange:function(e){var r,o=a.gesture,s=o.center,c=e.center,l=e.distance/o.distance,u=a.dimensions.minScale;u>=i.scale&&1>l&&(l+=.8*(1-l)),r={x:(i.x-s.x)*l+c.x-i.x,y:(i.y-s.y)*l+c.y-i.y},i.scaleWith(l),t.dragMove(r.x),n.dragMove(r.y),a.dimensions.rescale(i.scale),a.gesture=e},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(t.dimension.enabled||n.dimension.enabled?(t.dragMove(e.x.delta),n.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}}),R=p.transitions.prefix+"Transform",U=Math.round;l=p.hasHW3D?function(e,t,n){return"translate3d("+U(e)+"px,"+U(t)+"px,0) scale("+n+")"}:function(e,t,n){return"translate("+U(e)+"px,"+U(t)+"px) scale("+n+")"},u=y.extend({init:function(t){var n=this;y.fn.init.call(n),n.element=e(t),n.element[0].style.webkitTransformOrigin="left top",n.x=0,n.y=0,n.scale=1,n._saveCoordinates(l(n.x,n.y,n.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){T(this,e),this.refresh()},refresh:function(){var e=this,t=l(e.x,e.y,e.scale);t!=e.coordinates&&(e.element[0].style[R]=t,e._saveCoordinates(t),e.trigger(k))},_saveCoordinates:function(e){this.coordinates=e}}),d=x.extend({init:function(e,t){var n,r=this;x.fn.init.call(r,e,t),n=r.options.group,n in S?S[n].push(r):S[n]=[r]},events:[L,N,F],options:{name:"DropTarget",group:"default"},destroy:function(){var e,t=this.options.group,n=S[t]||M[t];if(n.length>1){for(x.fn.destroy.call(this),e=0;n.length>e;e++)if(n[e]==this){n.splice(e,1);break}}else d.destroyGroup(t)},_trigger:function(e,n){var r=this,i=w[r.options.group];return i?r.trigger(e,T({},n.event,{draggable:i,dropTarget:n.dropTarget})):t},_over:function(e){this._trigger(L,e)},_out:function(e){this._trigger(N,e)},_drop:function(e){var t=this,n=w[t.options.group];n&&(n.dropped=!t._trigger(F,e))}}),d.destroyGroup=function(e){var t,n=S[e]||M[e];if(n){for(t=0;n.length>t;t++)x.fn.destroy.call(n[t]);n.length=0,delete S[e],delete M[e]}},d._cache=S,f=d.extend({init:function(e,t){var n,r=this;x.fn.init.call(r,e,t),n=r.options.group,n in M?M[n].push(r):M[n]=[r]},options:{name:"DropTargetArea",group:"default",filter:null}}),g=x.extend({init:function(e,t){var n=this;x.fn.init.call(n,e,t),n.userEvents=new _(n.element,{global:!0,stopPropagation:!0,filter:n.options.filter,threshold:n.options.distance,start:b(n._start,n),move:b(n._drag,n),end:b(n._end,n),cancel:b(n._cancel,n)}),n._afterEndHandler=b(n._afterEnd,n),n.captureEscape=function(e){e.keyCode===h.keys.ESC&&(n._trigger(A,{event:e}),n.userEvents.cancel())}},events:[W,H,P,A],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,dropped:!1},_updateHint:function(t){var n,r=this,i=r.options,o=r.boundaries,s=i.axis,c=r.options.cursorOffset;c?n={left:t.x.location+c.left,top:t.y.location+c.top}:(r.hintOffset.left+=t.x.delta,r.hintOffset.top+=t.y.delta,n=e.extend({},r.hintOffset)),o&&(n.top=a(n.top,o.y),n.left=a(n.left,o.x)),"x"===s?delete n.top:"y"===s&&delete n.left,r.hint.css(n)},_start:function(t){var n,r=this,i=r.options,a=i.container,s=i.hint;r.currentTarget=t.target,r.currentTargetOffset=E(r.currentTarget),s&&(r.hint&&r.hint.stop(!0,!0).remove(),r.hint=e.isFunction(s)?e(s.call(r,r.currentTarget)):s,n=E(r.currentTarget),r.hintOffset=n,r.hint.css({position:"absolute",zIndex:2e4,left:n.left,top:n.top}).appendTo(m.body)),w[i.group]=r,r.dropped=!1,a&&(r.boundaries=o(a,r.hint)),r._trigger(W,t)&&(r.userEvents.cancel(),r._afterEnd()),e(m).on(C,r.captureEscape)},_drag:function(n){var r=this;n.preventDefault(),r._withDropTarget(n,function(r,i){if(!r)return c&&(c._trigger(N,T(n,{dropTarget:e(c.targetElement)})),c=null),t;if(c){if(i===c.targetElement)return;c._trigger(N,T(n,{dropTarget:e(c.targetElement)}))}r._trigger(L,T(n,{dropTarget:e(i)})),c=T(r,{targetElement:i})}),r._trigger(H,n),r.hint&&r._updateHint(n)},_end:function(t){var n=this;n._withDropTarget(t,function(n,r){n&&(n._drop(T({},t,{dropTarget:e(r)})),c=null)}),n._trigger(P,t),n._cancel(t.event)},_cancel:function(){var e=this;e.hint&&!e.dropped?setTimeout(function(){e.hint.stop(!0,!0).animate(e.currentTargetOffset,"fast",e._afterEndHandler)},0):e._afterEnd()},_trigger:function(e,t){var n=this;return n.trigger(e,T({},t.event,{x:t.x,y:t.y,currentTarget:n.currentTarget,dropTarget:t.dropTarget}))},_withDropTarget:function(e,t){var i,a,o=this,c=o.options,l=S[c.group],u=M[c.group];(l&&l.length||u&&u.length)&&(i=r(e),o.hint&&n(o.hint[0],i)&&(o.hint.hide(),i=r(e),i||(i=r(e)),o.hint.show()),a=s(i,l,u),a?t(a.target,a.targetElement):t())},destroy:function(){var e=this;x.fn.destroy.call(e),e._afterEnd(),e.userEvents.destroy()},_afterEnd:function(){var t=this;t.hint&&t.hint.remove(),delete w[t.options.group],t.trigger("destroy"),e(m).off(C,t.captureEscape)}}),h.ui.plugin(d),h.ui.plugin(f),h.ui.plugin(g),h.TapCapture=B,h.containerBoundaries=o,T(h.ui,{Pane:Q,PaneDimensions:I,Movable:u})})(window.kendo.jQuery);;(function(e,i){function t(e){return e!==i}function n(e,i,t){return Math.max(Math.min(parseInt(e,10),1/0===t?t:parseInt(t,10)),parseInt(i,10))}function o(e,i){var t=e.children(b);return t.data("kendoWindow")||t.data("kendo"+i)}function r(i){return e(y).filter(function(){var t=e(this),n=o(t,i);return n.options.modal&&t.is(C)&&n.options.visible}).sort(function(i,t){return+e(i).css("zIndex")-+e(t).css("zIndex")})}function s(e,i){return function(){var e=this,t=e.wrapper,n=t[0].style,o=e.options;if(!o.isMaximized&&!o.isMinimized)return e.restoreOptions={width:n.width,height:n.height},t.find(_).hide().end().find(U).parent().hide().eq(0).before(J.action({name:"Restore"})),i.call(e),e}}function a(e){var i=this;i.owner=e,i._draggable=new p(e.wrapper,{filter:_,group:e.wrapper.id+"-resizing",dragstart:m(i.dragstart,i),drag:m(i.drag,i),dragend:m(i.dragend,i)})}function d(e){var i=this;i.owner=e,i._draggable=new p(e.wrapper,{filter:z,group:e.wrapper.id+"-moving",dragstart:m(i.dragstart,i),drag:m(i.drag,i),dragend:m(i.dragend,i),dragcancel:m(i.dragcancel,i)})}var l=window.kendo,c=l.ui.Widget,p=l.ui.Draggable,h=e.isPlainObject,f=l._activeElement,m=e.proxy,g=e.extend,u=e.each,w=l.template,v="body",k=".kendoWindow",y=".k-window",x=".k-window-title",z=x+"bar",b=".k-window-content",_=".k-resize-handle",T=".k-overlay",W="k-content-frame",M="k-loading",H="k-state-hover",O="k-state-focused",C=":visible",P="hidden",S="cursor",D="open",I="activate",L="deactivate",R="close",A="refresh",F="resize",q="dragstart",j="dragend",E="error",N="overflow",G="zIndex",U=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",K=".k-window-titlebar .k-window-action",B=l.isLocalUrl,Q=c.extend({init:function(i,n){var o,r,s,p,f,g,w,v=this,_=!1,T=n&&n.actions&&!n.actions.length;c.fn.init.call(v,i,n),n=v.options,i=v.element,f=n.content,T&&(n.actions=[]),v.appendTo=e(n.appendTo||document.body),v._animations(),f&&!h(f)&&(f=n.content={url:f}),i.find("script").filter(function(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}).remove(),i.parent().is(v.appendTo)||(i.is(C)?(r=i.offset(),_=!0):(s=i.css("visibility"),p=i.css("display"),i.css({visibility:P,display:""}),r=i.offset(),i.css({visibility:s,display:p}))),t(n.visible)&&null!==n.visible||(n.visible=i.is(C)),o=v.wrapper=i.closest(y),i.is(".k-content")&&o[0]||(i.addClass("k-window-content k-content"),v._createWindow(i,n),o=v.wrapper=i.closest(y),v._dimensions()),r&&o.css({top:r.top,left:r.left}),f&&v.refresh(f),n.visible&&v.toFront(),g=o.children(b),v._tabindex(g),n.visible&&n.modal&&v._overlay(o.is(C)).css({opacity:.5}),o.on("mouseenter"+k,K,function(){e(this).addClass(H)}).on("mouseleave"+k,K,function(){e(this).removeClass(H)}).on("click"+k,K,m(v._windowActionHandler,v)),g.on("keydown"+k,m(v._keydown,v)).on("focus"+k,function(){o.addClass(O)}).on("blur"+k,function(){o.removeClass(O)}),n.resizable&&(o.on("dblclick"+k,z,function(i){return e(i.target).closest(".k-window-action").length||v.toggleMaximization(),this}),u("n e s w se sw ne nw".split(" "),function(e,i){o.append(J.resizeHandle(i))}),v.resizing=new a(v)),n.draggable&&(v.dragging=new d(v)),w=i.attr("id"),w&&(w+="_wnd_title",o.find(z).children(x).attr("id",w),g.attr({role:"dialog","aria-labelledby":w})),o.add(o.find(".k-resize-handle,.k-window-titlebar")).on("mousedown"+k,m(v.toFront,v)),v.touchScroller=l.touchScroller(i),v._resizeHandler=function(e){return v._onDocumentResize(e)},e(window).on("resize",v._resizeHandler),n.visible&&(v.trigger(D),v.trigger(I)),l.notify(v)},_dimensions:function(){var e=this,i=e.wrapper,t=e.options,o=t.width,r=t.height,s=t.maxHeight;e.title(t.title),u(["minWidth","minHeight","maxWidth","maxHeight"],function(e,n){var o=t[n];o&&1/0!=o&&i.css(n,o)}),s&&1/0!=s&&e.element.css("maxHeight",s),o&&((""+o).indexOf("%")>0?i.width(o):i.width(n(o,t.minWidth,t.maxWidth))),r&&((""+r).indexOf("%")>0?i.height(r):i.height(n(r,t.minHeight,t.maxHeight))),t.visible||i.hide()},_animations:function(){var e=this.options;e.animation===!1&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},setOptions:function(e){c.fn.setOptions.call(this,e),this._animations(),this._dimensions()},events:[D,I,L,R,A,F,q,j,E],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,visible:null,height:null,width:null},_closable:function(){return e.inArray("close",e.map(this.options.actions,function(e){return e.toLowerCase()}))>-1},_keydown:function(e){var i,t,o,r,s=this,a=s.options,d=l.keys,c=e.keyCode,p=s.wrapper,h=10,f=s.options.isMaximized;e.target==e.currentTarget&&(c==d.ESC&&s._closable()&&s._close(!0),!a.draggable||e.ctrlKey||f||(i=l.getOffset(p),c==d.UP?t=p.css("top",i.top-h):c==d.DOWN?t=p.css("top",i.top+h):c==d.LEFT?t=p.css("left",i.left-h):c==d.RIGHT&&(t=p.css("left",i.left+h))),a.resizable&&e.ctrlKey&&!f&&(c==d.UP?(t=!0,r=p.height()-h):c==d.DOWN&&(t=!0,r=p.height()+h),c==d.LEFT?(t=!0,o=p.width()-h):c==d.RIGHT&&(t=!0,o=p.width()+h),t&&(p.css({width:n(o,a.minWidth,a.maxWidth),height:n(r,a.minHeight,a.maxHeight)}),s.trigger(F))),t&&e.preventDefault())},_overlay:function(i){var t=this.appendTo.children(".k-overlay"),n=this.wrapper;return t.length||(t=e("<div class='k-overlay' />")),t.insertBefore(n[0]).toggle(i).css(G,parseInt(n.css(G),10)-1),t},_windowActionHandler:function(t){var n=e(t.target).closest(".k-window-action").find(".k-icon"),o=this;o._closing||u({"k-i-close":function(){o._close(!0)},"k-i-maximize":o.maximize,"k-i-minimize":o.minimize,"k-i-restore":o.restore,"k-i-refresh":o.refresh},function(e,r){return n.hasClass(e)?(t.preventDefault(),r.call(o),!1):i})},center:function(){var i=this.wrapper,t=e(window);return i.css({left:t.scrollLeft()+Math.max(0,(t.width()-i.width())/2),top:t.scrollTop()+Math.max(0,(t.height()-i.height())/2)}),this},title:function(e){var i=this,t=i.wrapper,n=i.options,o=t.find(z),r=o.children(x),s=o.outerHeight();return arguments.length?(e===!1?(t.addClass("k-window-titleless"),o.remove()):(o.length||t.prepend(J.titlebar(g(J,n))),t.css("padding-top",s),o.css("margin-top",-s)),r.text(e),i):r.text()},content:function(e){var i=this.wrapper.children(b),t=i.children(".km-scroll-container");return i=t[0]?t:i,e?(l.destroy(this.element.children()),i.html(e),this):i.html()},open:function(){var i,t=this,n=t.wrapper,o=t.options,r=o.animation.open,s=n.children(b),a=s.css(N);return t.trigger(D)||(t._closing=!1,t.toFront(),t.element.focus(),o.visible=!0,o.modal&&(i=t._overlay(!1),r.duration?i.kendoStop().kendoAnimate({effects:"fade:in",duration:r.duration}).show():i.css("opacity",.5).show()),n.is(C)||(s.css(N,P),n.show().kendoStop().kendoAnimate({effects:r.effects,duration:r.duration,complete:function(){t.element.focus(),t.trigger(I),s.css(N,a)}}))),o.isMaximized&&(t._documentScrollTop=e(document).scrollTop(),e("html, body").css(N,P)),t},_close:function(t){var n,s,a,d=this,l=d.wrapper,c=d.options,p=c.animation.open,h=c.animation.close;l.is(C)&&!d.trigger(R,{userTriggered:!!t})&&(d._closing=!0,c.visible=!1,e(y).each(function(i,t){var n=e(t),o=n.find(b);t!=l&&o.find("> ."+W).length>0&&o.children(".k-overlay").remove()}),n=r(c.name),s=c.modal&&!n.length,a=c.modal?d._overlay(!0):e(i),s?h.duration?a.kendoStop().kendoAnimate({effects:"fade:out",duration:h.duration,hide:!0}):a.hide():n.length&&o(n.eq(n.length-1),c.name)._overlay(!0),l.kendoStop().kendoAnimate({effects:h.effects||p.effects,reverse:h.reverse===!0,duration:h.duration,complete:function(){l.hide(),d.trigger(L)}})),d.options.isMaximized&&(e("html, body").css(N,""),d._documentScrollTop&&d._documentScrollTop>0&&e(document).scrollTop(d._documentScrollTop))},close:function(){return this._close(!1),this},toFront:function(i){var t,n,o=this,r=o.wrapper,s=r[0],a=+r.css(G),d=a,l=f(),c=o.element,p=i&&i.target?i.target:null;return e(y).each(function(i,t){var n=e(t),o=n.css(G),r=n.find(b);isNaN(o)||(a=Math.max(+o,a)),t!=s&&r.find("> ."+W).length>0&&r.append(J.overlay)}),(10001==a||a>d)&&r.css(G,a+2),o.element.find("> .k-overlay").remove(),e(l).is(c)||e(p).is(K+","+K+" .k-icon,:input,a")||c.find(l).length&&c.find(p).length||(c.focus(),t=e(window).scrollTop(),n=parseInt(o.wrapper.position().top,10),n>0&&0>n-t&&(t>0?e(window).scrollTop(n):o.wrapper.css("top",t))),o},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var i=this,t=i.options,n=i.restoreOptions;if(t.isMaximized||t.isMinimized)return i.wrapper.css({position:"absolute",left:n.left,top:n.top,width:n.width,height:n.height}).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(U).parent().show(),e("html, body").css(N,""),this._documentScrollTop&&this._documentScrollTop>0&&e(document).scrollTop(this._documentScrollTop),t.isMaximized=t.isMinimized=!1,i.trigger(F),i},maximize:s("maximize",function(){var i=this,t=i.wrapper,n=t.position();g(i.restoreOptions,{left:n.left,top:n.top}),t.css({left:0,top:0,position:"fixed"}),this._documentScrollTop=e(document).scrollTop(),e("html, body").css(N,P),i.options.isMaximized=!0,i._onDocumentResize()}),minimize:s("minimize",function(){var e=this;e.wrapper.css("height",""),e.element.hide(),e.options.isMinimized=!0}),_onDocumentResize:function(){var i=this,t=i.wrapper,n=e(window);i.options.isMaximized&&(t.css({width:n.width(),height:n.height()-parseInt(t.css("padding-top"),10)}),i.trigger(F))},refresh:function(i){var n,o,r,s=this,a=s.options,d=e(s.element);return h(i)||(i={url:i}),i=g({},a.content,i),o=t(a.iframe)?a.iframe:i.iframe,r=i.url,r?(t(o)||(o=!B(r)),o?(n=d.find("."+W)[0],n?n.src=r||n.src:d.html(J.contentFrame(g({},a,{content:i}))),d.find("."+W).unbind("load"+k).on("load"+k,function(){s.trigger(A)})):s._ajaxRequest(i)):(i.template&&s.content(w(i.template)({})),s.trigger(A)),s},_ajaxRequest:function(i){var t=this,n=i.template,o=t.wrapper.find(".k-window-titlebar .k-i-refresh"),r=setTimeout(function(){o.addClass(M)},100);e.ajax(g({type:"GET",dataType:"html",cache:!1,error:m(function(e,i){t.trigger(E,{status:i,xhr:e})},t),complete:function(){clearTimeout(r),o.removeClass(M)},success:m(function(e){n&&(e=w(n)(e||{})),t.content(e),t.element.prop("scrollTop",0),t.trigger(A)},t)},i))},destroy:function(){var i,t,n=this;c.fn.destroy.call(n),l.destroy(n.wrapper),n.resizing&&n.resizing.destroy(),n.dragging&&n.dragging.destroy(),n.element.children("iframe").remove(),n.wrapper.remove().add(n.wrapper.find(".k-resize-handle,.k-window-titlebar")).off(k),e(window).off("resize",n._resizeHandler),i=r(),t=n.options.modal&&!i.length,t?n._overlay(!1).remove():i.length>0&&o(i.eq(i.length-1),n.options.name)._overlay(!0)},_createWindow:function(){var i,t,n=this,o=n.element,r=n.options,s=l.support.isRtl(o);r.scrollable===!1&&o.attr("style","overflow:hidden;"),t=e(J.wrapper(r)),r.title!==!1&&t.append(J.titlebar(g(J,r))),i=o.find("iframe:not(.k-content)").map(function(){var e=this.getAttribute("src");return this.src="",e}),t.toggleClass("k-rtl",s).appendTo(n.appendTo).append(o).find("iframe:not(.k-content)").each(function(e){this.src=i[e]}),t.find(".k-window-title").css(s?"left":"right",t.find(".k-window-actions").outerWidth()+10),o.show()}}),J={wrapper:w("<div class='k-widget k-window' />"),action:w("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:w("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:w("<iframe frameborder='0' title='#= title #' class='"+W+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),resizeHandle:w("<div class='k-resize-handle k-resize-#= data #'></div>")};a.prototype={dragstart:function(i){var t=this,n=t.owner,o=n.wrapper;t.elementPadding=parseInt(n.wrapper.css("padding-top"),10),t.initialCursorPosition=l.getOffset(o,"position"),t.resizeDirection=i.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),t.initialSize={width:o.width(),height:o.height()},t.containerOffset=l.getOffset(n.appendTo),o.append(J.overlay).find(_).not(i.currentTarget).hide(),e(v).css(S,i.currentTarget.css(S))},drag:function(e){var i,t,o,r,s=this,a=s.owner,d=a.wrapper,l=a.options,c=s.resizeDirection,p=s.containerOffset,h=s.initialCursorPosition,f=s.initialSize,m=Math.max(e.x.location,p.left),g=Math.max(e.y.location,p.top);c.indexOf("e")>=0?(i=m-h.left,d.width(n(i,l.minWidth,l.maxWidth))):c.indexOf("w")>=0&&(r=h.left+f.width,i=n(r-m,l.minWidth,l.maxWidth),d.css({left:r-i-p.left,width:i})),c.indexOf("s")>=0?(t=g-h.top-s.elementPadding,d.height(n(t,l.minHeight,l.maxHeight))):c.indexOf("n")>=0&&(o=h.top+f.height,t=n(o-g,l.minHeight,l.maxHeight),d.css({top:o-t-p.top,height:t})),a.trigger(F)},dragend:function(i){var t=this,n=t.owner,o=n.wrapper;return o.find(T).remove().end().find(_).not(i.currentTarget).show(),e(v).css(S,""),n.touchScroller&&n.touchScroller.reset(),27==i.keyCode&&o.css(t.initialCursorPosition).css(t.initialSize),!1},destroy:function(){this._draggable.destroy()}},d.prototype={dragstart:function(i){var t=this.owner,n=t.element,o=n.find(".k-window-actions"),r=l.getOffset(t.appendTo);t.trigger(q),t.initialWindowPosition=l.getOffset(t.wrapper,"position"),t.startPosition={left:i.x.client-t.initialWindowPosition.left,top:i.y.client-t.initialWindowPosition.top},t.minLeftPosition=o.length>0?o.outerWidth()+parseInt(o.css("right"),10)-n.outerWidth():20-n.outerWidth(),t.minLeftPosition-=r.left,t.minTopPosition=-r.top,t.wrapper.append(J.overlay).find(_).hide(),e(v).css(S,i.currentTarget.css(S))},drag:function(i){var t=this.owner,n={left:Math.max(i.x.client-t.startPosition.left,t.minLeftPosition),top:Math.max(i.y.client-t.startPosition.top,t.minTopPosition)};e(t.wrapper).css(n)},_finishDrag:function(){var i=this.owner;i.wrapper.find(_).toggle(!i.options.isMinimized).end().find(T).remove(),e(v).css(S,"")},dragcancel:function(e){this._finishDrag(),e.currentTarget.closest(y).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(j),!1},destroy:function(){this._draggable.destroy()}},l.ui.plugin(Q)})(window.kendo.jQuery);;(function(t,e){function a(t,e,a){var i=a?" k-slider-horizontal":" k-slider-vertical",n=t.style?t.style:e.attr("style"),o=e.attr("class")?" "+e.attr("class"):"",l="";return"bottomRight"==t.tickPlacement?l=" k-slider-bottomright":"topLeft"==t.tickPlacement&&(l=" k-slider-topleft"),n=n?" style='"+n+"'":"","<div class='k-widget k-slider"+i+o+"'"+n+">"+"<div class='k-slider-wrap"+(t.showButtons?" k-slider-buttons":"")+l+"'></div></div>"}function i(t,e,a){var i="";return i="increase"==e?a?"k-i-arrow-e":"k-i-arrow-n":a?"k-i-arrow-w":"k-i-arrow-s","<a class='k-button k-button-"+e+"'><span class='k-icon "+i+"' title='"+t[e+"ButtonTitle"]+"'>"+t[e+"ButtonTitle"]+"</span></a>"}function n(t,e){var a,i="<ul class='k-reset k-slider-items'>",n=w.floor(d(e/t.smallStep))+1;for(a=0;n>a;a++)i+="<li class='k-tick' role='presentation'>&nbsp;</li>";return i+="</ul>"}function o(t,e){var a=e.is("input")?1:2,i=2==a?t.leftDragHandleTitle:t.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+i+"' role='slider' aria-valuemin='"+t.min+"' aria-valuemax='"+t.max+"' aria-valuenow='"+(a>1?t.selectionStart||t.min:t.value||t.min)+"'>Drag</a>"+(a>1?"<a href='#' class='k-draghandle' title='"+t.rightDragHandleTitle+"'role='slider' aria-valuemin='"+t.min+"' aria-valuemax='"+t.max+"' aria-valuenow='"+(t.selectionEnd||t.max)+"'>Drag</a>":"")+"</div>"}function l(t){return function(e){return e+t}}function r(t){return function(){return t}}function s(t){return(t+"").replace(".",f.cultures.current.numberFormat["."])}function d(t){t=parseFloat(t,10);var e=w.pow(10,L||0);return w.round(t*e)/e}function u(t,a){var i=h(t.getAttribute(a));return null===i&&(i=e),i}function c(t){return typeof t!==X}var p,f=window.kendo,_=f.ui.Widget,v=f.ui.Draggable,m=t.extend,g=f.format,h=f.parseFloat,S=t.proxy,k=t.isArray,w=Math,x=f.support,D=x.pointers,H="change",b="slide",T=".slider",y="touchstart"+T+" mousedown"+T,z=D?"MSPointerDown"+T:y,E="touchend"+T+" mouseup"+T,I=D?"MSPointerUp"+T:E,C="moveSelection",R="keydown"+T,V="click"+T,q="mouseover"+T,A="focus"+T,W="blur"+T,M=".k-draghandle",F=".k-slider-track",P=".k-tick",B="k-state-selected",O="k-state-default",N="k-state-disabled",L=3,Z="disabled",X="undefined",Y="tabindex",j=f.getTouches,Q=_.extend({init:function(t,e){var a,i,o,s=this;_.fn.init.call(s,t,e),e=s.options,s._distance=e.max-e.min,s._isHorizontal="horizontal"==e.orientation,s._isRtl=s._isHorizontal&&f.support.isRtl(t),s._position=s._isHorizontal?"left":"bottom",s._size=s._isHorizontal?"width":"height",s._outerSize=s._isHorizontal?"outerWidth":"outerHeight",e.tooltip.format=e.tooltip.enabled?e.tooltip.format||"{0}":"{0}",s._createHtml(),s.wrapper=s.element.closest(".k-slider"),s._trackDiv=s.wrapper.find(F),s._setTrackDivWidth(),s._maxSelection=s._trackDiv[s._size](),a=s._maxSelection/((e.max-e.min)/e.smallStep),i=s._calculateItemsWidth(w.floor(s._distance/e.smallStep)),"none"!=e.tickPlacement&&a>=2&&(s._trackDiv.before(n(e,s._distance)),s._setItemsWidth(i),s._setItemsTitle(),s._setItemsLargeTick()),s._calculateSteps(i),s._tabindex(s.wrapper.find(M)),s[e.enabled?"enable":"disable"](),o=f.support.isRtl(s.wrapper)?-1:1,s._keyMap={37:l(-1*o*e.smallStep),40:l(-e.smallStep),39:l(1*o*e.smallStep),38:l(+e.smallStep),35:r(e.max),36:r(e.min),33:l(+e.largeStep),34:l(-e.largeStep)},f.notify(s)},events:[H,b],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_setTrackDivWidth:function(){var t=this,e=2*parseFloat(t._trackDiv.css(t._isRtl?"right":t._position),10);t._trackDiv[t._size](t.wrapper[t._size]()-2-e)},_setItemsWidth:function(e){var a,i=this,n=i.options,o=0,l=e.length-1,r=i.wrapper.find(P),s=0,d=2,u=r.length,c=0;for(a=0;u-2>a;a++)t(r[a+1])[i._size](e[a]);if(i._isHorizontal?(t(r[o]).addClass("k-first")[i._size](e[l-1]),t(r[l]).addClass("k-last")[i._size](e[l])):(t(r[l]).addClass("k-first")[i._size](e[l]),t(r[o]).addClass("k-last")[i._size](e[l-1])),0!==i._distance%n.smallStep&&!i._isHorizontal){for(a=0;e.length>a;a++)c+=e[a];s=i._maxSelection-c,s+=parseFloat(i._trackDiv.css(i._position),10)+d,i.wrapper.find(".k-slider-items").css("padding-top",s)}},_setItemsTitle:function(){for(var e=this,a=e.options,i=e.wrapper.find(P),n=a.min,o=i.length,l=e._isHorizontal&&!e._isRtl?0:o-1,r=e._isHorizontal&&!e._isRtl?o:-1,s=e._isHorizontal&&!e._isRtl?1:-1;0!==l-r;l+=s)t(i[l]).attr("title",g(a.tooltip.format,d(n))),n+=a.smallStep},_setItemsLargeTick:function(){var e,a=this,i=a.options,n=a.wrapper.find(P),o={},l=d(i.largeStep/i.smallStep);if(0===1e3*i.largeStep%(1e3*i.smallStep))if(a._isHorizontal&&!a._isRtl)for(e=0;n.length>e;e=d(e+l))o=t(n[e]),o.addClass("k-tick-large").html("<span class='k-label'>"+o.attr("title")+"</span>");else for(e=n.length-1;e>=0;e=d(e-l))o=t(n[e]),o.addClass("k-tick-large").html("<span class='k-label'>"+o.attr("title")+"</span>"),a._isRtl||0!==e&&e!==n.length-1&&o.css("line-height",o[a._size]()+"px")},_calculateItemsWidth:function(t){var e,a,i,n=this,o=n.options,l=parseFloat(n._trackDiv.css(n._size))+1,r=l/n._distance;for(n._distance/o.smallStep-w.floor(n._distance/o.smallStep)>0&&(l-=n._distance%o.smallStep*r),e=l/t,a=[],i=0;t-1>i;i++)a[i]=e;return a[t-1]=a[t]=e/2,n._roundWidths(a)},_roundWidths:function(t){var e,a=0,i=t.length;for(e=0;i>e;e++)a+=t[e]-w.floor(t[e]),t[e]=w.floor(t[e]);return a=w.round(a),this._addAdditionalSize(a,t)},_addAdditionalSize:function(t,e){if(0===t)return e;var a,i=parseFloat(e.length-1)/parseFloat(1==t?t:t-1);for(a=0;t>a;a++)e[parseInt(w.round(i*a),10)]+=1;return e},_calculateSteps:function(t){var e,a=this,i=a.options,n=i.min,o=0,l=w.ceil(a._distance/i.smallStep),r=1;if(l+=0===a._distance/i.smallStep%1?1:0,t.splice(0,0,2*t[l-2]),t.splice(l-1,1,2*t.pop()),a._pixelSteps=[o],a._values=[n],0!==l){for(;l>r;)o+=(t[r-1]+t[r])/2,a._pixelSteps[r]=o,a._values[r]=n+=i.smallStep,r++;e=0===a._distance%i.smallStep?l-1:l,a._pixelSteps[e]=a._maxSelection,a._values[e]=i.max,a._isRtl&&(a._pixelSteps.reverse(),a._values.reverse())}},_getValueFromPosition:function(t,e){var a,i=this,n=i.options,o=w.max(n.smallStep*(i._maxSelection/i._distance),0),l=0,r=o/2;if(i._isHorizontal?(l=t-e.startPoint,i._isRtl&&(l=i._maxSelection-l)):l=e.startPoint-t,l>i._maxSelection-(parseInt(i._maxSelection%o,10)-3)/2)return n.max;for(a=0;i._pixelSteps.length>a;a++)if(r>=w.abs(i._pixelSteps[a]-l)-1)return d(i._values[a])},_getFormattedValue:function(t,e){var a,i,n,o=this,l="",r=o.options.tooltip;return k(t)?(i=t[0],n=t[1]):e&&e.type&&(i=e.selectionStart,n=e.selectionEnd),e&&(a=e.tooltipTemplate),!a&&r.template&&(a=f.template(r.template)),k(t)||e&&e.type?a?l=a({selectionStart:i,selectionEnd:n}):(i=g(r.format,i),n=g(r.format,n),l=i+" - "+n):(e&&(e.val=t),l=a?a({value:t}):g(r.format,t)),l},_getDraggableArea:function(){var t=this,e=f.getOffset(t._trackDiv);return{startPoint:t._isHorizontal?e.left:e.top+t._maxSelection,endPoint:t._isHorizontal?e.left+t._maxSelection:e.top}},_createHtml:function(){var t=this,e=t.element,n=t.options,l=e.find("input");2==l.length?(l.eq(0).val(n.selectionStart),l.eq(1).val(n.selectionEnd)):e.val(n.value),e.wrap(a(n,e,t._isHorizontal)).hide(),n.showButtons&&e.before(i(n,"increase",t._isHorizontal)).before(i(n,"decrease",t._isHorizontal)),e.before(o(n,e))},_focus:function(e){var a=this,i=e.target,n=a.value(),o=a._drag;o||(i==a.wrapper.find(M).eq(0)[0]?(o=a._firstHandleDrag,a._activeHandle=0):(o=a._lastHandleDrag,a._activeHandle=1),n=n[a._activeHandle]),t(i).addClass(B),o&&(a._activeHandleDrag=o,o.selectionStart=a.options.selectionStart,o.selectionEnd=a.options.selectionEnd,o._updateTooltip(n))},_focusWithMouse:function(e){var a=this,i=t(e.target),n=i.is(M)?i.index():0;window.setTimeout(function(){a.wrapper.find(M)[2==n?1:0].focus()},1),a._setTooltipTimeout()},_blur:function(e){var a=this,i=a._activeHandleDrag;t(e.target).removeClass(B),i&&(i._removeTooltip(),delete a._activeHandleDrag,delete a._activeHandle)},_setTooltipTimeout:function(){var t=this;t._tooltipTimeout=window.setTimeout(function(){var e=t._drag||t._activeHandleDrag;e&&e._removeTooltip()},300)},_clearTooltipTimeout:function(){var t,e=this;window.clearTimeout(this._tooltipTimeout),t=e._drag||e._activeHandleDrag,t&&t.tooltipDiv&&t.tooltipDiv.stop(!0,!1).css("opacity",1)}}),U=Q.extend({init:function(a,i){var n,o=this;a.type="text",i=m({},{value:u(a,"value"),min:u(a,"min"),max:u(a,"max"),smallStep:u(a,"step")},i),a=t(a),i&&i.enabled===e&&(i.enabled=!a.is("[disabled]")),Q.fn.init.call(o,a,i),i=o.options,c(i.value)&&null!==i.value||(i.value=i.min,a.val(i.min)),i.value=w.max(w.min(i.value,i.max),i.min),n=o.wrapper.find(M),new U.Selection(n,o,i),o._drag=new U.Drag(n,"",o,i)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0}"},value:null},enable:function(a){var i,n,o,l=this,r=l.options;l.disable(),a!==!1&&(l.wrapper.removeClass(N).addClass(O),l.wrapper.find("input").removeAttr(Z),i=function(a){var i,n,o,r=j(a)[0];if(r){if(i=l._isHorizontal?r.location.pageX:r.location.pageY,n=l._getDraggableArea(),o=t(a.target),o.hasClass("k-draghandle"))return o.addClass(B),e;l._update(l._getValueFromPosition(i,n)),l._focusWithMouse(a),l._drag.dragstart(a),a.preventDefault()}},l.wrapper.find(P+", "+F).on(z,i).end().on(z,function(){t(document.documentElement).one("selectstart",f.preventDefault)}).on(I,function(){l._drag._end()}),l.wrapper.find(M).attr(Y,0).on(E,function(){l._setTooltipTimeout()}).on(V,function(t){l._focusWithMouse(t),t.preventDefault()}).on(A,S(l._focus,l)).on(W,S(l._blur,l)),n=S(function(t){var e=l._nextValueByIndex(l._valueIndex+1*t);l._setValueInRange(e),l._drag._updateTooltip(e)},l),r.showButtons&&(o=S(function(t,e){this._clearTooltipTimeout(),(1===t.which||x.touch&&0===t.which)&&(n(e),this.timeout=setTimeout(S(function(){this.timer=setInterval(function(){n(e)},60)},this),200))},l),l.wrapper.find(".k-button").on(E,S(function(t){this._clearTimer(),l._focusWithMouse(t)},l)).on(q,function(e){t(e.currentTarget).addClass("k-state-hover")}).on("mouseout"+T,S(function(e){t(e.currentTarget).removeClass("k-state-hover"),this._clearTimer()},l)).eq(0).on(y,S(function(t){o(t,1)},l)).click(!1).end().eq(1).on(y,S(function(t){o(t,-1)},l)).click(f.preventDefault)),l.wrapper.find(M).off(R,!1).on(R,S(this._keydown,l)),r.enabled=!0)},disable:function(){var e=this;e.wrapper.removeClass(O).addClass(N),t(e.element).prop(Z,Z),e.wrapper.find(".k-button").off(y).on(y,f.preventDefault).off(E).on(E,f.preventDefault).off("mouseleave"+T).on("mouseleave"+T,f.preventDefault).off(q).on(q,f.preventDefault),e.wrapper.find(P+", "+F).off(z).off(I),e.wrapper.find(M).attr(Y,-1).off(E).off(R).off(V).off(A).off(W),e.options.enabled=!1},_update:function(t){var e=this,a=e.value()!=t;e.value(t),a&&e.trigger(H,{value:e.options.value})},value:function(t){var a=this,i=a.options;return t=d(t),isNaN(t)?i.value:(t>=i.min&&i.max>=t&&i.value!=t&&(a.element.prop("value",s(t)),i.value=t,a._refreshAriaAttr(t),a._refresh()),e)},_refresh:function(){this.trigger(C,{value:this.options.value})},_refreshAriaAttr:function(t){var e,a=this,i=a._drag;e=i&&i._tooltipDiv?i._tooltipDiv.text():a._getFormattedValue(t,null),this.wrapper.find(M).attr("aria-valuenow",t).attr("aria-valuetext",e)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(t){var e=this;t.keyCode in e._keyMap&&(e._clearTooltipTimeout(),e._setValueInRange(e._keyMap[t.keyCode](e.options.value)),e._drag._updateTooltip(e.value()),t.preventDefault())},_setValueInRange:function(t){var a=this,i=a.options;return t=d(t),isNaN(t)?(a._update(i.min),e):(t=w.max(w.min(t,i.max),i.min),a._update(t),e)},_nextValueByIndex:function(t){var e=this._values.length;return this._isRtl&&(t=e-1-t),this._values[w.max(0,w.min(t,e-1))]},destroy:function(){var t=this;_.fn.destroy.call(t),t.wrapper.off(T).find(".k-button").off(T).end().find(M).off(T).end().find(P+", "+F).off(T).end(),t._drag.draggable.destroy()}});U.Selection=function(t,e,a){function i(i){var n=i-a.min,o=e._valueIndex=w.ceil(d(n/a.smallStep)),l=parseInt(e._pixelSteps[o],10),r=e._trackDiv.find(".k-slider-selection"),s=parseInt(t[e._outerSize]()/2,10),u=e._isRtl?2:0;r[e._size](e._isRtl?e._maxSelection-l:l),t.css(e._position,l-s-u)}i(a.value),e.bind([H,b,C],function(t){i(parseFloat(t.value,10))})},U.Drag=function(t,e,a,i){var n=this;n.owner=a,n.options=i,n.dragHandle=t,n.dragHandleSize=t[a._outerSize](),n.type=e,n.draggable=new v(t,{distance:0,dragstart:S(n._dragstart,n),drag:S(n.drag,n),dragend:S(n.dragend,n),dragcancel:S(n.dragcancel,n)}),t.click(!1)},U.Drag.prototype={dragstart:function(t){this.draggable.userEvents._start(t)},_dragstart:function(a){var i=this,n=i.owner,o=i.options;return o.enabled?(n.element.off(q),i.dragHandle.addClass(B),t(document.documentElement).css("cursor","pointer"),i.dragableArea=n._getDraggableArea(),i.step=w.max(o.smallStep*(n._maxSelection/n._distance),0),i.type?(i.selectionStart=o.selectionStart,i.selectionEnd=o.selectionEnd,n._setZIndex(i.type)):i.oldVal=i.val=o.value,i._removeTooltip(!0),i._createTooltip(),e):(a.preventDefault(),e)},_createTooltip:function(){var e,a,i=this,n=i.owner,o=i.options.tooltip,l="",r=t(window);o.enabled&&(o.template&&(e=i.tooltipTemplate=f.template(o.template)),t(".k-slider-tooltip").remove(),i.tooltipDiv=t("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body),l=n._getFormattedValue(i.val||n.value(),i),i.type||(a="k-callout-"+(n._isHorizontal?"s":"e"),i.tooltipInnerDiv="<div class='k-callout "+a+"'><!-- --></div>",l+=i.tooltipInnerDiv),i.tooltipDiv.html(l),i._scrollOffset={top:r.scrollTop(),left:r.scrollLeft()},i.moveTooltip())},drag:function(t){var e,a=this,i=a.owner,n=t.x.location,o=t.y.location,l=a.dragableArea.startPoint,r=a.dragableArea.endPoint;t.preventDefault(),a.val=i._isHorizontal?i._isRtl?a.constrainValue(n,l,r,r>n):a.constrainValue(n,l,r,n>=r):a.constrainValue(o,r,l,r>=o),a.oldVal!=a.val&&(a.oldVal=a.val,a.type?("firstHandle"==a.type?a.selectionStart=a.val<a.selectionEnd?a.val:a.selectionEnd=a.val:a.val>a.selectionStart?a.selectionEnd=a.val:a.selectionStart=a.selectionEnd=a.val,e={values:[a.selectionStart,a.selectionEnd],value:[a.selectionStart,a.selectionEnd]}):e={value:a.val},i.trigger(b,e)),a._updateTooltip(a.val)},_updateTooltip:function(t){var e=this,a=e.options,i=a.tooltip,n="";i.enabled&&(e.tooltipDiv||e._createTooltip(),n=e.owner._getFormattedValue(d(t),e),e.type||(n+=e.tooltipInnerDiv),e.tooltipDiv.html(n),e.moveTooltip())},dragcancel:function(){return this.owner._refresh(),t(document.documentElement).css("cursor",""),this._end()},dragend:function(){var e=this,a=e.owner;return t(document.documentElement).css("cursor",""),e.type?a._update(e.selectionStart,e.selectionEnd):a._update(e.val),e._end()},_end:function(){var t=this,e=t.owner;return e._focusWithMouse({target:t.dragHandle[0]}),e.element.on(q),!1},_removeTooltip:function(e){var a=this,i=a.owner;a.tooltipDiv&&i.options.tooltip.enabled&&i.options.enabled&&(e?(a.tooltipDiv.remove(),a.tooltipDiv=null):a.tooltipDiv.fadeOut("slow",function(){t(this).remove(),a.tooltipDiv=null}))},moveTooltip:function(){var e,a,i,n,o=this,l=o.owner,r=0,s=0,d=o.dragHandle,u=f.getOffset(d),c=8,p=t(window),_=o.tooltipDiv.find(".k-callout"),v=o.tooltipDiv.outerWidth(),m=o.tooltipDiv.outerHeight();o.type?(e=l.wrapper.find(M),u=f.getOffset(e.eq(0)),a=f.getOffset(e.eq(1)),l._isHorizontal?(r=a.top,s=u.left+(a.left-u.left)/2):(r=u.top+(a.top-u.top)/2,s=a.left),n=e.eq(0).outerWidth()+2*c):(r=u.top,s=u.left,n=d.outerWidth()+2*c),l._isHorizontal?(s-=parseInt((v-d[l._outerSize]())/2,10),r-=m+_.height()+c):(r-=parseInt((m-d[l._outerSize]())/2,10),s-=v+_.width()+c),l._isHorizontal?(i=o._flip(r,m,n,p.outerHeight()+o._scrollOffset.top),r+=i,s+=o._fit(s,v,p.outerWidth()+o._scrollOffset.left)):(i=o._flip(s,v,n,p.outerWidth()+o._scrollOffset.left),r+=o._fit(r,m,p.outerHeight()+o._scrollOffset.top),s+=i),i>0&&_&&(_.removeClass(),_.addClass("k-callout k-callout-"+(l._isHorizontal?"n":"w"))),o.tooltipDiv.css({top:r,left:s})},_fit:function(t,e,a){var i=0;return t+e>a&&(i=a-(t+e)),0>t&&(i=-t),i},_flip:function(t,e,a,i){var n=0;return t+e>i&&(n+=-(a+e)),0>t+n&&(n+=a+e),n},constrainValue:function(t,e,a,i){var n=this,o=0;return o=t>e&&a>t?n.owner._getValueFromPosition(t,n.dragableArea):i?n.options.max:n.options.min}},f.ui.plugin(U),p=Q.extend({init:function(a,i){var n,o=this,l=t(a).find("input"),r=l.eq(0)[0],s=l.eq(1)[0];r.type="text",s.type="text",i=m({},{selectionStart:u(r,"value"),min:u(r,"min"),max:u(r,"max"),smallStep:u(r,"step")},{selectionEnd:u(s,"value"),min:u(s,"min"),max:u(s,"max"),smallStep:u(s,"step")},i),i&&i.enabled===e&&(i.enabled=!l.is("[disabled]")),Q.fn.init.call(o,a,i),i=o.options,c(i.selectionStart)&&null!==i.selectionStart||(i.selectionStart=i.min,l.eq(0).val(i.min)),c(i.selectionEnd)&&null!==i.selectionEnd||(i.selectionEnd=i.max,l.eq(1).val(i.max)),n=o.wrapper.find(M),new p.Selection(n,o,i),o._firstHandleDrag=new U.Drag(n.eq(0),"firstHandle",o,i),o._lastHandleDrag=new U.Drag(n.eq(1),"lastHandle",o,i)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0}"},selectionStart:null,selectionEnd:null},enable:function(a){var i,n=this,o=n.options;n.disable(),a!==!1&&(n.wrapper.removeClass(N).addClass(O),n.wrapper.find("input").removeAttr(Z),i=function(a){var i,l,r,s,d,u=j(a)[0];if(u){if(l=n._isHorizontal?u.location.pageX:u.location.pageY,r=n._getDraggableArea(),s=n._getValueFromPosition(l,r),d=t(a.target),d.hasClass("k-draghandle"))return d.addClass(B),e;o.selectionStart>s?(n._setValueInRange(s,o.selectionEnd),n._firstHandleDrag.dragstart(a),i=0):s>n.selectionEnd?(n._setValueInRange(o.selectionStart,s),n._lastHandleDrag.dragstart(a),i=1):s-o.selectionStart<=o.selectionEnd-s?(n._setValueInRange(s,o.selectionEnd),n._firstHandleDrag.dragstart(a),i=0):(n._setValueInRange(o.selectionStart,s),n._lastHandleDrag.dragstart(a),i=1),n._focusWithMouse({target:n.wrapper.find(M)[i]})}},n.wrapper.find(P+", "+F).on(z,i).end().on(z,function(){t(document.documentElement).one("selectstart",f.preventDefault)}).on(I,function(){n._drag._end()}),n.wrapper.find(M).attr(Y,0).on(E,function(){n._setTooltipTimeout()}).on(V,function(t){n._focusWithMouse(t),t.preventDefault()}).on(A,S(n._focus,n)).on(W,S(n._blur,n)),n.wrapper.find(M).off(R,f.preventDefault).eq(0).on(R,S(function(t){this._keydown(t,"firstHandle")},n)).end().eq(1).on(R,S(function(t){this._keydown(t,"lastHandle")},n)),n.options.enabled=!0)},disable:function(){var t=this;t.wrapper.removeClass(O).addClass(N),t.wrapper.find("input").prop(Z,Z),t.wrapper.find(P+", "+F).off(z).off(I),t.wrapper.find(M).attr(Y,-1).off(E).off(R).off(V).off(A).off(W),t.options.enabled=!1},_keydown:function(t,e){var a,i,n,o=this,l=o.options.selectionStart,r=o.options.selectionEnd;t.keyCode in o._keyMap&&(o._clearTooltipTimeout(),"firstHandle"==e?(n=o._activeHandleDrag=o._firstHandleDrag,l=o._keyMap[t.keyCode](l),l>r&&(r=l)):(n=o._activeHandleDrag=o._lastHandleDrag,r=o._keyMap[t.keyCode](r),l>r&&(l=r)),o._setValueInRange(l,r),a=Math.max(l,o.options.selectionStart),i=Math.min(r,o.options.selectionEnd),n.selectionEnd=Math.max(i,o.options.selectionStart),n.selectionStart=Math.min(a,o.options.selectionEnd),n._updateTooltip(o.value()[o._activeHandle]),t.preventDefault())},_update:function(t,e){var a=this,i=a.value(),n=i[0]!=t||i[1]!=e;a.value([t,e]),n&&a.trigger(H,{values:[t,e],value:[t,e]})},value:function(t){return t&&t.length?this._value(t[0],t[1]):this._value()},_value:function(t,a){var i=this,n=i.options,o=n.selectionStart,l=n.selectionEnd;return isNaN(t)&&isNaN(a)?[o,l]:(t=d(t),a=d(a),t>=n.min&&n.max>=t&&a>=n.min&&n.max>=a&&a>=t&&(o!=t||l!=a)&&(i.element.find("input").eq(0).prop("value",s(t)).end().eq(1).prop("value",s(a)),n.selectionStart=t,n.selectionEnd=a,i._refresh(),i._refreshAriaAttr(t,a)),e)},values:function(t,e){return k(t)?this._value(t[0],t[1]):this._value(t,e)},_refresh:function(){var t=this,e=t.options;t.trigger(C,{values:[e.selectionStart,e.selectionEnd],value:[e.selectionStart,e.selectionEnd]}),e.selectionStart==e.max&&e.selectionEnd==e.max&&t._setZIndex("firstHandle")},_refreshAriaAttr:function(t,e){var a,i=this,n=i.wrapper.find(M),o=i._activeHandleDrag;a=i._getFormattedValue([t,e],o),n.eq(0).attr("aria-valuenow",t),n.eq(1).attr("aria-valuenow",e),n.attr("aria-valuetext",a)},_setValueInRange:function(t,e){var a=this.options;t=w.max(w.min(t,a.max),a.min),e=w.max(w.min(e,a.max),a.min),t==a.max&&e==a.max&&this._setZIndex("firstHandle"),this._update(w.min(t,e),w.max(t,e))},_setZIndex:function(e){this.wrapper.find(M).each(function(a){t(this).css("z-index","firstHandle"==e?1-a:a)})},destroy:function(){var t=this;_.fn.destroy.call(t),t.wrapper.off(T).find(P+", "+F).off(T).end().find(M).off(T),t._firstHandleDrag.draggable.destroy(),t._lastHandleDrag.draggable.destroy()}}),p.Selection=function(t,e,a){function i(i){i=i||[];var o=i[0]-a.min,l=i[1]-a.min,r=w.ceil(d(o/a.smallStep)),s=w.ceil(d(l/a.smallStep)),u=e._pixelSteps[r],c=e._pixelSteps[s],p=parseInt(t.eq(0)[e._outerSize]()/2,10),f=e._isRtl?2:0;t.eq(0).css(e._position,u-p-f).end().eq(1).css(e._position,c-p-f),n(u,c)}function n(t,a){var i,n,o=e._trackDiv.find(".k-slider-selection");i=w.abs(t-a),o[e._size](i),e._isRtl?(n=w.max(t,a),o.css("right",e._maxSelection-n-1)):(n=w.min(t,a),o.css(e._position,n-1))}i(e.value()),e.bind([H,b,C],function(t){i(t.values)})},f.ui.plugin(p)})(window.kendo.jQuery);;(function(e,t,s){function n(e,t,s){s=o(s),s&&!s.equals(e.color())&&("change"==t&&(e._value=s),s=1!=s.a?s.toCssRgba():s.toCss(),e.trigger(t,{value:s}))}function i(e,t,s){for(s||(s="0"),e=e.toString(16);t>e.length;)e="0"+e;return e}function a(e){return parseFloat((+e).toFixed(3))}function o(e,n){if(null==e||"transparent"==e)return null;if(e instanceof H)return e;var i=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e);if(i)return new R(t(i[1],16),t(i[2],16),t(i[3],16),1);if(i=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e))return new R(t(i[1]+i[1],16),t(i[2]+i[2],16),t(i[3]+i[3],16),1);if(i=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(e))return new R(t(i[1],10),t(i[2],10),t(i[3],10),1);if(i=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(e))return new R(t(i[1],10),t(i[2],10),t(i[3],10),parseFloat(i[4]));if(i=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(e))return new E(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,1);if(i=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(e))return new E(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,parseFloat(i[4]));if(!n)throw Error("Cannot parse color: "+e);return s}function l(e,t,s){var n,i;return e=Array.prototype.slice.call(e),n=e.length,i=e.indexOf(t),0>i?0>s?e[n-1]:e[0]:(i+=s,0>i?i+=n:i%=n,e[i])}function r(e){e.preventDefault()}function c(e,t){return function(){return e.apply(t,arguments)}}var u=window.kendo,C=u.Class,d=u.ui,p=d.Widget,h=u.keys,f="background-color",F="k-state-selected",v="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",g="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",_={apply:"Apply",cancel:"Cancel"},k=".kendoColorTools",b="click"+k,y="keydown"+k,m=u.support.browser,w=m.msie&&9>m.version,S=p.extend({init:function(e,t){var s,n=this;p.fn.init.call(n,e,t),e=n.element,t=n.options,n._value=t.value=o(t.value),s=n._ariaId=t.ariaId,s&&e.attr("aria-labelledby",s),t._standalone&&(n._triggerSelect=n._triggerChange)},options:{value:null,_standalone:!0},events:["change","select","cancel"],color:function(e){return e!==s&&this._updateUI(this._value=o(e)),this._value},value:function(e){return e=this.color(e),e&&(e=this.options.opacity?e.toCssRgba():e.toCss()),e||null},enable:function(t){0===arguments.length&&(t=!0),t?e(".k-disabled-overlay",this.wrapper).remove():this.wrapper.append("<div class='k-disabled-overlay'></div>"),this._onEnable(t)},_select:function(e,t){var s=this._value;e=this.color(e),t||(e.equals(s)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(e){n(this,"select",e)},_triggerChange:function(e){n(this,"change",e)},destroy:function(){this.element&&this.element.off(k),this.wrapper&&this.wrapper.off(k).find("*").off(k),this.wrapper=null,p.fn.destroy.call(this)},_updateUI:e.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}}),I=S.extend({init:function(t,s){var n,i,a,l,r=this;if(S.fn.init.call(r,t,s),t=r.wrapper=r.element,s=r.options,n=s.palette,"websafe"==n?(n=g,s.columns=18):"basic"==n&&(n=v),"string"==typeof n&&(n=n.split(",")),e.isArray(n)&&(n=e.map(n,function(e){return o(e)})),t.addClass("k-widget k-colorpalette").append(e(r._template({colors:n,tileSize:s.tileSize,value:r._value,id:s.ariaId}))).on(b,".k-item",function(t){r._select(e(t.currentTarget).css(f))}).attr("tabIndex",0).on(y,c(r._keydown,r)),l=s.tileSize){if(/number|string/.test(typeof l))i=a=parseFloat(l);else{if("object"!=typeof l)throw Error("Unsupported value for the 'tileSize' argument");i=parseFloat(l.width),a=parseFloat(l.height)}t.find(".k-item").css({width:i-2,height:a-2})}s.columns&&t.css("width",s.columns*(i||14))},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(e){e?this.wrapper.removeAttr("tabIndex"):this.wrapper.attr("tabIndex",0)},_keydown:function(t){var s,n,i=this,a=i.wrapper,c=a.find(".k-item"),u=c.filter("."+F).get(0),C=t.keyCode;if(C==h.LEFT?s=l(c,u,-1):C==h.RIGHT?s=l(c,u,1):C==h.DOWN?s=l(c,u,i.options.columns):C==h.UP?s=l(c,u,-i.options.columns):C==h.ENTER?(r(t),u&&this._select(e(u).css(f))):C==h.ESC&&this._cancel(),s){r(t),s=e(s),e(u).removeClass(F).removeAttr("aria-selected"),s.addClass(F).attr("aria-selected",!0);try{n=o(s.css(f)),i._triggerSelect(n)}catch(d){}}},_updateUI:function(t){var s=this,n=null;s.wrapper.find(".k-item."+F).removeClass(F).removeAttr("aria-selected"),s.wrapper.find(".k-item").each(function(){var s=o(e(this).css(f));s&&s.equals(t)&&(n=this)}),e(n).addClass(F).attr("aria-selected",!0)},_template:u.template('<ul class="k-palette k-reset"># for (var i = 0; i < colors.length; i++) { #<li unselectable="on" style="background-color:#= colors[i].toCss() #" #=(id && i === 0) ? "id=\\""+id+"\\" aria-selected=\\"true\\"" : "" # class="k-item #= colors[i].equals(value) ? "'+F+'" : "" #" aria-label="#= colors[i].toCss() #">'+"</li>"+"# } #"+"</ul>")}),x=S.extend({init:function(t,s){var n=this;S.fn.init.call(n,t,s),s=n.options,t=n.element,n.wrapper=t.addClass("k-widget k-flatcolorpicker").append(n._template(s)),n._hueElements=e(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",t),n._selectedColor=e(".k-selected-color-display",t),n._colorAsText=e("input.k-color-value",t),n._sliders(),n._hsvArea(),n._updateUI(n._value||new E(1,0,0,1)),t.find("input.k-color-value").on(y,function(t){var s,i;if(t.keyCode==h.ENTER)try{s=o(this.value),i=n.color(),n._select(s,s.equals(i))}catch(a){e(this).addClass("k-state-error")}}).end().on(b,".k-controls button.apply",function(){n._select(n._getHSV())}).on(b,".k-controls button.cancel",function(){n._updateUI(n.color()),n._cancel()}),w&&n._applyIEFilter()},destroy:function(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,S.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,messages:_},_applyIEFilter:function(){var e=this.element.find(".k-hue-slider .k-slider-track")[0],t=e.currentStyle.backgroundImage;t=t.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),e.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"', sizingMethod='scale')"},_sliders:function(){function e(e){s._updateUI(s._getHSV(e.value,null,null,null))}function t(e){s._updateUI(s._getHSV(null,null,null,e.value/100))}var s=this,n=s.element;s._hueSlider=n.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:!1,slide:e,change:e}).data("kendoSlider"),s._opacitySlider=n.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:t,change:t}).data("kendoSlider")},_hsvArea:function(){function e(e,s){var n=this.offset,i=e-n.left,a=s-n.top,o=this.width,l=this.height;i=0>i?0:i>o?o:i,a=0>a?0:a>l?l:a,t._svChange(i/o,1-a/l)}var t=this,s=t.element,n=s.find(".k-hsv-rectangle"),i=n.find(".k-draghandle").attr("tabIndex",0).on(y,c(t._keydown,t));t._hsvEvents=new u.UserEvents(n,{global:!0,press:function(t){this.offset=u.getOffset(n),this.width=n.width(),this.height=n.height(),i.focus(),e.call(this,t.x.location,t.y.location)},start:function(){n.addClass("k-dragging"),i.focus()},move:function(t){t.preventDefault(),e.call(this,t.x.location,t.y.location)},end:function(){n.removeClass("k-dragging")}}),t._hsvRect=n,t._hsvHandle=i},_onEnable:function(e){this._hueSlider.enable(e),this._opacitySlider&&this._opacitySlider.enable(e),this.wrapper.find("input").attr("disabled",!e);var t=this._hsvRect.find(".k-draghandle");e?t.attr("tabIndex",0):t.removeAttr("tabIndex")},_keydown:function(e){function t(t,s){var i=n._getHSV();i[t]+=s*(e.shiftKey?.01:.05),0>i[t]&&(i[t]=0),i[t]>1&&(i[t]=1),n._updateUI(i),r(e)}function s(t){var s=n._getHSV();s.h+=t*(e.shiftKey?1:5),0>s.h&&(s.h=0),s.h>359&&(s.h=359),n._updateUI(s),r(e)}var n=this;switch(e.keyCode){case h.LEFT:e.ctrlKey?s(-1):t("s",-1);break;case h.RIGHT:e.ctrlKey?s(1):t("s",1);break;case h.UP:t(e.ctrlKey&&n._opacitySlider?"a":"v",1);break;case h.DOWN:t(e.ctrlKey&&n._opacitySlider?"a":"v",-1);break;case h.ENTER:n._select(n._getHSV());break;case h.F2:n.wrapper.find("input.k-color-value").focus().select();break;case h.ESC:n._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(e,t,s,n){var i=this._hsvRect,a=i.width(),o=i.height(),l=this._hsvHandle.position();return null==e&&(e=this._hueSlider.value()),null==t&&(t=l.left/a),null==s&&(s=1-l.top/o),null==n&&(n=this._opacitySlider?this._opacitySlider.value()/100:1),new B(e,t,s,n)},_svChange:function(e,t){var s=this._getHSV(null,e,t,null);this._updateUI(s)},_updateUI:function(e){var t=this,s=t._hsvRect;e&&(this._colorAsText.removeClass("k-state-error"),t._selectedColor.css(f,e.toDisplay()),t._colorAsText.val(t._opacitySlider?e.toCssRgba():e.toCss()),t._triggerSelect(e),e=e.toHSV(),t._hsvHandle.css({left:e.s*s.width()+"px",top:(1-e.v)*s.height()+"px"}),t._hueElements.css(f,new B(e.h,1,1,1).toCss()),t._hueSlider.value(e.h),t._opacitySlider&&t._opacitySlider.value(100*e.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:u.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')}),H=C.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var e=this.toBytes();return"rgba("+e.r+", "+e.g+", "+e.b+", "+a(this.a)+")"},toDisplay:function(){return w?this.toCss():this.toCssRgba()},equals:function(e){return e===this||null!==e&&this.toCssRgba()==o(e).toCssRgba()},diff:function(e){if(null==e)return 0/0;var t=this.toBytes();return e=e.toBytes(),Math.sqrt(Math.pow(.3*(t.r-e.r),2)+Math.pow(.59*(t.g-e.g),2)+Math.pow(.11*(t.b-e.b),2))},clone:function(){var e=this.toBytes();return e===this&&(e=new R(e.r,e.g,e.b,e.a)),e}}),E=H.extend({init:function(e,t,s,n){this.r=e,this.g=t,this.b=s,this.a=n},toHSV:function(){var e,t,s=this.r,n=this.g,i=this.b,a=Math.min(s,n,i),o=Math.max(s,n,i),l=o,r=o-a;return 0===r?new B(0,0,l,this.a):(0!==o?(t=r/o,e=s==o?(n-i)/r:n==o?2+(i-s)/r:4+(s-n)/r,e*=60,0>e&&(e+=360)):(t=0,e=-1),new B(e,t,l,this.a))},toBytes:function(){return new R(255*this.r,255*this.g,255*this.b,this.a)}}),R=E.extend({init:function(e,t,s,n){this.r=Math.round(e),this.g=Math.round(t),this.b=Math.round(s),this.a=n},toRGB:function(){return new E(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return i(this.r,2)+i(this.g,2)+i(this.b,2)},toBytes:function(){return this}}),B=H.extend({init:function(e,t,s,n){this.h=e,this.s=t,this.v=s,this.a=n},toRGB:function(){var e,t,s,n,i,a,o,l,r=this.h,c=this.s,u=this.v;if(0===c)t=s=n=u;else switch(r/=60,e=Math.floor(r),i=r-e,a=u*(1-c),o=u*(1-c*i),l=u*(1-c*(1-i)),e){case 0:t=u,s=l,n=a;break;case 1:t=o,s=u,n=a;break;case 2:t=a,s=u,n=l;break;case 3:t=a,s=o,n=u;break;case 4:t=l,s=a,n=u;break;default:t=u,s=a,n=o}return new E(t,s,n,this.a)},toBytes:function(){return this.toRGB().toBytes()}}),T=p.extend({init:function(t,s){var n,i,a,l=this;p.fn.init.call(l,t,s),s=l.options,t=l.element,n=t.val()?o(t.val(),!0):o(s.value,!0),l._value=s.value=n,i=l.wrapper=e(l._template(s)),t.hide().after(i),t.is("input")&&t.appendTo(i),l.enable(!t.attr("disabled")),a=t.attr("accesskey"),a&&(t.attr("accesskey",null),i.attr("accesskey",a)),l.bind("activate",function(e){e.isDefaultPrevented()||l.toggle()}),l._updateUI(n)},destroy:function(){this.wrapper.add("*").off(k),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,p.fn.destroy.call(this)},enable:function(e){var t=this,s=t.wrapper,n=s.children(".k-picker-wrap"),i=n.find(".k-select");0===arguments.length&&(e=!0),t.element.attr("disabled",!e),s.attr("disabled",!e),i.off(k).on("mousedown"+k,r),e?s.removeClass("k-state-disabled").attr("tabIndex",0).on("mouseenter"+k,function(){n.addClass("k-state-hover")}).on("mouseleave"+k,function(){n.removeClass("k-state-hover")}).on("focus"+k,function(){n.addClass("k-state-focused")}).on("blur"+k,function(){n.removeClass("k-state-focused")}).on(y,c(t._keydown,t)).on(b,".k-icon",c(t.toggle,t)).on(b,t.options.toolIcon?".k-tool-icon":".k-selected-color",function(){t.trigger("activate")}):s.addClass("k-state-disabled").removeAttr("tabIndex").add("*",s).off(k)},_template:u.template('<span class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:_,opacity:!1,buttons:!0,preview:!0},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:S.fn.color,value:S.fn.value,_select:S.fn._select,_triggerSelect:S.fn._triggerSelect,_isInputTypeColor:function(){var e=this.element[0];return/^input$/i.test(e.tagName)&&/^color$/i.test(e.type)},_updateUI:function(e){e&&(this._isInputTypeColor()||1==e.a?this.element.val(e.toCss()):this.element.val(e.toCssRgba())),this._triggerSelect(e),this.wrapper.find(".k-selected-color").css(f,e?e.toDisplay():"transparent")},_keydown:function(e){var t=e.keyCode;this._getPopup().visible()?(t==h.ESC?this._selector._cancel():this._selector._keydown(e),r(e)):(t==h.ENTER||t==h.DOWN)&&(this.open(),r(e))},_getPopup:function(){var t,n,i,a=this,l=a._popup;return l||(t=this.options,n=t.palette?I:x,t._standalone=!1,i=this._selector=new n(e("<div />").appendTo(document.body),t),a._popup=l=i.wrapper.kendoPopup({anchor:a.wrapper}).data("kendoPopup"),i.bind({select:function(e){a._updateUI(o(e.value))},change:function(){a._select(i.color()),a.close()},cancel:function(){a.close()}}),l.bind({close:function(e){if(a.trigger("close"))return e.preventDefault(),s;var t=i._selectOnHide();t?a._select(t):(a.wrapper.focus(),a._updateUI(a.color()))},open:function(e){a.trigger("open")&&e.preventDefault()},activate:function(){i._select(a.color(),!0),i.focus()}})),l}});d.plugin(I),d.plugin(x),d.plugin(T),u.parseColor=o,u.Color={fromBytes:function(e,t,s,n){return new R(e,t,s,null!=n?n:1)},fromRGB:function(e,t,s,n){return new E(e,t,s,null!=n?n:1)},fromHSV:function(e,t,s,n){return new B(e,t,s,null!=n?n:1)}}})(jQuery,parseInt);;(function(e,t){var n,i,o=window.kendo,r=o.Class,a=o.ui.Widget,s=o.support.mobileOS,l=o.support.browser,d=e.extend,c=o.deepExtend,u=".kendoEditor",f=o.keys,p=r.extend({init:function(e){this.options=e},getHtml:function(){var e=this.options;return o.template(e.template)({cssClass:e.cssClass,tooltip:e.title,initialValue:e.initialValue})}}),m={select:function(e){e.trigger("select",{})},editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar"></ul></td></tr><tr><td class="k-editable-area"></td></tr></tbody></table>',buttonTemplate:'<li class="k-editor-button" role="presentation"><a href="" role="button" class="k-tool-icon #= cssClass #" unselectable="on" title="#= tooltip #">#= tooltip #</a></li>',colorPickerTemplate:'<li class="k-editor-colorpicker" role="presentation"><div class="k-colorpicker #= cssClass #"></div></li>',comboBoxTemplate:'<li class="k-editor-combobox"><select title="#= tooltip #" class="#= cssClass #"></select></li>',dropDownListTemplate:'<li class="k-editor-selectbox"><select title="#= tooltip #" class="#= cssClass #"></select></li>',separatorTemplate:'<li class="k-separator"></li>',focusable:".k-colorpicker,a.k-tool-icon:not(.k-state-disabled),.k-selectbox, .k-combobox .k-input",wrapTextarea:function(t){var n=t[0].style.width,i=t[0].style.height,o=m.editorWrapperTemplate,r=e(o).insertBefore(t).width(n).height(i),a=r.find(".k-editable-area");return t.appendTo(a).addClass("k-content k-raw-content").hide(),t.closest(".k-editor")},renderTools:function(t,n){var i,r,a,s,l,c={},u=t._nativeTools,f=e(t.element).closest(".k-editor").find(".k-editor-toolbar");if(n)for(a=0;n.length>a;a++)i=n[a],l=null,e.isPlainObject(i)?i.name&&t.tools[i.name]?(e.extend(t.tools[i.name].options,i),c[i.name]=t.tools[i.name],l=c[i.name].options):(l=d({cssClass:"k-i-custom",type:"button",tooltip:""},i),l.name&&(l.cssClass="k-"+("custom"==l.name?"i-custom":l.name)),l.template||"button"==l.type&&(l.template=m.buttonTemplate)):t.tools[i]&&(c[i]=t.tools[i],l=c[i].options),l&&(s=l.template,s&&(s.getHtml?s=s.getHtml():(e.isFunction(s)||(s=o.template(s)),s=s(l)),0!==s.indexOf("<li")&&(s="<li class='k-editor-template'>"+s+"</li>"),r=e(s).appendTo(f),"button"==l.type&&l.exec&&r.find(".k-tool-icon").click(e.proxy(l.exec,t.element[0]))));for(a=0;u.length>a;a++)c[u[a]]||(c[u[a]]=t.tools[u[a]]);t.options.tools=c},decorateStyleToolItems:function(t){var n,i=t.data.closest(".k-editor").find(".k-style").data("kendoSelectBox");i&&(n=i.dataSource.view(),i.list.find(".k-item").each(function(i,r){var a=e(r),s=a.text(),l=o.ui.editor.Dom.inlineStyle(t.data.data("kendoEditor").document,"span",{className:n[i].value});a.html('<span unselectable="on" style="display:block;'+l+'">'+s+"</span>")}))},createContentElement:function(t,n){var i,r,a,s=o.support.isRtl(t)?"direction:rtl;":"";return t.hide(),i=e("<iframe />",{src:'javascript:""',frameBorder:"0"}).css("display","").addClass("k-content").insertBefore(t)[0],r=i.contentWindow||i,n.length>0&&e(i).one("load",t,m.decorateStyleToolItems),a=r.document||i.contentDocument,a.open(),a.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;background:#fff;height:100%;min-height:100%;}body{font-size:13px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+s+"}"+"h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}"+"p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}"+"ul,ol{padding-left:2.5em}"+"a{color:#00a}"+"code{font-size:1.23em}"+"</style>"+e.map(n,function(e){return"<link rel='stylesheet' href='"+e+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),a.close(),r},initializeContentElement:function(n){var i=!0;n.window=m.createContentElement(e(n.textarea),n.options.stylesheets),n.document=n.window.contentDocument||n.window.document,n.body=n.document.body,e(n.document).on("keydown"+u,function(e){var r,a,s,l,d;return e.keyCode===f.F10?(setTimeout(function(){var e="tabIndex",t=n.wrapper,i=t.attr(e);t.attr(e,i||0).focus().find("li:has("+g+")").first().focus(),i||0===i||t.removeAttr(e)},100),e.preventDefault(),t):(e.keyCode===f.BACKSPACE&&(r=n.getRange(),s=o.support.browser.msie?"":'<br _moz_dirty="" />',l=o.ui.editor.Dom,r.deleteContents(),a=r.commonAncestorContainer,"p"===l.name(a)&&""===a.innerHTML&&(a.innerHTML=s,r.setStart(a,0),r.collapse(!0),n.selectRange(r))),(d=n.keyboard.toolFromShortcut(n.options.tools,e))?(e.preventDefault(),/undo|redo/.test(d)||n.keyboard.endTyping(!0),n.trigger("keydown",e),n.exec(d),!1):(n.keyboard.isTypingKey(e)&&n.pendingFormats.hasPending()&&(i?i=!1:(r=n.getRange(),n.pendingFormats.apply(r),n.selectRange(r))),n.keyboard.clearTimeout(),n.keyboard.keydown(e),t))}).on("keyup"+u,function(t){var o,r=[8,9,33,34,35,36,37,38,39,40,40,45,46];(e.inArray(t.keyCode,r)>-1||65==t.keyCode&&t.ctrlKey&&!t.altKey&&!t.shiftKey)&&(n.pendingFormats.clear(),h(n)),n.keyboard.isTypingKey(t)?n.pendingFormats.hasPending()&&(o=n.getRange(),n.pendingFormats.apply(o),n.selectRange(o)):i=!0,n.keyboard.keyup(t)}).on("mousedown"+u,function(t){n.pendingFormats.clear();var i=e(t.target);!l.gecko&&2==t.which&&i.is("a[href]")&&window.open(i.attr("href"),"_new")}).on("mouseup"+u,function(){h(n)}).on("click"+u,function(e){var t,i=o.ui.editor.Dom;"img"===i.name(e.target)&&(t=n.createRange(),t.selectNode(e.target),n.selectRange(t))}),e(n.window).on("blur"+u,function(){var e=n.textarea.value,t=n.encodedValue();n.update(),t!=e&&n.trigger("change")}),e(n.body).on("cut"+u+" paste"+u,function(e){n.clipboard["on"+e.type](e)})},formatByName:function(t,n){for(var i=0;n.length>i;i++)if(e.inArray(t,n[i].tags)>=0)return n[i]},registerTool:function(e,t){var n=t.options;n&&n.template&&(n.template.options.cssClass="k-"+e),C.defaultTools[e]=t},registerFormat:function(e,t){C.fn.options.formats[e]=t},createDialog:function(t,n,i){var r=o.support.isRtl(n.wrapper),a=e(t).appendTo(document.body).kendoWindow(i);return r&&a.closest(".k-window").addClass("k-rtl"),a}},h=m.select,g=m.focusable,v=m.wrapTextarea,y=m.renderTools,b=m.initializeContentElement,k={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogButtonSeparator:"or",dialogCancel:"Cancel"},w=!s||s.ios&&s.flatVersion>=500||!s.ios&&document.documentElement.contentEditable!==t,C=a.extend({init:function(t,n){function i(t){var n=e.grep(t.className.split(" "),function(e){return!/^k-(widget|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(e)});return n[0]?n[0].substring(n[0].lastIndexOf("-")+1):"custom"}function r(e,t){if(!t.key)return e;var n=e+" (";return t.ctrl&&(n+="Ctrl + "),t.shift&&(n+="Shift + "),t.alt&&(n+="Alt + "),n+=t.key+")"}var s,l,d,p,m,h,C,x,T;if(w){d=this,p=o.ui.editor,a.fn.init.call(d,t,n),d.tools=c({},o.ui.Editor.defaultTools),d.options=c({},d.options,n),t=e(t),t.closest("form").on("submit"+u,function(){d.update()});for(m in d.tools)d.tools[m].name=m.toLowerCase();d.textarea=t.attr("autocomplete","off")[0],s=d.wrapper=v(t),d.textarea.id&&s.find(".k-editor-toolbar").attr("aria-controls",d.textarea.id),y(d,d.options.tools),b(d),d.keyboard=new p.Keyboard([new p.TypingHandler(d),new p.SystemHandler(d)]),d.clipboard=new p.Clipboard(this),d.pendingFormats=new p.PendingFormats(this),d.undoRedoStack=new p.UndoRedoStack,l=n&&n.value?n.value:t.val().replace(/[\r\n\v\f\t ]+/gi," "),d.value(l),h=".k-editor-toolbar > li > *, .k-editor-toolbar > li select",C=".k-editor-button .k-tool-icon",x=C+":not(.k-state-disabled)",T=C+".k-state-disabled",s.find(".k-combobox .k-input").keydown(function(t){var n=e(this).closest(".k-combobox").data("kendoComboBox"),i=t.keyCode;i==f.RIGHT||i==f.LEFT?n.close():i==f.DOWN&&(n.dropDown.isOpened()||(t.stopImmediatePropagation(),n.open()))}),s.on("mouseenter"+u,x,function(){e(this).addClass("k-state-hover")}).on("mouseleave"+u,x,function(){e(this).removeClass("k-state-hover")}).on("mousedown"+u,C,!1).on("keydown"+u,g,function(t){var n,i=e(this).closest("li"),o="li:has("+g+")",r=t.keyCode;if(r==f.RIGHT)n=i.nextAll(o).first().find(g);else if(r==f.LEFT)n=i.prevAll(o).first().find(g);else if(r==f.ESC)n=d;else if(r==f.TAB&&!t.ctrlKey&&!t.altKey)if(t.shiftKey){if(n=i.prevAll(o).first().find(g),!n.length)return;t.preventDefault()}else t.preventDefault(),n=i.nextAll(o).first().find(g),n.length||(n=d);n&&n.focus()}).on("click"+u,x,function(t){t.preventDefault(),t.stopPropagation(),e(this).removeClass("k-state-hover"),d.exec(i(this))}).on("click"+u,T,function(e){e.preventDefault()}).find(h).each(function(){var t,n=i(this),o=d.options,a=o.tools[n],s=o.messages[n],l=e(this);a&&(("fontSize"==n||"fontName"==n)&&(t=o.messages[n+"Inherit"]||k[n+"Inherit"],l.find("input").val(t).end().find("span.k-input").text(t).end()),a.initialize(l,{title:r(s,a),editor:d}))}),d.bind("select",function(){var t=d.getRange(),n=p.RangeUtils.textNodes(t);n.length||(n=[t.startContainer]),s.find(h).each(function(){var t=d.options.tools[i(this)];t&&t.update(e(this),n,d.pendingFormats)})}),d._DOMNodeInsertedHandler=function(e){d._DOMNodeInserted(e)},d._endTypingHandler=function(){d._endTyping()},e(document).on("DOMNodeInserted",d._DOMNodeInsertedHandler).on("mousedown",d._endTypingHandler),o.notify(d)}},_endTyping:function(){var e=this;try{e.keyboard.isTypingInProgress()&&e.keyboard.endTyping(!0),e.selectionRestorePoint||(e.selectionRestorePoint=new o.ui.editor.RestorePoint(e.getRange()))}catch(t){}},_DOMNodeInserted:function(t){var n=this.wrapper;(e.contains(t.target,n[0])||n[0]==t.target)&&this.refresh()},refresh:function(){var e=this;e.textarea.value=e.value(),e.wrapper.find("iframe").remove(),b(e),e.value(e.textarea.value)},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:k,formats:{},encoded:!0,stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:["bold","italic","underline","strikethrough","fontName","fontSize","foreColor","backColor","justifyLeft","justifyCenter","justifyRight","justifyFull","insertUnorderedList","insertOrderedList","indent","outdent","formatBlock","createLink","unlink","insertImage"]},destroy:function(){var t=this;a.fn.destroy.call(t),e(t.window).add(t.document).add(t.wrapper).add(t.element.closest("form")).off(u),e(document).off("DOMNodeInserted",t._DOMNodeInsertedHandler).off("mousedown",t._endTypingHandler),o.destroy(t.wrapper)},_nativeTools:["insertLineBreak","insertParagraph","redo","undo","insertHtml"],tools:{},value:function(n){var i,r,a,s=this.body,d=o.ui.editor.Dom,c=o.ui.editor.Serializer.domToXhtml(s);return n===t?c:(n!=c&&(this.pendingFormats.clear(),i=/onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,n=(n||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/gi,"<telerik:script $1>$2</telerik:script>").replace(/<img([^>]*)>/gi,function(e){return e.replace(i,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1"),l.msie||(n=n.replace(/<p([^>]*)>(\s*)?<\/p>/gi,'<p $1><br _moz_dirty="" /></p>')),l.msie&&9>l.version?(n="<br/>"+n,r="originalsrc",a="originalhref",n=n.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,a+'="$1"'),n=n.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,r+'="$1"'),s.innerHTML=n,d.remove(s.firstChild),e(s).find("telerik\\:script,script,link,img,a").each(function(){var e=this;e[a]&&(e.setAttribute("href",e[a]),e.removeAttribute(a)),e[r]&&(e.setAttribute("src",e[r]),e.removeAttribute(r))})):(s.innerHTML=n,l.msie&&(d.normalize(s),setTimeout(function(){var e,t,n,i=s.getElementsByTagName("ol");for(e=0;i.length>e;e++)t=i[e],n=t.getAttribute("start"),t.setAttribute("start",1),n?t.setAttribute("start",n):t.removeAttribute(n)},1))),this.selectionRestorePoint=null,this.update()),t)},focus:function(){this.window.focus()},update:function(e){this.textarea.value=e||this.options.encoded?this.encodedValue():this.value()},encodedValue:function(){return o.ui.editor.Dom.encode(this.value())},createRange:function(e){return o.ui.editor.RangeUtils.createRange(e||this.document)},getSelection:function(){return o.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(e){this.focus();var t=this.getSelection();t.removeAllRanges(),t.addRange(e)},getRange:function(){var e=this.getSelection(),t=e.rangeCount>0?e.getRangeAt(0):this.createRange(),n=this.document;return t.startContainer!=n||t.endContainer!=n||t.startOffset||t.endOffset||(t.setStart(this.body,0),t.collapse(!0)),t},selectedHtml:function(){return o.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(e){this.clipboard.paste(e)},exec:function(n,i){var o,r,a,s,l,c=this,u="";n=n.toLowerCase(),c.keyboard.isTypingInProgress()||(c.focus(),o=c.getRange(),r=c.document.body);for(a in c.options.tools)if(a.toLowerCase()==n){u=c.options.tools[a];break}if(u){if(o=c.getRange(),!/undo|redo/i.test(n)&&u.willDelayExecution(o))return s=e.extend({},u),e.extend(s.options,{params:i}),c.pendingFormats.toggle(s),h(c),t;if(l=u.command?u.command(d({range:o},i)):null,c.trigger("execute",{name:n,command:l}),/undo|redo/i.test(n))c.undoRedoStack[n]();else if(l&&(l.managesUndoRedo||c.undoRedoStack.push(l),l.editor=c,l.exec(),l.async))return l.change=e.proxy(function(){h(c)},c),t;h(c)}}});C.defaultTools={undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}},o.ui.plugin(C),n=r.extend({init:function(e){this.options=e},initialize:function(e,t){e.attr({unselectable:"on",title:t.title})},command:function(e){return new this.options.command(e)},update:function(){},willDelayExecution:function(){return!1}}),n.exec=function(e,t,n){e.exec(t,{value:n})},i=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){var t=this;return new o.ui.editor.FormatCommand(d(e,{formatter:t.options.formatter}))},update:function(e,t,n){var i=n.isPending(this.name),o=this.options.finder.isFormatted(t),r=i?!o:o;e.toggleClass("k-state-active",r),e.attr("aria-pressed",r)}}),m.registerTool("separator",new n({template:new p({template:m.separatorTemplate})})),d(o.ui,{editor:{ToolTemplate:p,EditorUtils:m,Tool:n,FormatTool:i}})})(window.jQuery),function(e){function t(e){var t,n,i={};for(t=0,n=e.length;n>t;t++)i[e[t]]=!0;return i}var n,i,o,r,a,s,l,d,c,u,f=window.kendo,p=e.map,m=e.extend,h=f.support.browser,g="style",v="float",y="cssFloat",b="styleFloat",k="class",w="k-marker",C=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),x="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,pre,script,table,tbody,td,tfoot,th,thead,tr,ul".split(","),T=t(x),N="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var".split(","),S=t(N),R=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),A=function(e){1==e.nodeType&&e.normalize()};h.msie&&h.version>=8&&(A=function(e){if(1==e.nodeType&&e.firstChild)for(var t=e.firstChild,n=t;;){if(n=n.nextSibling,!n)break;3==n.nodeType&&3==t.nodeType&&(n.nodeValue=t.nodeValue+n.nodeValue,u.remove(t)),t=n}}),i=/^\s+$/,o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,r=/&/g,a=/</g,s=/>/g,l=/\u00a0/g,d=/\ufeff/g,c="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),u={findNodeIndex:function(e){for(var t=0;;){if(e=e.previousSibling,!e)break;t++}return t},isDataNode:function(e){return e&&null!==e.nodeValue&&null!==e.data},isAncestorOf:function(t,n){try{return!u.isDataNode(t)&&(e.contains(t,u.isDataNode(n)?n.parentNode:n)||n.parentNode==t)}catch(i){return!1}},isAncestorOrSelf:function(e,t){return u.isAncestorOf(e,t)||e==t},findClosestAncestor:function(e,t){if(u.isAncestorOf(e,t))for(;t&&t.parentNode!=e;)t=t.parentNode;return t},getNodeLength:function(e){return u.isDataNode(e)?e.length:e.childNodes.length},splitDataNode:function(e,t){for(var n=e.cloneNode(!1),i="",o=e;o.nextSibling&&3==o.nextSibling.nodeType&&o.nextSibling.nodeValue;)i+=o.nextSibling.nodeValue,o=o.nextSibling;e.deleteData(t,e.length),n.deleteData(0,t),n.nodeValue+=i,u.insertAfter(n,e)},attrEquals:function(t,n){var i,o;for(i in n)if(o=t[i],i==v&&(o=t[e.support.cssFloat?y:b]),"object"==typeof o){if(!u.attrEquals(o,n[i]))return!1}else if(o!=n[i])return!1;return!0},blockParentOrBody:function(e){return u.parentOfType(e,x)||e.ownerDocument.body},blockParents:function(t){var n,i,o,r=[];for(n=0,i=t.length;i>n;n++)o=u.parentOfType(t[n],u.blockElements),o&&0>e.inArray(o,r)&&r.push(o);return r},windowFromDocument:function(e){return e.defaultView||e.parentWindow},normalize:A,blockElements:x,inlineElements:N,empty:C,fillAttrs:R,toHex:function(e){var t=o.exec(e);return t?"#"+p(t.slice(1),function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}).join(""):e},encode:function(e){return e.replace(r,"&amp;").replace(a,"&lt;").replace(s,"&gt;").replace(l,"&nbsp;")},name:function(e){return e.nodeName.toLowerCase()},significantChildNodes:function(t){return e.grep(t.childNodes,function(e){return 3!=e.nodeType||!u.isWhitespace(e)})},lastTextNode:function(e){var t,n=null;if(3==e.nodeType)return e;for(t=e.lastChild;t;t=t.previousSibling)if(n=u.lastTextNode(t))return n;return n},is:function(e,t){return u.name(e)==t},isMarker:function(e){return e.className==w},isWhitespace:function(e){return i.test(e.nodeValue)},isBlock:function(e){return T[u.name(e)]},isEmpty:function(e){return C[u.name(e)]},isInline:function(e){return S[u.name(e)]},scrollContainer:function(e){var t=u.windowFromDocument(e),n=(t.contentWindow||t).document||t.ownerDocument||t;return n=f.support.browser.webkit||"BackCompat"==n.compatMode?n.body:n.documentElement},scrollTo:function(t){var n,i,o=e(u.isDataNode(t)?t.parentNode:t),r=u.windowFromDocument(t.ownerDocument),a=r.innerHeight,s=u.scrollContainer(t.ownerDocument);"br"==u.name(o[0])&&(o=o.parent()),n=o.offset().top,i=o[0].offsetHeight,i+n>s.scrollTop+a&&(s.scrollTop=i+n-a)},persistScrollTop:function(e){n=u.scrollContainer(e).scrollTop},restoreScrollTop:function(e){u.scrollContainer(e).scrollTop=n},insertAt:function(e,t,n){e.insertBefore(t,e.childNodes[n]||null)},insertBefore:function(e,t){return t.parentNode?t.parentNode.insertBefore(e,t):t},insertAfter:function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},remove:function(e){e.parentNode.removeChild(e)},trim:function(e){var t,n;for(t=e.childNodes.length-1;t>=0;t--)n=e.childNodes[t],u.isDataNode(n)?(n.nodeValue.replace(d,"").length||u.remove(n),u.isWhitespace(n)&&u.insertBefore(n,e)):n.className!=w&&(u.trim(n),n.childNodes.length||u.isEmpty(n)||u.remove(n));return e},parentOfType:function(e,t){do e=e.parentNode;while(e&&!u.ofType(e,t));return e},ofType:function(t,n){return e.inArray(u.name(t),n)>=0},changeTag:function(e,t){var n,i,o,r,a,s=u.create(e.ownerDocument,t),l=e.attributes;for(n=0,i=l.length;i>n;n++)a=l[n],a.specified&&(o=a.nodeName,r=a.nodeValue,o==k?s.className=r:o==g?s.style.cssText=e.style.cssText:s.setAttribute(o,r));for(;e.firstChild;)s.appendChild(e.firstChild);return u.insertBefore(s,e),u.remove(e),s},wrap:function(e,t){return u.insertBefore(t,e),t.appendChild(e),t},unwrap:function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},create:function(e,t,n){return u.attr(e.createElement(t),n)},attr:function(e,t){t=m({},t),t&&g in t&&(u.style(e,t.style),delete t.style);for(var n in t)null===t[n]&&(e.removeAttribute(n),delete t[n]);return m(e,t)},style:function(t,n){e(t).css(n||{})},unstyle:function(t,n){for(var i in n)i==v&&(i=e.support.cssFloat?y:b),t.style[i]="";""===t.style.cssText&&t.removeAttribute(g)},inlineStyle:function(t,n,i){var o,r=e(u.create(t,n,i));return t.body.appendChild(r[0]),o=p(c,function(e){return h.msie&&"line-height"==e&&"1px"==r.css(e)?"line-height:1.5":e+":"+r.css(e)}).join(";"),r.remove(),o},removeClass:function(t,n){var i,o,r=" "+t.className+" ",a=n.split(" ");for(i=0,o=a.length;o>i;i++)r=r.replace(" "+a[i]+" "," ");r=e.trim(r),r.length?t.className=r:t.removeAttribute(k)},commonAncestor:function(){var e,t,n,i,o,r=arguments.length,a=[],s=1/0,l=null;if(!r)return null;if(1==r)return arguments[0];for(e=0;r>e;e++){for(t=[],n=arguments[e];n;)t.push(n),n=n.parentNode;a.push(t.reverse()),s=Math.min(s,t.length)}if(1==r)return a[0][0];for(e=0;s>e;e++){for(i=a[0][e],o=1;r>o;o++)if(i!=a[o][e])return l;l=i}return l}},f.ui.editor.Dom=u}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui.editor,o=i.Dom,r=e.extend,a="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),s=/"/g,l=/<br[^>]*>/i,d=/<p><\/p>/i,c=/([\w|\-]+)\s*:\s*([^;]+);?/i,u={domToXhtml:function(n){function i(n){var i,r,a,l,d,u,p,m,h,g,v,y,b,k,w,C,x=[],T=n.attributes,N=e.trim;for(o.is(n,"img")&&(l=n.style.width,d=n.style.height,u=e(n),l&&(u.attr("width",parseInt(l,10)),o.unstyle(n,{width:t})),d&&(u.attr("height",parseInt(d,10)),o.unstyle(n,{height:t}))),r=0,a=T.length;a>r;r++)i=T[r],p=i.nodeName,(i.specified||"value"==p&&!n.value||"type"==p&&"text"==i.nodeValue)&&0>p.indexOf("_moz")&&"complete"!=p&&"altHtml"!=p&&x.push(i);if(x.length)for(x.sort(function(e,t){return e.nodeName>t.nodeName?1:e.nodeName<t.nodeName?-1:0}),r=0,a=x.length;a>r;r++){if(i=x[r],m=i.nodeName,h=i.nodeValue,f.push(" "),f.push(m),f.push('="'),"style"==m){for(g=N(h||n.style.cssText).split(";"),v=0,y=g.length;y>v;v++)if(b=g[v],b.length){if(k=c.exec(b),w=N(k[1].toLowerCase()),C=N(k[2]),"font-size-adjust"==w||"font-stretch"==w)continue;w.indexOf("color")>=0?C=o.toHex(C):w.indexOf("font")>=0?C=C.replace(s,"'"):/\burl\(/g.test(C)&&(C=C.replace(s,"")),f.push(w),f.push(":"),f.push(C),f.push(";")}}else"src"==m||"href"==m?f.push(n.getAttribute(m,2)):f.push(o.fillAttrs[m]?m:h);f.push('"')}}function r(e,t){for(var n=e.firstChild;n;n=n.nextSibling)u(n,t)}function u(n,a){var s,l,d,c,u,m=n.nodeType;if(1==m){if(s=o.name(n),!s||(n.attributes._moz_dirty||n.attributes._moz_editor_bogus_node)&&o.is(n,"br")||"k-marker"==n.className)return;if(l=p[s])return l.start(n),r(n),l.end(n),t;f.push("<"),f.push(s),i(n),o.empty[s]?f.push(" />"):(f.push(">"),r(n,a||o.is(n,"pre")),f.push("</"),f.push(s),f.push(">"))}else 3==m?(c=n.nodeValue,!a&&e.support.leadingWhitespace&&(d=n.parentNode,u=n.previousSibling,u||(u=(o.isInline(d)?d:n).previousSibling),(!u||""===u.innerHTML||o.isBlock(u))&&(c=c.replace(/^[\r\n\v\f\t ]+/,"")),c=c.replace(/ +/," ")),f.push(o.encode(c))):4==m?(f.push("<![CDATA["),f.push(n.data),f.push("]]>")):8==m&&(0>n.data.indexOf("[CDATA[")?(f.push("<!--"),f.push(n.data),f.push("-->")):(f.push("<!"),f.push(n.data),f.push(">")))}var f=[],p={"telerik:script":{start:function(e){f.push("<script"),i(e),f.push(">")},end:function(){f.push("</script>")}},b:{start:function(){f.push("<strong>")},end:function(){f.push("</strong>")}},i:{start:function(){f.push("<em>")},end:function(){f.push("</em>")}},u:{start:function(){f.push('<span style="text-decoration:underline;">')},end:function(){f.push("</span>")}},iframe:{start:function(e){f.push("<iframe"),i(e),f.push(">")},end:function(){f.push("</iframe>")}},font:{start:function(e){var t,n,i;f.push('<span style="'),t=e.getAttribute("color"),n=a[e.getAttribute("size")],i=e.getAttribute("face"),t&&(f.push("color:"),f.push(o.toHex(t)),f.push(";")),i&&(f.push("font-face:"),f.push(i),f.push(";")),n&&(f.push("font-size:"),f.push(n),f.push(";")),f.push('">')},end:function(){f.push("</span>")}}};return 1==n.childNodes.length&&3==n.firstChild.nodeType?o.encode(n.firstChild.nodeValue.replace(/[\r\n\v\f\t ]+/," ")):(r(n),f=f.join(""),""===f.replace(l,"").replace(d,"")?"":f)}};r(i,{Serializer:u})}(window.kendo.jQuery),function(e){function t(e,t,n,i){var o,r,a,s;if(e==t)return i-n;for(o=t;o&&o.parentNode!=e;)o=o.parentNode;if(o)return p(o)-n;for(o=e;o&&o.parentNode!=t;)o=o.parentNode;if(o)return i-p(o)-1;for(r=f.commonAncestor(e,t),a=e;a&&a.parentNode!=r;)a=a.parentNode;for(a||(a=r),s=t;s&&s.parentNode!=r;)s=s.parentNode;return s||(s=r),a==s?0:p(s)-p(a)}function n(e,n){function i(e){try{return 0>t(e.startContainer,e.endContainer,e.startOffset,e.endOffset)}catch(n){return!0}}i(e)&&(n?(e.commonAncestorContainer=e.endContainer=e.startContainer,e.endOffset=e.startOffset):(e.commonAncestorContainer=e.startContainer=e.endContainer,e.startOffset=e.endOffset),e.collapsed=!0)}function i(e){e.collapsed=e.startContainer==e.endContainer&&e.startOffset==e.endOffset;for(var t=e.startContainer;t&&t!=e.endContainer&&!f.isAncestorOf(t,e.endContainer);)t=t.parentNode;e.commonAncestorContainer=t}function o(e){var t=e.duplicate(),n=e.duplicate();return t.collapse(!0),n.collapse(!1),f.commonAncestor(e.parentElement(),t.parentElement(),n.parentElement())}function r(e,t,n){var i,o,r=t[n?"startContainer":"endContainer"],a=t[n?"startOffset":"endOffset"],s=0,l=m(r),d=l?r:r.childNodes[a]||null,c=l?r.parentNode:r;(3==r.nodeType||4==r.nodeType)&&(s=a),o=c.insertBefore(f.create(t.ownerDocument,"a"),d),i=t.ownerDocument.body.createTextRange(),i.moveToElementText(o),f.remove(o),i[n?"moveStart":"moveEnd"]("character",s),i.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",i)}function a(e,t,n,i){var o,r,a,s,l,d,c,u=f.create(t.ownerDocument,"a"),h=e.duplicate(),g=i?"StartToStart":"StartToEnd";u.innerHTML="",h.collapse(i),r=h.parentElement(),f.isAncestorOrSelf(n,r)||(r=n);do r.insertBefore(u,u.previousSibling),h.moveToElementText(u);while((o=h.compareEndPoints(g,e))>0&&u.previousSibling);a=u.nextSibling,-1==o&&m(a)?(h.setEndPoint(i?"EndToStart":"EndToEnd",e),f.remove(u),d=[a,h.text.length]):(s=!i&&u.previousSibling,l=i&&u.nextSibling,m(l)?d=[l,0]:m(s)?d=[s,s.length]:(c=p(u),d=r.nextSibling&&c==r.childNodes.length-1?[r.nextSibling,0]:[r,c]),f.remove(u)),t[i?"setStart":"setEnd"].apply(t,d)}var s=window.kendo,l=s.Class,d=e.extend,c=s.ui.editor,u=s.support.browser,f=c.Dom,p=f.findNodeIndex,m=f.isDataNode,h=f.findClosestAncestor,g=f.getNodeLength,v=f.normalize,y={selectionFromWindow:function(e){return"getSelection"in e?e.getSelection():new w(e.document)},selectionFromRange:function(e){var t=S.documentFromRange(e);return y.selectionFromDocument(t)},selectionFromDocument:function(e){return y.selectionFromWindow(f.windowFromDocument(e))}},b=l.extend({init:function(t){e.extend(this,{ownerDocument:t,startContainer:t,endContainer:t,commonAncestorContainer:t,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(e,t){this.startContainer=e,this.startOffset=t,i(this),n(this,!0)},setEnd:function(e,t){this.endContainer=e,this.endOffset=t,i(this),n(this,!1)},setStartBefore:function(e){this.setStart(e.parentNode,p(e))},setStartAfter:function(e){this.setStart(e.parentNode,p(e)+1)},setEndBefore:function(e){this.setEnd(e.parentNode,p(e))},setEndAfter:function(e){this.setEnd(e.parentNode,p(e)+1)},selectNode:function(e){this.setStartBefore(e),this.setEndAfter(e)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e[1===e.nodeType?"childNodes":"nodeValue"].length)},collapse:function(e){var t=this;e?t.setEnd(t.startContainer,t.startOffset):t.setStart(t.endContainer,t.endOffset)},deleteContents:function(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(h(e.commonAncestorContainer,e.startContainer)),e.collapse(!0),function n(e){for(;e.next();)e.hasPartialSubtree()?n(e.getSubtreeIterator()):e.remove()}(new k(t))},cloneContents:function(){var e=S.documentFromRange(this);return function t(n){for(var i,o=e.createDocumentFragment();i=n.next();)i=i.cloneNode(!n.hasPartialSubtree()),n.hasPartialSubtree()&&i.appendChild(t(n.getSubtreeIterator())),o.appendChild(i);return o}(new k(this))},extractContents:function(){var e,t=this,n=t.cloneRange();return t.startContainer!=t.commonAncestorContainer&&t.setStartAfter(h(t.commonAncestorContainer,t.startContainer)),t.collapse(!0),e=S.documentFromRange(t),function i(n){for(var o,r=e.createDocumentFragment();o=n.next();)n.hasPartialSubtree()?(o=o.cloneNode(!1),o.appendChild(i(n.getSubtreeIterator()))):n.remove(t.originalRange),r.appendChild(o);return r}(new k(n))},insertNode:function(e){var t=this;m(t.startContainer)?(t.startOffset!=t.startContainer.nodeValue.length&&f.splitDataNode(t.startContainer,t.startOffset),f.insertAfter(e,t.startContainer)):f.insertAt(t.startContainer,e,t.startOffset),t.setStart(t.startContainer,t.startOffset)},cloneRange:function(){return e.extend(new b(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var e=this.startContainer.nodeName,t=this.endContainer.nodeName;return["#text"==e?this.startContainer.nodeValue:e,"(",this.startOffset,") : ","#text"==t?this.endContainer.nodeValue:t,"(",this.endOffset,")"].join("")}}),k=l.extend({init:function(t){if(e.extend(this,{range:t,_current:null,_next:null,_end:null}),!t.collapsed){var n=t.commonAncestorContainer;this._next=t.startContainer!=n||m(t.startContainer)?h(n,t.startContainer):t.startContainer.childNodes[t.startOffset],this._end=t.endContainer!=n||m(t.endContainer)?h(n,t.endContainer).nextSibling:t.endContainer.childNodes[t.endOffset]
}},hasNext:function(){return!!this._next},next:function(){var e=this,t=e._current=e._next;return e._next=e._current&&e._current.nextSibling!=e._end?e._current.nextSibling:null,m(e._current)&&(e.range.endContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(e.range.endOffset,t.length-e.range.endOffset)),e.range.startContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(0,e.range.startOffset))),t},traverse:function(e){function t(){return i._current=i._next,i._next=i._current&&i._current.nextSibling!=i._end?i._current.nextSibling:null,i._current}for(var n,i=this;n=t();)i.hasPartialSubtree()?i.getSubtreeIterator().traverse(e):e(n);return n},remove:function(e){var t,n,i,o,r,a=this,s=a.range.startContainer==a._current,l=a.range.endContainer==a._current;m(a._current)&&(s||l)?(t=s?a.range.startOffset:0,n=l?a.range.endOffset:a._current.length,i=n-t,e&&(s||l)&&(a._current==e.startContainer&&e.startOffset>=t&&(e.startOffset-=i),a._current==e.endContainer&&e.endOffset>=n&&(e.endOffset-=i)),a._current.deleteData(t,i)):(o=a._current.parentNode,!e||a.range.startContainer!=o&&a.range.endContainer!=o||(r=p(a._current),o==e.startContainer&&e.startOffset>=r&&(e.startOffset-=1),o==e.endContainer&&e.endOffset>r&&(e.endOffset-=1)),f.remove(a._current))},hasPartialSubtree:function(){return!m(this._current)&&(f.isAncestorOrSelf(this._current,this.range.startContainer)||f.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var e=this,t=e.range.cloneRange();return t.selectNodeContents(e._current),f.isAncestorOrSelf(e._current,e.range.startContainer)&&t.setStart(e.range.startContainer,e.range.startOffset),f.isAncestorOrSelf(e._current,e.range.endContainer)&&t.setEnd(e.range.endContainer,e.range.endOffset),new k(t)}}),w=l.extend({init:function(e){this.ownerDocument=e,this.rangeCount=1},addRange:function(e){var t=this.ownerDocument.body.createTextRange();r(t,e,!1),r(t,e,!0),t.select()},removeAllRanges:function(){this.ownerDocument.selection.empty()},getRangeAt:function(){var e,t,n,i,r,s,l,d,c=new b(this.ownerDocument),u=this.ownerDocument.selection;try{if(e=u.createRange(),t=e.item?e.item(0):e.parentElement(),t.ownerDocument!=this.ownerDocument)return c}catch(f){return c}if("Control"==u.type)c.selectNode(e.item(0));else if(n=o(e),a(e,c,n,!0),a(e,c,n,!1),9==c.startContainer.nodeType&&c.setStart(c.endContainer,c.startOffset),9==c.endContainer.nodeType&&c.setEnd(c.startContainer,c.endOffset),0===e.compareEndPoints("StartToEnd",e)&&c.collapse(!1),i=c.startContainer,r=c.endContainer,s=this.ownerDocument.body,!(c.collapsed||0!==c.startOffset||c.endOffset!=g(c.endContainer)||i==r&&m(i)&&i.parentNode==s)){for(l=!1,d=!1;0===p(i)&&i==i.parentNode.firstChild&&i!=s;)i=i.parentNode,l=!0;for(;p(r)==g(r.parentNode)-1&&r==r.parentNode.lastChild&&r!=s;)r=r.parentNode,d=!0;i==s&&r==s&&l&&d&&(c.setStart(i,0),c.setEnd(r,g(s)))}return c}}),C=l.extend({init:function(e){this.enumerate=function(){function t(e){if(f.is(e,"img")||3==e.nodeType&&!f.isWhitespace(e))n.push(e);else for(e=e.firstChild;e;)t(e),e=e.nextSibling}var n=[];return new k(e).traverse(t),n}}}),x=l.extend({init:function(e){var t=this;t.range=e,t.rootNode=S.documentFromRange(e),t.body=t.rootNode.body,t.html=t.body.innerHTML,t.startContainer=t.nodeToPath(e.startContainer),t.endContainer=t.nodeToPath(e.endContainer),t.startOffset=t.offset(e.startContainer,e.startOffset),t.endOffset=t.offset(e.endContainer,e.endOffset)},index:function(e){for(var t,n=0,i=e.nodeType;e=e.previousSibling;)t=e.nodeType,(3!=t||i!=t)&&n++,i=t;return n},offset:function(e,t){if(3==e.nodeType)for(;(e=e.previousSibling)&&3==e.nodeType;)t+=e.nodeValue.length;return t},nodeToPath:function(e){for(var t=[];e!=this.rootNode;)t.push(this.index(e)),e=e.parentNode;return t},toRangePoint:function(e,t,n,i){for(var o=this.rootNode,r=n.length,a=i;r--;)o=o.childNodes[n[r]];for(;3==o.nodeType&&a>o.nodeValue.length;)a-=o.nodeValue.length,o=o.nextSibling;e[t?"setStart":"setEnd"](o,a)},toRange:function(){var e=this,t=e.range.cloneRange();return e.toRangePoint(t,!0,e.startContainer,e.startOffset),e.toRangePoint(t,!1,e.endContainer,e.endOffset),t}}),T=l.extend({init:function(){this.caret=null},addCaret:function(e){var t=this;return t.caret=f.create(S.documentFromRange(e),"span",{className:"k-marker"}),e.insertNode(t.caret),e.selectNode(t.caret),t.caret},removeCaret:function(e){var t,n,i,o,r=this,a=r.caret.previousSibling,s=0;a&&(s=m(a)?a.nodeValue.length:p(a)),t=r.caret.parentNode,n=a?p(a):0,f.remove(r.caret),v(t),i=t.childNodes[n],m(i)?e.setStart(i,s):i?(o=f.lastTextNode(i),o?e.setStart(o,o.nodeValue.length):e[a?"setStartAfter":"setStartBefore"](i)):(u.msie||t.innerHTML||(t.innerHTML='<br _moz_dirty="" />'),e.selectNodeContents(t)),e.collapse(!0)},add:function(e,t){var n,i=this;return t&&e.collapsed&&(i.addCaret(e),e=S.expand(e)),n=e.cloneRange(),n.collapse(!1),i.end=f.create(S.documentFromRange(e),"span",{className:"k-marker"}),n.insertNode(i.end),n=e.cloneRange(),n.collapse(!0),i.start=i.end.cloneNode(!0),n.insertNode(i.start),e.setStartBefore(i.start),e.setEndAfter(i.end),v(e.commonAncestorContainer),e},remove:function(e){var t,n,i,o,r,a,s,l,d,c,u,h,g,y=this,b=y.start,k=y.end;for(v(e.commonAncestorContainer);!b.nextSibling&&b.parentNode;)b=b.parentNode;for(;!k.previousSibling&&k.parentNode;)k=k.parentNode;if(t=b.previousSibling&&3==b.previousSibling.nodeType&&b.nextSibling&&3==b.nextSibling.nodeType,n=k.previousSibling&&3==k.previousSibling.nodeType&&k.nextSibling&&3==k.nextSibling.nodeType,i=t&&n,b=b.nextSibling,k=k.previousSibling,o=!1,r=!1,b==y.end&&(r=!!y.start.previousSibling,b=k=y.start.previousSibling||y.end.nextSibling,o=!0),f.remove(y.start),f.remove(y.end),!b||!k)return e.selectNodeContents(e.commonAncestorContainer),e.collapse(!0),void 0;if(a=o?m(b)?b.nodeValue.length:b.childNodes.length:0,s=m(k)?k.nodeValue.length:k.childNodes.length,3==b.nodeType)for(;b.previousSibling&&3==b.previousSibling.nodeType;)b=b.previousSibling,a+=b.nodeValue.length;if(3==k.nodeType)for(;k.previousSibling&&3==k.previousSibling.nodeType;)k=k.previousSibling,s+=k.nodeValue.length;for(l=p(b),d=b.parentNode,c=p(k),u=k.parentNode,h=b;h.previousSibling;h=h.previousSibling)3==h.nodeType&&3==h.previousSibling.nodeType&&l--;for(g=k;g.previousSibling;g=g.previousSibling)3==g.nodeType&&3==g.previousSibling.nodeType&&c--;v(d),3==b.nodeType&&(b=d.childNodes[l]),v(u),3==k.nodeType&&(k=u.childNodes[c]),o?(3==b.nodeType?e.setStart(b,a):e[r?"setStartAfter":"setStartBefore"](b),e.collapse(!0)):(3==b.nodeType?e.setStart(b,a):e.setStartBefore(b),3==k.nodeType?e.setEnd(k,s):e.setEndAfter(k)),y.caret&&y.removeCaret(e)}}),N=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,S={nodes:function(e){var t=S.textNodes(e);return t.length||(e.selectNodeContents(e.commonAncestorContainer),t=S.textNodes(e),t.length||(t=f.significantChildNodes(e.commonAncestorContainer))),t},textNodes:function(e){return new C(e).enumerate()},documentFromRange:function(e){var t=e.startContainer;return 9==t.nodeType?t:t.ownerDocument},createRange:function(e){return u.msie&&9>u.version?new b(e):e.createRange()},selectRange:function(e){var t,n=S.image(e);n&&(e.setStartAfter(n),e.setEndAfter(n)),t=y.selectionFromRange(e),t.removeAllRanges(),t.addRange(e)},split:function(e,t,n){function i(i){var o,r=e.cloneRange();r.collapse(i),r[i?"setStartBefore":"setEndAfter"](t),o=r.extractContents(),n&&(o=f.trim(o)),f[i?"insertBefore":"insertAfter"](o,t)}i(!0),i(!1)},getMarkers:function(e){var t=[];return new k(e).traverse(function(e){"k-marker"==e.className&&t.push(e)}),t},image:function(e){var t=[];return new k(e).traverse(function(e){f.is(e,"img")&&t.push(e)}),1==t.length?t[0]:void 0},expand:function(e){var t,n,i,o,r=e.cloneRange(),a=r.startContainer.childNodes[0===r.startOffset?0:r.startOffset-1],s=r.endContainer.childNodes[r.endOffset];return m(a)&&m(s)?(t=a.nodeValue,n=s.nodeValue,t&&n?(i=t.split("").reverse().join("").search(N),o=n.search(N),i&&o?(o=-1==o?n.length:o,i=-1==i?0:t.length-i,r.setStart(a,i),r.setEnd(s,o),r):r):r):r},isExpandable:function(e){var t,n,i,o,r,a,s=e.startContainer,l=S.documentFromRange(e);return s==l||s==l.body?!1:(t=e.cloneRange(),(n=s.nodeValue)?(i=n.substring(0,t.startOffset),o=n.substring(t.startOffset),r=0,a=0,i&&(r=i.split("").reverse().join("").search(N)),o&&(a=o.search(N)),r&&a):!1)}};d(c,{SelectionUtils:y,W3CRange:b,RangeIterator:k,W3CSelection:w,RangeEnumerator:C,RestorePoint:x,Marker:T,RangeUtils:S})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=t.ui.editor,o=i.EditorUtils,r=o.registerTool,a=i.Dom,s=i.RangeUtils,l=s.selectRange,d=i.Tool,c=i.ToolTemplate,u=i.RestorePoint,f=i.Marker,p=e.extend,m=n.extend({init:function(e){var t=this;t.options=e,t.restorePoint=new u(e.range),t.marker=new f,t.formatter=e.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(e){return this.marker.add(this.getRange(),e)},releaseRange:function(e){this.marker.remove(e),l(e)},undo:function(){var e=this.restorePoint;e.body.innerHTML=e.html,l(e.toRange())},redo:function(){this.exec()},exec:function(){var e=this,t=e.lockRange(!0);e.formatter.editor=e.editor,e.formatter.toggle(t),e.releaseRange(t)}}),h=n.extend({init:function(e,t){this.body=e.body,this.startRestorePoint=e,this.endRestorePoint=t},redo:function(){this.body.innerHTML=this.endRestorePoint.html,l(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html,l(this.startRestorePoint.toRange())}}),g=m.extend({init:function(e){m.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e=this.editor,t=e.getRange(),n=new u(t);e.clipboard.paste(this.options.value||""),e.undoRedoStack.push(new h(n,new u(e.getRange()))),e.focus()}}),v=d.extend({initialize:function(e,t){var n=t.editor,o=this.options,r=o.items?o.items:n.options.insertHtml;new i.SelectBox(e,{dataSource:r,dataTextField:"text",dataValueField:"value",change:function(){d.exec(n,"insertHtml",this.value())},title:n.options.messages.insertHtml,highlightFirst:!1})},command:function(e){return new g(e)},update:function(e){var t=e.data("kendoSelectBox")||e.find("select").data("kendoSelectBox");t.close(),t.value(t.options.title)}}),y=n.extend({init:function(){this.stack=[],this.currentCommandIndex=-1},push:function(e){var t=this;t.stack=t.stack.slice(0,t.currentCommandIndex+1),t.currentCommandIndex=t.stack.push(e)-1},undo:function(){this.canUndo()&&this.stack[this.currentCommandIndex--].undo()},redo:function(){this.canRedo()&&this.stack[++this.currentCommandIndex].redo()},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}}),b=n.extend({init:function(e){this.editor=e},keydown:function(t){var n,i=this,o=i.editor,r=o.keyboard,a=r.isTypingKey(t),s=p(e.Event(),t);return i.editor.trigger("keydown",s),s.isDefaultPrevented()&&t.preventDefault(),s.isDefaultPrevented()||!a||r.isTypingInProgress()?!1:(n=o.getRange(),i.startRestorePoint=new u(n),r.startTyping(function(){o.selectionRestorePoint=i.endRestorePoint=new u(o.getRange()),o.undoRedoStack.push(new h(i.startRestorePoint,i.endRestorePoint))}),!0)},keyup:function(e){var t=this.editor.keyboard;return this.editor.trigger("keyup",e),t.isTypingInProgress()?(t.endTyping(),!0):!1}}),k=n.extend({init:function(e){this.editor=e,this.systemCommandIsInProgress=!1},createUndoCommand:function(){var e=this;e.endRestorePoint=new u(e.editor.getRange()),e.editor.undoRedoStack.push(new h(e.startRestorePoint,e.endRestorePoint)),e.startRestorePoint=e.endRestorePoint},changed:function(){return this.startRestorePoint?this.startRestorePoint.html!=this.editor.body.innerHTML:!1},keydown:function(e){var t=this,n=t.editor,i=n.keyboard;return i.isModifierKey(e)?(i.isTypingInProgress()&&i.endTyping(!0),t.startRestorePoint=new u(n.getRange()),!0):i.isSystem(e)?(t.systemCommandIsInProgress=!0,t.changed()&&(t.systemCommandIsInProgress=!1,t.createUndoCommand()),!0):!1},keyup:function(e){var t=this;return t.systemCommandIsInProgress&&t.changed()?(t.systemCommandIsInProgress=!1,t.createUndoCommand(e),!0):!1}}),w=n.extend({init:function(e){this.handlers=e,this.typingInProgress=!1},isCharacter:function(e){return e>=48&&90>=e||e>=96&&111>=e||e>=186&&192>=e||e>=219&&222>=e},toolFromShortcut:function(t,n){var i,o,r=String.fromCharCode(n.keyCode);for(i in t)if(o=e.extend({ctrl:!1,alt:!1,shift:!1},t[i].options),(o.key==r||o.key==n.keyCode)&&o.ctrl==n.ctrlKey&&o.alt==n.altKey&&o.shift==n.shiftKey)return i},isTypingKey:function(e){var t=e.keyCode;return this.isCharacter(t)&&!e.ctrlKey&&!e.altKey||32==t||13==t||8==t||46==t&&!e.shiftKey&&!e.ctrlKey&&!e.altKey},isModifierKey:function(e){var t=e.keyCode;return 17==t&&!e.shiftKey&&!e.altKey||16==t&&!e.ctrlKey&&!e.altKey||18==t&&!e.ctrlKey&&!e.shiftKey},isSystem:function(e){return 46==e.keyCode&&e.ctrlKey&&!e.altKey&&!e.shiftKey},startTyping:function(e){this.onEndTyping=e,this.typingInProgress=!0},stopTyping:function(){this.typingInProgress=!1,this.onEndTyping&&this.onEndTyping()},endTyping:function(t){var n=this;n.clearTimeout(),t?n.stopTyping():n.timeout=window.setTimeout(e.proxy(n.stopTyping,n),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(e,t){var n,i=this.handlers;for(n=0;i.length>n&&!i[n][t](e);n++);},keydown:function(e){this.notify(e,"keydown")},keyup:function(e){this.notify(e,"keyup")}}),C=n.extend({init:function(e){this.editor=e,this.cleaners=[new T,new N]},htmlToFragment:function(e){var t=this.editor,n=t.document,i=a.create(n,"div"),o=n.createDocumentFragment();for(i.innerHTML=e;i.firstChild;)o.appendChild(i.firstChild);return o},isBlock:function(e){return/<(div|p|ul|ol|table|h[1-6])/i.test(e)},oncut:function(){var e=this.editor,t=new u(e.getRange());setTimeout(function(){e.undoRedoStack.push(new h(t,new u(e.getRange())))})},onpaste:function(t){var n,o,r,s=this.editor,d=s.getRange(),c="",f=new u(d),p=a.create(s.document,"div",{className:"k-paste-container",innerHTML:c});a.persistScrollTop(s.document),s.body.appendChild(p),s.body.createTextRange?(t.preventDefault(),n=s.createRange(),n.selectNodeContents(p),s.selectRange(n),o=s.body.createTextRange(),o.moveToElementText(p),e(s.body).unbind("paste"),o.execCommand("Paste"),e(s.body).bind("paste",e.proxy(arguments.callee,this))):(r=s.createRange(),r.selectNodeContents(p),l(r)),d.deleteContents(),setTimeout(function(){var e,t={html:""};l(d),p.parentNode||(p=s.body.lastChild),a.remove(p),p.lastChild&&a.is(p.lastChild,"br")&&a.remove(p.lastChild),e=p.innerHTML,e!=c&&(t.html=e),s.trigger("paste",t),s.clipboard.paste(t.html,!0),s.undoRedoStack.push(new h(f,new u(s.getRange()))),i.EditorUtils.select(s)})},splittableParent:function(e,t){var n,i;if(e)return a.parentOfType(t,["p","ul","ol"])||t.parentNode;if(n=t.parentNode,i=t.ownerDocument.body,a.isInline(n))for(;n.parentNode!=i&&!a.isBlock(n.parentNode);)n=n.parentNode;return n},paste:function(e,t){var n,i,o,r,d,c,u,p,m,h,g=this.editor;for(n=0,i=this.cleaners.length;i>n;n++)this.cleaners[n].applicable(e)&&(e=this.cleaners[n].clean(e));if(t&&(e=e.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3"),e=e.replace(/<(a|span)[^>]*><\/\1>/gi,"")),e=e.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>"),o=this.isBlock(e),r=g.getRange(),r.deleteContents(),r.startContainer==g.document&&r.selectNodeContents(g.body),d=new f,c=d.addCaret(r),u=this.splittableParent(o,c),p=!1,/body|td/.test(a.name(u))||!o&&!a.isInline(u)||(r.selectNode(c),s.split(r,u,!0),p=!0),m=this.htmlToFragment(e),m.firstChild&&"k-paste-container"===m.firstChild.className){for(h=[],n=0,i=m.childNodes.length;i>n;n++)h.push(m.childNodes[n].innerHTML);m=this.htmlToFragment(h.join("<br />"))}if(r.insertNode(m),u=this.splittableParent(o,c),p){for(;c.parentNode!=u;)a.unwrap(c.parentNode);a.unwrap(c.parentNode)}a.normalize(r.commonAncestorContainer),c.style.display="inline",a.restoreScrollTop(g.document),a.scrollTo(c),d.removeCaret(r),l(r)}}),x=n.extend({clean:function(e){var t,n,i=this,o=i.replacements;for(t=0,n=o.length;n>t;t+=2)e=e.replace(o[t],o[t+1]);return e}}),T=x.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/style=(["|'])\s*\1/g,""]},applicable:function(e){return/class="?Mso|style="[^"]*mso-/i.test(e)},listType:function(e){return/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(e)?"ul":/^\s*\w+[\.\)]\u00a0{2,}/.test(e)?"ol":void 0},lists:function(t){var n,i,o,r,s,l,d,c,u=a.create(document,"div",{innerHTML:t}),f=e(a.blockElements.join(","),u),p=-1,m={ul:{},ol:{}},h=u;for(i=0;f.length>i;i++)if(o=f[i],t=o.innerHTML.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,""),r=this.listType(t),r&&"p"==a.name(o)){if(s=parseFloat(o.style.marginLeft||0),l=m[r][s],(s>p||!l)&&(l=a.create(document,r),h==u?a.insertBefore(l,o):h.appendChild(l),m[r][s]=l),n!=r)for(d in m)for(c in m[d])e.contains(l,m[d][c])&&delete m[d][c];a.remove(o.firstChild),h=a.create(document,"li",{innerHTML:o.innerHTML}),l.appendChild(h),a.remove(o),p=s,n=r}else o.innerHTML?(m={ul:{},ol:{}},h=u,p=-1):a.remove(o);return u.innerHTML},stripEmptyAnchors:function(e){return e.replace(/<a([^>]*)>\s*<\/a>/gi,function(e,t){return!t||0>t.indexOf("href")?"":e})},clean:function(e){var t=this;return e=x.fn.clean.call(t,e),e=t.stripEmptyAnchors(e),e=t.lists(e),e=e.replace(/\s+class="?[^"\s>]*"?/gi,"")}}),N=x.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(e){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(e)}});p(i,{Command:m,GenericCommand:h,InsertHtmlCommand:g,InsertHtmlTool:v,UndoRedoStack:y,TypingHandler:b,SystemHandler:k,Keyboard:w,Clipboard:C,Cleaner:x,MSWordFormatCleaner:T,WebkitFormatCleaner:N}),r("insertHtml",new v({template:new c({template:o.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))}(window.kendo.jQuery),function(e){function t(e){return e.collapsed&&!u.isExpandable(e)}var n=window.kendo,i=n.Class,o=n.ui.editor,r=n.ui.Editor.fn.options.formats,a=o.EditorUtils,s=o.Tool,l=o.ToolTemplate,d=o.FormatTool,c=o.Dom,u=o.RangeUtils,f=e.extend,p=o.EditorUtils.registerTool,m=o.EditorUtils.registerFormat,h="k-marker",g=i.extend({init:function(e){this.format=e},numberOfSiblings:function(e){var t,n=0,i=0,o=0,r=e.parentNode;for(t=r.firstChild;t;t=t.nextSibling)t!=e&&(t.className==h?o++:3==t.nodeType?n++:i++);return o>1&&r.firstChild.className==h&&r.lastChild.className==h?0:i+n},findSuitable:function(e,t){return!t&&this.numberOfSiblings(e)>0?null:c.parentOfType(e,this.format[0].tags)},findFormat:function(e){var t,n,i,o,r,a=this.format,s=c.attrEquals;for(t=0,n=a.length;n>t;t++){if(i=e,o=a[t].tags,r=a[t].attr,i&&c.ofType(i,o)&&s(i,r))return i;for(;i;)if(i=c.parentOfType(i,o),i&&s(i,r))return i}return null},isFormatted:function(e){var t,n;for(t=0,n=e.length;n>t;t++)if(this.findFormat(e[t]))return!0;return!1}}),v=i.extend({init:function(e,t){var n=this;n.finder=new g(e),n.attributes=f({},e[0].attr,t),n.tag=e[0].tags[0]},wrap:function(e){return c.wrap(e,c.create(e.ownerDocument,this.tag,this.attributes))},activate:function(e,t){var n=this;n.finder.isFormatted(t)?(n.split(e),n.remove(t)):n.apply(t)},toggle:function(e){var t=u.textNodes(e);t.length>0&&this.activate(e,t)},apply:function(e){var t,n,i,o,r=this,a=[];for(t=0,n=e.length;n>t;t++)i=e[t],o=r.finder.findSuitable(i),o?c.attr(o,r.attributes):o=r.wrap(i),a.push(o);r.consolidate(a)},remove:function(e){var t,n,i,o=this;for(t=0,n=e.length;n>t;t++)i=o.finder.findFormat(e[t]),i&&(o.attributes&&o.attributes.style?(c.unstyle(i,o.attributes.style),i.style.cssText||i.attributes["class"]||c.unwrap(i)):c.unwrap(i))},split:function(e){var t,n,i=u.textNodes(e),o=i.length;if(o>0)for(t=0;o>t;t++)n=this.finder.findFormat(i[t]),n&&u.split(e,n,!0)},consolidate:function(e){for(var t,n;e.length>1;)if(t=e.pop(),n=e[e.length-1],t.previousSibling&&t.previousSibling.className==h&&n.appendChild(t.previousSibling),t.tagName==n.tagName&&t.previousSibling==n&&t.style.cssText==n.style.cssText){for(;t.firstChild;)n.appendChild(t.firstChild);c.remove(t)}}}),y=g.extend({init:function(e,t){var n=this;n.format=e,n.greedyProperty=t,g.fn.init.call(n,e)},getInlineCssValue:function(t){var n,i,o,r,a,s,l,d,u,f,p,m,h=t.attributes,g=e.trim;if(h)for(n=0,i=h.length;i>n;n++)if(o=h[n],r=o.nodeName,a=o.nodeValue,o.specified&&"style"==r)for(s=g(a||t.style.cssText).split(";"),d=0,u=s.length;u>d;d++)if(l=s[d],l.length){if(f=l.split(":"),p=g(f[0].toLowerCase()),m=g(f[1]),p!=this.greedyProperty)continue;return p.indexOf("color")>=0?c.toHex(m):m}},getFormatInner:function(t){var n,i,o,r=e(c.isDataNode(t)?t.parentNode:t),a=r.parents().andSelf();for(n=0,i=a.length;i>n;n++)if(o="className"==this.greedyProperty?a[n].className:this.getInlineCssValue(a[n]))return o;return"inherit"},getFormat:function(e){var t,n,i=this.getFormatInner(e[0]);for(t=1,n=e.length;n>t;t++)if(i!=this.getFormatInner(e[t]))return"";return i},isFormatted:function(e){return""!==this.getFormat(e)}}),b=v.extend({init:function(e,t,n){var i=this;v.fn.init.call(i,e,t),i.greedyProperty=n,i.values=t,i.finder=new y(e,n)},activate:function(e,t){var n,i=this,o=i.greedyProperty,r="apply";i.split(e),o&&(n=o.replace(/-([a-z])/,function(e,t){return t.toUpperCase()}),"inherit"==i.values.style[n]&&(r="remove")),i[r](t)}}),k=d.extend({init:function(e){d.fn.init.call(this,f(e,{finder:new g(e.format),formatter:function(){return new v(e.format)}})),this.willDelayExecution=t}}),w=s.extend({willDelayExecution:t,update:function(e,t,n){var i,o=e.data(this.type),r=n.getPending(this.name);i=r&&r.options.params?r.options.params.value:this.finder.getFormat(t),o.close(),o.value(i)}}),C=w.extend({init:function(e){var t=this;s.fn.init.call(t,e),t.type=n.support.browser.msie||n.support.touch?"kendoDropDownList":"kendoComboBox",t.format=[{tags:["span"]}],t.finder=new y(t.format,e.cssAttr)},command:function(e){var t=this.options,n=this.format,i={};return new o.FormatCommand(f(e,{formatter:function(){return i[t.domAttr]=e.value,new b(n,{style:i},t.cssAttr)}}))},initialize:function(e,t){var n,i=t.editor,o=this.options,r=o.name,a=[];o.defaultValue&&(a=[{text:i.options.messages[o.defaultValue[0].text],value:o.defaultValue[0].value}]),n=a.concat(o.items?o.items:i.options[r]),e[this.type]({dataTextField:"text",dataValueField:"value",dataSource:n,change:function(){s.exec(i,r,this.value())},highlightFirst:!1}),e.closest(".k-widget").removeClass("k-"+r).find("*").andSelf().attr("unselectable","on"),e.data(this.type).value("inherit")}}),x=s.extend({init:function(e){s.fn.init.call(this,e),this.format=[{tags:["span"]}]},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(e){var t=this.options,n=this.format,i={};return new o.FormatCommand(f(e,{formatter:function(){return i[t.domAttr]=e.value,new b(n,{style:i},t.cssAttr)}}))},willDelayExecution:t,initialize:function(t,i){var o=i.editor,r=this.name,a=f({},x.fn.options,this.options),l=a.palette;t=this._widget=new n.ui.ColorPicker(t,{value:e.isArray(l)?l[0]:"#000",toolIcon:"k-"+a.name,palette:l,change:function(){var e=t.value();e&&s.exec(o,r,e)}}),t.bind("activate",function(e){e.preventDefault(),t.trigger("change"),o.focus()}),t.wrapper.attr({title:i.title,unselectable:"on"}).find("*").attr("unselectable","on")}}),T=w.extend({init:function(e){var t=this;s.fn.init.call(t,e),t.type="kendoSelectBox",t.format=[{tags:["span"]}],t.finder=new y(t.format,"className")},command:function(e){var t=this.format;return new o.FormatCommand(f(e,{formatter:function(){return new b(t,{className:e.value})}}))},initialize:function(e,t){var n=t.editor,i=this.options;new o.SelectBox(e,{dataTextField:"text",dataValueField:"value",dataSource:i.items||n.options.style,title:n.options.messages.style,change:function(){s.exec(n,"style",this.value())},highlightFirst:!1}),e.closest(".k-widget").removeClass("k-"+this.name).find("*").andSelf().attr("unselectable","on")}});f(o,{InlineFormatFinder:g,InlineFormatter:v,GreedyInlineFormatFinder:y,GreedyInlineFormatter:b,InlineFormatTool:k,FontTool:C,ColorTool:x,StyleTool:T}),p("style",new o.StyleTool({template:new l({template:a.dropDownListTemplate,title:"Styles"})})),m("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),p("bold",new k({key:"B",ctrl:!0,format:r.bold,template:new l({template:a.buttonTemplate,title:"Bold"})})),m("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),p("italic",new k({key:"I",ctrl:!0,format:r.italic,template:new l({template:a.buttonTemplate,title:"Italic"})})),m("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),p("underline",new k({key:"U",ctrl:!0,format:r.underline,template:new l({template:a.buttonTemplate,title:"Underline"})})),m("strikethrough",[{tags:["del"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),p("strikethrough",new k({format:r.strikethrough,template:new l({template:a.buttonTemplate,title:"Strikethrough"})})),m("superscript",[{tags:["sup"]}]),p("superscript",new k({format:r.superscript,template:new l({template:a.buttonTemplate,title:"Superscript"})})),m("subscript",[{tags:["sub"]}]),p("subscript",new k({format:r.subscript,template:new l({template:a.buttonTemplate,title:"Subscript"})})),p("foreColor",new x({cssAttr:"color",domAttr:"color",name:"foreColor",template:new l({template:a.colorPickerTemplate,title:"Color"})})),p("backColor",new x({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new l({template:a.colorPickerTemplate,title:"Background Color"})})),p("fontName",new C({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new l({template:a.comboBoxTemplate,title:"Font Name"})})),p("fontSize",new C({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new l({template:a.comboBoxTemplate,title:"Font Size"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,o=t.ui.editor,r=t.ui.Editor.fn.options.formats,a=o.Dom,s=o.Command,l=o.Tool,d=o.ToolTemplate,c=o.FormatTool,u=o.EditorUtils,f=u.registerTool,p=u.registerFormat,m=o.RangeUtils,h=n.extend({init:function(e){this.format=e},contains:function(e,t){var n,i,o;for(n=0,i=t.length;i>n;n++)if(o=t[n],!o||!a.isAncestorOrSelf(e,o))return!1;return!0},findSuitable:function(t){var n,i,o,r=this.format,s=[];for(n=0,i=t.length;i>n;n++){if(o=a.ofType(t[n],r[0].tags)?t[n]:a.parentOfType(t[n],r[0].tags),!o)return[];0>e.inArray(o,s)&&s.push(o)}for(n=0,i=s.length;i>n;n++)if(this.contains(s[n],s))return[s[n]];return s},findFormat:function(e){var t,n,i,o,r,s=this.format;for(t=0,n=s.length;n>t;t++)for(i=e,o=s[t].tags,r=s[t].attr;i;){if(a.ofType(i,o)&&a.attrEquals(i,r))return i;i=i.parentNode}return null},getFormat:function(e){var t,n,i=this,o=function(e){return i.findFormat(a.isDataNode(e)?e.parentNode:e)},r=o(e[0]);if(!r)return"";for(t=1,n=e.length;n>t;t++)if(r!=o(e[t]))return"";return r.nodeName.toLowerCase()},isFormatted:function(e){for(var t=0,n=e.length;n>t;t++)if(!this.findFormat(e[t]))return!1;return!0}}),g=n.extend({init:function(e,t){this.format=e,this.values=t,this.finder=new h(e)},wrap:function(e,t,n){var i,o,r,s,l,d=1==n.length?a.blockParentOrBody(n[0]):a.commonAncestor.apply(null,n);for(a.isInline(d)&&(d=a.blockParentOrBody(d)),r=a.significantChildNodes(d),s=a.findNodeIndex(r[0]),l=a.create(d.ownerDocument,e,t),i=0;r.length>i;i++)o=r[i],a.isBlock(o)?(a.attr(o,t),l.childNodes.length&&(a.insertBefore(l,o),l=l.cloneNode(!1)),s=a.findNodeIndex(o)+1):l.appendChild(o);l.firstChild&&a.insertAt(d,l,s)},apply:function(e){var t,n,o,r,s=this,l=a.is(e[0],"img")?[e[0]]:s.finder.findSuitable(e),d=l.length?u.formatByName(a.name(l[0]),s.format):s.format[0];if(d)if(t=d.tags[0],n=i({},d.attr,s.values),l.length)for(o=0,r=l.length;r>o;o++)a.attr(l[o],n);else s.wrap(t,n,e)},remove:function(e){var t,n,i,o,r;for(t=0,n=e.length;n>t;t++)i=this.finder.findFormat(e[t]),i&&(r=a.name(i),"div"!=r||i.getAttribute("class")?(o=u.formatByName(r,this.format),o.attr.style&&a.unstyle(i,o.attr.style),o.attr.className&&a.removeClass(i,o.attr.className)):a.unwrap(i))},toggle:function(e){var t=this,n=m.nodes(e);t.finder.isFormatted(n)?t.remove(n):t.apply(n)}}),v=n.extend({init:function(e,t){var n=this;n.format=e,n.values=t,n.finder=new h(e)},apply:function(e){var t,n,i,r,s,l=this.format,d=a.blockParents(e),c=l[0].tags[0];if(d.length)for(t=0,n=d.length;n>t;t++)a.is(d[t],"li")?(i=d[t].parentNode,r=new o.ListFormatter(i.nodeName.toLowerCase(),c),s=this.editor.createRange(),s.selectNode(d[t]),r.toggle(s)):a.changeTag(d[t],c);else new g(l,this.values).apply(e)},toggle:function(e){var t=m.textNodes(e);t.length||(e.selectNodeContents(e.commonAncestorContainer),t=m.textNodes(e),t.length||(t=a.significantChildNodes(e.commonAncestorContainer))),this.apply(t)}}),y=s.extend({init:function(e){e.formatter=e.formatter(),s.fn.init.call(this,e)}}),b=c.extend({init:function(e){c.fn.init.call(this,i(e,{finder:new h(e.format),formatter:function(){return new g(e.format)}}))}}),k=l.extend({init:function(e){l.fn.init.call(this,e),this.finder=new h([{tags:a.blockElements}])},command:function(e){return new y(i(e,{formatter:function(){return new v([{tags:[e.value]}],{})}}))},update:function(e,t){var n;n=e.is("select")?e.data("kendoSelectBox"):e.find("select").data("kendoSelectBox"),n.close(),n.value(this.finder.getFormat(t))},initialize:function(e,t){var n=t.editor,i="formatBlock";new o.SelectBox(e,{dataTextField:"text",dataValueField:"value",dataSource:this.options.items?this.options.items:n.options.formatBlock,title:n.options.messages.formatBlock,change:function(){l.exec(n,i,this.value())},highlightFirst:!1}),e.closest(".k-widget").removeClass("k-"+i).find("*").andSelf().attr("unselectable","on")}});i(o,{BlockFormatFinder:h,BlockFormatter:g,GreedyBlockFormatter:v,FormatCommand:y,BlockFormatTool:b,FormatBlockTool:k}),f("formatBlock",new k({template:new d({template:u.dropDownListTemplate})})),p("justifyLeft",[{tags:a.blockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left"}}}]),f("justifyLeft",new b({format:r.justifyLeft,template:new d({template:u.buttonTemplate,title:"Justify Left"})})),p("justifyCenter",[{tags:a.blockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto"}}}]),f("justifyCenter",new b({format:r.justifyCenter,template:new d({template:u.buttonTemplate,title:"Justify Center"})})),p("justifyRight",[{tags:a.blockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right"}}}]),f("justifyRight",new b({format:r.justifyRight,template:new d({template:u.buttonTemplate,title:"Justify Right"})})),p("justifyFull",[{tags:a.blockElements,attr:{style:{textAlign:"justify"}}}]),f("justifyFull",new b({format:r.justifyFull,template:new d({template:u.buttonTemplate,title:"Justify Full"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,i=t.ui.editor,o=i.Dom,r=i.Command,a=i.Tool,s=i.BlockFormatter,l=o.normalize,d=i.RangeUtils,c=i.EditorUtils.registerTool,u=r.extend({init:function(e){this.options=e,r.fn.init.call(this,e)},_insertMarker:function(e,t){var n,i=o.create(e,"a");return t.insertNode(i),i.parentNode||(n=t.commonAncestorContainer,n.innerHTML="",n.appendChild(i)),l(i.parentNode),i
},exec:function(){function e(e){if(e.firstChild&&o.is(e.firstChild,"br")&&o.remove(e.firstChild),o.isDataNode(e)&&!e.nodeValue&&(e=e.parentNode),e&&!o.is(e,"img")){for(;e.firstChild&&1==e.firstChild.nodeType;)e=e.firstChild;""===e.innerHTML&&(e.innerHTML=v)}}var n,i,r,a,c,u,f,p,m,h=this.getRange(),g=d.documentFromRange(h),v=t.support.browser.msie?"":'<br _moz_dirty="" />',y="p,h1,h2,h3,h4,h5,h6".split(","),b=o.parentOfType(h.startContainer,y),k=o.parentOfType(h.endContainer,y),w=b&&!k||!b&&k;h.deleteContents(),c=this._insertMarker(g,h),u=o.parentOfType(c,["li"]),f=o.parentOfType(c,"h1,h2,h3,h4,h5,h6".split(",")),u?(p=h.cloneRange(),p.selectNode(u),d.textNodes(p).length||(a=o.create(g,"p"),u.nextSibling&&d.split(p,u.parentNode),o.insertAfter(a,u.parentNode),o.remove(1==u.parentNode.childNodes.length?u.parentNode:u),a.innerHTML=v,r=a)):f&&!c.nextSibling&&(a=o.create(g,"p"),o.insertAfter(a,f),a.innerHTML=v,o.remove(c),r=a),r||(u||f||new s([{tags:["p"]}]).apply([c]),h.selectNode(c),n=o.parentOfType(c,[u?"li":f?o.name(f):"p"]),d.split(h,n,w),i=n.previousSibling,o.is(i,"li")&&i.firstChild&&!o.is(i.firstChild,"br")&&(i=i.firstChild),r=n.nextSibling,o.is(r,"li")&&r.firstChild&&!o.is(r.firstChild,"br")&&(r=r.firstChild),o.remove(n),e(i),e(r),l(i)),l(r),o.is(r,"img")?h.setStartBefore(r):(h.selectNodeContents(r),m=d.textNodes(h)[0],m&&h.selectNodeContents(m)),h.collapse(!0),o.scrollTo(r),d.selectRange(h)}}),f=r.extend({init:function(e){this.options=e,r.fn.init.call(this,e)},exec:function(){var e,n=this.getRange(),i=o.create(d.documentFromRange(n),"br");n.deleteContents(),n.insertNode(i),l(i.parentNode),t.support.browser.msie||i.nextSibling&&!o.isWhitespace(i.nextSibling)||(e=i.cloneNode(!0),e.setAttribute("_moz_dirty",""),o.insertAfter(e,i)),n.setStartAfter(i),n.collapse(!0),o.scrollTo(i.nextSibling||i),d.selectRange(n)}});n(i,{ParagraphCommand:u,NewLineCommand:f}),c("insertLineBreak",new a({key:13,shift:!0,command:f})),c("insertParagraph",new a({key:13,command:u}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,o=t.ui.editor,r=o.Dom,a=o.RangeUtils,s=o.EditorUtils,l=o.Command,d=o.ToolTemplate,c=o.FormatTool,u=o.BlockFormatFinder,f=a.textNodes,p=o.EditorUtils.registerTool,m=u.extend({init:function(e){this.tag=e;var t=this.tags=["ul"==e?"ol":"ul",e];u.fn.init.call(this,[{tags:t}])},isFormatted:function(e){var t,n,i=[];for(n=0;e.length>n;n++)(t=this.findFormat(e[n]))&&r.name(t)==this.tag&&i.push(t);if(1>i.length)return!1;if(i.length!=e.length)return!1;for(n=0;i.length>n&&i[n].parentNode==t.parentNode;n++)if(i[n]!=t)return!1;return!0},findSuitable:function(e){var t=r.parentOfType(e[0],this.tags);return t&&r.name(t)==this.tag?t:null}}),h=n.extend({init:function(e,t){var n=this;n.finder=new m(e),n.tag=e,n.unwrapTag=t},wrap:function(e,t){var n,i,o=r.create(e.ownerDocument,"li");for(n=0;t.length>n;n++)if(i=t[n],r.is(i,"li"))e.appendChild(i);else if(r.is(i,"ul")||r.is(i,"ol"))for(;i.firstChild;)e.appendChild(i.firstChild);else if(r.is(i,"td")){for(;i.firstChild;)o.appendChild(i.firstChild);e.appendChild(o),i.appendChild(e),e=e.cloneNode(!1),o=o.cloneNode(!1)}else o.appendChild(i),r.isBlock(i)&&(e.appendChild(o),r.unwrap(i),o=o.cloneNode(!1));o.firstChild&&e.appendChild(o)},containsAny:function(e,t){for(var n=0;t.length>n;n++)if(r.isAncestorOrSelf(e,t[n]))return!0;return!1},suitable:function(e,t){if("k-marker"==e.className){var n=e.nextSibling;if(n&&r.isBlock(n))return!1;if(n=e.previousSibling,n&&r.isBlock(n))return!1}return this.containsAny(e,t)||r.isInline(e)||3==e.nodeType},split:function(t){var n,i,o,s,l,d,c=f(t);if(c.length)for(n=r.parentOfType(c[0],["li"]),i=r.parentOfType(c[c.length-1],["li"]),t.setStartBefore(n),t.setEndAfter(i),o=0,s=c.length;s>o;o++)l=this.finder.findFormat(c[o]),l&&(d=e(l).parents("ul,ol"),d[0]?a.split(t,d.last()[0],!0):a.split(t,l,!0))},merge:function(e,t){for(var n,i=t.previousSibling;i&&("k-marker"==i.className||3==i.nodeType&&r.isWhitespace(i));)i=i.previousSibling;if(i&&r.name(i)==e){for(;t.firstChild;)i.appendChild(t.firstChild);r.remove(t),t=i}for(n=t.nextSibling;n&&("k-marker"==n.className||3==n.nodeType&&r.isWhitespace(n));)n=n.nextSibling;if(n&&r.name(n)==e){for(;t.lastChild;)n.insertBefore(t.lastChild,n.firstChild);r.remove(t)}},applyOnSection:function(t,n){function i(){a.push(this)}var o,a,s,l,d,c,u,f=this.tag;for(o=1==n.length?r.parentOfType(n[0],["ul","ol"]):r.commonAncestor.apply(null,n),o||(o=r.parentOfType(n[0],["p","td"])||n[0].ownerDocument.body),r.isInline(o)&&(o=r.blockParentOrBody(o)),a=[],s=this.finder.findSuitable(n),s||(s=new m("ul"==f?"ol":"ul").findSuitable(n)),l=r.significantChildNodes(o),l.length||(l=n),/table|tbody/.test(r.name(o))&&(l=e.map(n,function(e){return r.parentOfType(e,["td"])})),d=0;l.length>d;d++)c=l[d],u=r.name(c),!this.suitable(c,n)||s&&r.isAncestorOrSelf(s,c)||(!s||"ul"!=u&&"ol"!=u?a.push(c):(e.each(c.childNodes,i),r.remove(c)));a.length!=l.length||o==n[0].ownerDocument.body||/table|tbody|tr|td/.test(r.name(o))||(a=[o]),s||(s=r.create(o.ownerDocument,f),r.insertBefore(s,a[0])),this.wrap(s,a),r.is(s,f)||r.changeTag(s,f),this.merge(f,s)},apply:function(e){var t,n,i,o=0,a=[];do i=r.parentOfType(e[o],["td","body"]),t&&i==t?n.push(e[o]):(t&&a.push({section:t,nodes:n}),n=[e[o]],t=i),o++;while(e.length>o);for(a.push({section:t,nodes:n}),o=0;a.length>o;o++)this.applyOnSection(a[o].section,a[o].nodes)},unwrap:function(t){var n,i,o,a,s=t.ownerDocument.createDocumentFragment(),l=this.unwrapTag;for(i=t.firstChild;i;i=i.nextSibling){for(o=r.create(t.ownerDocument,l||"p");i.firstChild;)a=i.firstChild,r.isBlock(a)?(o.firstChild&&(s.appendChild(o),o=r.create(t.ownerDocument,l||"p")),s.appendChild(a)):o.appendChild(a);o.firstChild&&s.appendChild(o)}n=e(t).parents("ul,ol"),n[0]?(r.insertAfter(s,n.last()[0]),n.last().remove()):r.insertAfter(s,t),r.remove(t)},remove:function(e){var t,n,i;for(n=0,i=e.length;i>n;n++)t=this.finder.findFormat(e[n]),t&&this.unwrap(t)},toggle:function(e){var t,n=this,i=f(e),o=e.commonAncestorContainer;i.length||(e.selectNodeContents(o),i=f(e),i.length||(t=o.ownerDocument.createTextNode(""),e.startContainer.appendChild(t),i=[t],e.selectNode(t.parentNode))),n.finder.isFormatted(i)?(n.split(e),n.remove(i)):n.apply(i)}}),g=l.extend({init:function(e){e.formatter=new h(e.tag),l.fn.init.call(this,e)}}),v=c.extend({init:function(e){this.options=e,c.fn.init.call(this,i(e,{finder:new m(e.tag)}))},command:function(e){return new g(i(e,{tag:this.options.tag}))}});i(o,{ListFormatFinder:m,ListFormatter:h,ListCommand:g,ListTool:v}),p("insertUnorderedList",new v({tag:"ul",template:new d({template:s.buttonTemplate,title:"Remove Link"})})),p("insertOrderedList",new v({tag:"ol",template:new d({template:s.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,o=t.ui.editor,r=o.Dom,a=o.RangeUtils,s=o.EditorUtils,l=o.Command,d=o.Tool,c=o.ToolTemplate,u=o.InlineFormatter,f=o.InlineFormatFinder,p=a.textNodes,m=o.EditorUtils.registerTool,h=n.extend({findSuitable:function(e){return r.parentOfType(e,["a"])}}),g=n.extend({init:function(){this.finder=new h},apply:function(e,t){var n,i,o,s,l=p(e);t.innerHTML?(n=a.getMarkers(e),i=a.documentFromRange(e),e.deleteContents(),s=r.create(i,"a",t),e.insertNode(s),"a"==r.name(s.parentNode)&&r.insertAfter(s,s.parentNode),n.length>1&&(r.insertAfter(n[n.length-1],s),r.insertAfter(n[1],s),r[l.length>0?"insertBefore":"insertAfter"](n[0],s))):(o=new u([{tags:["a"]}],t),o.finder=this.finder,o.apply(l))}}),v=l.extend({init:function(e){e.formatter={toggle:function(e){new u([{tags:["a"]}]).remove(p(e))}},this.options=e,l.fn.init.call(this,e)}}),y=l.extend({init:function(e){var t=this;t.options=e,l.fn.init.call(t,e),t.formatter=new g,e.url?this.exec=function(){this.formatter.apply(e.range,{href:e.url,innerHTML:e.text||e.url,target:e.target})}:(t.attributes=null,t.async=!0)},_dialogTemplate:function(e){return t.template("<div class=\"k-editor-dialog\"><ol><li class='k-form-text-row'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label><input type='text' class='k-input' id='k-editor-link-url'></li># if (showText) { #<li class='k-form-text-row'><label for='k-editor-link-text'>#: messages.linkText #</label><input type='text' class='k-input' id='k-editor-link-text'></li># } #<li class='k-form-text-row'><label for='k-editor-link-title'>#: messages.linkToolTip #</label><input type='text' class='k-input' id='k-editor-link-title'></li><li class='k-form-checkbox-row'><input type='checkbox' id='k-editor-link-target'><label for='k-editor-link-target'>#: messages.linkOpenInNewWindow #</label></li></ol><div class='k-button-wrapper'><button class=\"k-dialog-insert k-button\">#: messages.dialogInsert #</button>&nbsp;#: messages.dialogButtonSeparator #&nbsp;<a href=\"\\#\" class=\"k-dialog-close k-link\">#: messages.dialogCancel #</a></div></div>")({messages:this.editor.options.messages,showText:e})},exec:function(){function n(t){var n,i,r,a=u.element,s=e("#k-editor-link-url",a).val();s&&"http://"!=s&&(f.attributes={href:s},n=e("#k-editor-link-title",a).val(),n&&(f.attributes.title=n),i=e("#k-editor-link-text",a).val(),i===g||!i&&0!==l.length||(f.attributes.innerHTML=i||s),r=e("#k-editor-link-target",a).is(":checked"),f.attributes.target=r?"_blank":null,f.formatter.apply(m,f.attributes)),o(t),f.change&&f.change()}function o(e){e.preventDefault(),u.destroy(),r.windowFromDocument(a.documentFromRange(m)).focus(),f.releaseRange(m)}var l,d,c,u,f=this,m=f.getRange(),h=m.collapsed,g=null,v=f.editor.options.messages;m=f.lockRange(!0),l=p(m),d=l.length?f.formatter.finder.findSuitable(l[0]):null,c=1>=l.length||2==l.length&&h,u=s.createDialog(f._dialogTemplate(c),f.editor,i({},f.editor.options.dialogOptions,{title:v.createLink,close:o,visible:!1})).find(".k-dialog-insert").click(n).end().find(".k-dialog-close").click(o).end().find(".k-form-text-row input").keydown(function(e){var i=t.keys;e.keyCode==i.ENTER?n(e):e.keyCode==i.ESC&&o(e)}).end().find("#k-editor-link-url").val(d?d.getAttribute("href",2):"http://").end().find("#k-editor-link-text").val(l.length>0?1==l.length?l[0].nodeValue:l[0].nodeValue+l[1].nodeValue:"").end().find("#k-editor-link-title").val(d?d.title:"").end().find("#k-editor-link-target").attr("checked",d?"_blank"==d.target:!1).end().data("kendoWindow").center().open(),c&&l.length>0&&(g=e("#k-editor-link-text",u.element).val()),e("#k-editor-link-url",u.element).focus().select()},redo:function(){var e=this,t=e.lockRange(!0);e.formatter.apply(t,e.attributes),e.releaseRange(t)}}),b=d.extend({init:function(t){this.options=t,this.finder=new f([{tags:["a"]}]),d.fn.init.call(this,e.extend(t,{command:v}))},initialize:function(e,t){d.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(e,t){e.toggleClass("k-state-disabled",!this.finder.isFormatted(t)).removeClass("k-state-hover")}});i(t.ui.editor,{LinkFormatFinder:h,LinkFormatter:g,UnlinkCommand:v,LinkCommand:y,UnlinkTool:b}),m("createLink",new d({key:"K",ctrl:!0,command:y,template:new c({template:s.buttonTemplate,title:"Create Link"})})),m("unlink",new b({key:"K",ctrl:!0,shift:!0,template:new c({template:s.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=e.extend,o=n.ui.editor,r=o.EditorUtils,a=o.Dom,s=r.registerTool,l=o.ToolTemplate,d=o.RangeUtils,c=o.Command,u=n.keys,f="#k-editor-image-url",p="#k-editor-image-title",m=c.extend({init:function(e){var t=this;c.fn.init.call(t,e),t.async=!0,t.attributes={}},insertImage:function(e,t){var n=this.attributes;if(n.src&&"http://"!=n.src){if(!e)return e=a.create(d.documentFromRange(t),"img",n),e.onload=e.onerror=function(){e.removeAttribute("complete"),e.removeAttribute("width"),e.removeAttribute("height")},t.deleteContents(),t.insertNode(e),t.setStartAfter(e),t.setEndAfter(e),d.selectRange(t),!0;a.attr(e,n)}return!1},_dialogTemplate:function(e){return n.template('<div class="k-editor-dialog"># if (showBrowser) { #<div class="k-imagebrowser"></div># } #<ol><li class="k-form-text-row"><label for="k-editor-image-url">#: messages.imageWebAddress #</label><input type="text" class="k-input" id="k-editor-image-url"></li><li class="k-form-text-row"><label for="k-editor-image-title">#: messages.imageAltText #</label><input type="text" class="k-input" id="k-editor-image-title"></li></ol><div class="k-button-wrapper"><button class="k-dialog-insert k-button">#: messages.dialogInsert #</button>&nbsp;#: messages.dialogButtonSeparator #&nbsp;<a href="\\#" class="k-dialog-close k-link">#: messages.dialogCancel #</a></div></div>')({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();e.insertImage(d.image(t),t)||e.releaseRange(t)},exec:function(){function o(e){var t=c.element;h.attributes={src:t.find(f).val().replace(/ /g,"%20"),alt:t.find(p).val()},v=h.insertImage(y,g),s(e),h.change&&h.change()}function s(e){e.preventDefault(),c.destroy(),a.windowFromDocument(d.documentFromRange(g)).focus(),v||h.releaseRange(g)}function l(e){e.keyCode==u.ENTER?o(e):e.keyCode==u.ESC&&s(e)}var c,m,h=this,g=h.lockRange(),v=!1,y=d.image(g),b=h.editor.options,k=b.messages,w=b.imageBrowser,C=!!(n.ui.ImageBrowser&&w&&w.transport&&w.transport.read!==t);m=C?{width:"960px",height:"650px"}:{},c=r.createDialog(h._dialogTemplate(C),h.editor,i(m,b.dialogOptions,{title:k.insertImage,close:s,visible:!1,resizable:C,activate:function(){if(C){var e=this;new n.ui.ImageBrowser(e.element.find(".k-imagebrowser"),i({},w,{change:function(){e.element.find(f).val(this.value())},apply:o}))}}})).find(".k-dialog-insert").click(o).end().find(".k-dialog-close").click(s).end().find(".k-form-text-row input").keydown(l).end().find(f).val(y?y.getAttribute("src",2):"http://").end().find(p).val(y?y.alt:"").end().data("kendoWindow").center().open(),e(f,c.element).focus().select()}});n.ui.editor.ImageCommand=m,s("insertImage",new o.Tool({command:m,template:new l({template:r.buttonTemplate,title:"Insert Image"})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui.DropDownList,o=i.extend({init:function(e,t){var n=this;i.fn.init.call(n,e,t),n.value(n.options.title)},options:{name:"SelectBox"},value:function(e){var n=this,o=i.fn.value.call(n,e);return e===t?o:(e!==i.fn.value.call(n)&&(n.text(n.options.title),n._current.removeClass("k-state-selected"),n.current(null),n._oldIndex=n.selectedIndex=-1),t)}});n.ui.plugin(o),n.ui.editor.SelectBox=o}(window.kendo.jQuery),function(e,t){function n(n,i){var o="rtl"==e(n).css("direction"),r=o?"Right":"Left",a="td"!=s.name(n)?"margin"+r:"padding"+r;return i===t?n.style[a]||0:(i>0?n.style[a]=i+"px":(n.style[a]="",n.style.cssText||n.removeAttribute("style")),t)}var i=window.kendo,o=i.Class,r=e.extend,a=i.ui.editor,s=a.Dom,l=a.EditorUtils,d=l.registerTool,c=a.Command,u=a.Tool,f=a.ToolTemplate,p=a.RangeUtils,m=s.blockElements,h=a.BlockFormatFinder,g=a.BlockFormatter,v=o.extend({init:function(){this.finder=new h([{tags:s.blockElements}])},apply:function(t){var i,o,r,a,l,d,c,u,f,p,m=this.finder.findSuitable(t),h=[];if(m.length){for(i=0,o=m.length;o>i;i++)s.is(m[i],"li")?e(m[i]).index()?0>e.inArray(m[i].parentNode,h)&&h.push(m[i]):h.push(m[i].parentNode):h.push(m[i]);for(;h.length;)if(r=h.shift(),s.is(r,"li"))if(a=r.parentNode,l=e(r).prev("li"),d=l.find("ul,ol").last(),c=e(r).children("ul,ol")[0],c&&l[0])d[0]?(d.append(r),d.append(e(c).children()),s.remove(c)):(l.append(c),c.insertBefore(r,c.firstChild));else for(c=l.children("ul,ol")[0],c||(c=s.create(r.ownerDocument,s.name(a)),l.append(c));r&&r.parentNode==a;)c.appendChild(r),r=h.shift();else for(u=parseInt(n(r),10)+30,n(r,u),f=0;h.length>f;f++)e.contains(r,h[f])&&h.splice(f,1)}else p=new g([{tags:"p"}],{style:{marginLeft:30}}),p.apply(t)},remove:function(t){var i,o,r,a,s,l,d,c,u=this.finder.findSuitable(t);for(o=0,r=u.length;r>o;o++){if(d=e(u[o]),d.is("li")){if(a=d.parent(),s=a.parent(),s.is("li,ul,ol")&&!n(a[0])){if(i&&e.contains(i,s[0]))continue;l=d.nextAll("li"),l.length&&e(a[0].cloneNode(!1)).appendTo(d).append(l),s.is("li")?d.insertAfter(s):d.appendTo(s),a.children("li").length||a.remove();continue}if(i==a[0])continue;i=a[0]}else i=u[o];c=parseInt(n(i),10)-30,n(i,c)}}}),y=c.extend({init:function(e){e.formatter={toggle:function(e){(new v).apply(p.nodes(e))}},c.fn.init.call(this,e)}}),b=c.extend({init:function(e){e.formatter={toggle:function(e){(new v).remove(p.nodes(e))}},c.fn.init.call(this,e)}}),k=u.extend({init:function(e){u.fn.init.call(this,e),this.finder=new h([{tags:m}])},update:function(i,o){var r,a,l,d,c=this.finder.findSuitable(o);for(l=0,d=c.length;d>l;l++)if(r=n(c[l]),r||(a=e(c[l]).parents("ul,ol").length,r=s.is(c[l],"li")&&(a>1||n(c[l].parentNode))||s.ofType(c[l],["ul","ol"])&&a>0),r)return i.removeClass("k-state-disabled"),t;i.addClass("k-state-disabled").removeClass("k-state-hover")}});r(a,{IndentFormatter:v,IndentCommand:y,OutdentCommand:b,OutdentTool:k}),d("indent",new u({command:y,template:new f({template:l.buttonTemplate,title:"Indent"})})),d("outdent",new k({command:b,template:new f({template:l.buttonTemplate,title:"Outdent"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,i=t.ui.editor,o=i.Dom,r=i.RangeUtils,a=i.EditorUtils,s=i.Command,l=i.Tool,d=i.ToolTemplate,c=s.extend({init:function(e){var t=this;t.options=e,s.fn.init.call(t,e),t.attributes=null,t.async=!0},exec:function(){function i(e){d.value(p.find(h).val()),s(e),l.change&&l.change(),d.trigger("change")}function s(e){e.preventDefault(),p.data("kendoWindow").destroy();try{o.windowFromDocument(r.documentFromRange(u)).focus()}catch(t){}}var l=this,d=l.editor,u=d.getRange(),f=d.options.messages,p=e(t.template(c.template)(f)).appendTo(document.body),m=c.indent(d.value()),h=".k-editor-textarea";a.createDialog(p,d,n({},d.options.dialogOptions,{title:f.viewHtml,close:s,visible:!1})).find(h).val(m).end().find(".k-dialog-update").click(i).end().find(".k-dialog-close").click(s).end().data("kendoWindow").center().open(),p.find(h).focus()}});n(c,{template:"<div class='k-editor-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-button-wrapper'><button class='k-dialog-update k-button'>#: dialogUpdate #</button>&nbsp;#: dialogButtonSeparator #&nbsp;<a href='\\#' class='k-dialog-close k-link'>#: dialogCancel #</a></div></div>",indent:function(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}),t.ui.editor.ViewHtmlCommand=c,i.EditorUtils.registerTool("viewHtml",new l({command:c,template:new d({template:a.buttonTemplate,title:"View HTML"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,o=t.ui.editor,r=o.RangeUtils,a=o.Marker,s=n.extend({init:function(e){this.editor=e,this.formats=[]},apply:function(e){var t,n,o,s,l,d,c,u;if(this.hasPending()){if(t=new a,t.addCaret(e),n=e.startContainer.childNodes[e.startOffset],o=n.previousSibling,o?(o.nodeValue||(o=o.previousSibling),e.setStart(o,o.nodeValue.length-1)):e.setStart(e.startContainer,e.startOffset),t.add(e),!r.textNodes(e).length)return t.remove(e),e.collapse(!0),this.editor.selectRange(e),void 0;for(s=t.end.previousSibling.previousSibling,d=this.formats,c=0;d.length>c;c++)l=d[c],u=l.command(i({range:e},l.options.params)),u.editor=this.editor,u.exec(),e.selectNode(s);t.remove(e),s.parentNode&&(e.setStart(s,1),e.collapse(!0)),this.clear(),this.editor.selectRange(e)}},hasPending:function(){return this.formats.length>0},isPending:function(e){return!!this.getPending(e)},getPending:function(e){var t,n=this.formats;for(t=0;n.length>t;t++)if(n[t].name==e)return n[t]},toggle:function(e){var t,n=this.formats;for(t=0;n.length>t;t++)if(n[t].name==e.name)return n[t].params&&n[t].params.value!=e.params.value?n[t].params.value=e.params.value:n.splice(t,1),void 0;n.push(e)},clear:function(){this.formats=[]}});i(o,{PendingFormats:s})}(window.kendo.jQuery);;(function(e,t){function a(e,t,a,n){return e({idx:t,text:a,ns:p.ns,numeric:n})}function n(e,t){return w({className:e.substring(1),text:t})}function s(e,t,a,n){e.find(t).parent().attr(p.attr("page"),a).attr("tabindex",-1).toggleClass("k-state-disabled",n)}function i(e,t){s(e,f,1,1>=t)}function r(e,t){s(e,c,Math.max(1,t-1),1>=t)}function l(e,t,a){s(e,h,Math.min(a,t+1),t>=a)}function o(e,t,a){s(e,u,a,t>=a)}var p=window.kendo,d=p.ui,g=d.Widget,m=e.proxy,f=".k-i-seek-w",u=".k-i-seek-e",c=".k-i-arrow-w",h=".k-i-arrow-e",k="change",S=".kendoPager",x="click",v="keydown",b="disabled",w=p.template('<a href="\\#" title="#=text#" class="k-link"><span class="k-icon #= className #">#=text#</span></a>'),z=g.extend({init:function(t,a){var s,d,b=this;g.fn.init.call(b,t,a),a=b.options,b.dataSource=p.data.DataSource.create(a.dataSource),b.linkTemplate=p.template(b.options.linkTemplate),b.selectTemplate=p.template(b.options.selectTemplate),s=b.page(),d=b.totalPages(),b._refreshHandler=m(b.refresh,b),b.dataSource.bind(k,b._refreshHandler),a.previousNext&&(b.element.find(f).length||(b.element.append(n(f,a.messages.first)),i(b.element,s,d)),b.element.find(c).length||(b.element.append(n(c,a.messages.previous)),r(b.element,s,d))),a.numeric&&(b.list=b.element.find(".k-pager-numbers"),b.list.length||(b.list=e('<ul class="k-pager-numbers k-reset" />').appendTo(b.element))),a.input&&(b.element.find(".k-pager-input").length||b.element.append('<span class="k-pager-input k-label">'+a.messages.page+'<input class="k-textbox">'+p.format(a.messages.of,d)+"</span>"),b.element.on(v+S,".k-pager-input input",m(b._keydown,b))),a.previousNext&&(b.element.find(h).length||(b.element.append(n(h,a.messages.next)),l(b.element,s,d)),b.element.find(u).length||(b.element.append(n(u,a.messages.last)),o(b.element,s,d))),a.pageSizes&&(b.element.find(".k-pager-sizes").length||e('<span class="k-pager-sizes k-label"><select/>'+a.messages.itemsPerPage+"</span>").appendTo(b.element).find("select").html(e.map(e.isArray(a.pageSizes)?a.pageSizes:[5,10,20],function(e){return"<option>"+e+"</option>"}).join("")).end().appendTo(b.element),b.element.find(".k-pager-sizes select").val(b.pageSize()),p.ui.DropDownList&&b.element.find(".k-pager-sizes select").show().kendoDropDownList(),b.element.on(k+S,".k-pager-sizes select",m(b._change,b))),a.refresh&&(b.element.find(".k-pager-refresh").length||b.element.append('<a href="#" class="k-pager-refresh k-link"  title="'+a.messages.refresh+'"><span class="k-icon k-i-refresh">'+a.messages.refresh+"</span></a>"),b.element.on(x+S,".k-pager-refresh",m(b._refreshClick,b))),a.info&&(b.element.find(".k-pager-info").length||b.element.append('<span class="k-pager-info k-label" />')),b.element.on(x+S,"a",m(b._click,b)).addClass("k-pager-wrap k-widget"),a.autoBind&&b.refresh(),p.notify(b)},destroy:function(){var e=this;g.fn.destroy.call(e),e.element.off(S),e.dataSource.unbind(k,e._refreshHandler)},events:[k],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh"}},setDataSource:function(e){var t=this;t.dataSource.unbind(k,t._refreshHandler),t.dataSource=t.options.dataSource=e,e.bind(k,t._refreshHandler),t.options.autoBind&&e.fetch()},refresh:function(){var e,t,n,s=this,d=1,g="",m=s.page(),f=s.options,u=s.pageSize(),c=s.dataSource.total(),h=s.totalPages(),k=s.linkTemplate,S=f.buttonCount;if(f.numeric){for(m>S&&(n=m%S,d=0===n?m-S+1:m-n+1),t=Math.min(d+S-1,h),d>1&&(g+=a(k,d-1,"...",!1)),e=d;t>=e;e++)g+=a(e==m?s.selectTemplate:k,e,e,!0);h>t&&(g+=a(k,e,"...",!1)),""===g&&(g=s.selectTemplate({text:0})),s.list.html(g)}f.info&&(g=c>0?p.format(f.messages.display,(m-1)*u+1,Math.min(m*u,c),c):f.messages.empty,s.element.find(".k-pager-info").html(g)),f.input&&s.element.find(".k-pager-input").html(s.options.messages.page+'<input class="k-textbox">'+p.format(f.messages.of,h)).find("input").val(m).attr(b,1>c).toggleClass("k-state-disabled",1>c),f.previousNext&&(i(s.element,m,h),r(s.element,m,h),l(s.element,m,h),o(s.element,m,h)),f.pageSizes&&s.element.find(".k-pager-sizes select").val(u).filter("["+p.attr("role")+"=dropdownlist]").kendoDropDownList("value",u).kendoDropDownList("text",u)},_keydown:function(e){if(e.keyCode===p.keys.ENTER){var t=this.element.find(".k-pager-input").find("input"),a=parseInt(t.val(),10);(isNaN(a)||1>a||a>this.totalPages())&&(a=this.page()),t.val(a),this.page(a)}},_refreshClick:function(e){e.preventDefault(),this.dataSource.read()},_change:function(e){var t=parseInt(e.currentTarget.value,10);isNaN(t)||this.dataSource.pageSize(t)},_click:function(t){var a=e(t.currentTarget);t.preventDefault(),a.is(".k-state-disabled")||this.page(a.attr(p.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(e){return e===t?this.dataSource.total()>0?this.dataSource.page():0:(this.dataSource.page(e),this.trigger(k,{index:e}),t)}});d.plugin(z)})(window.kendo.jQuery);;(function(e,t){function r(e){return Array(e+1).join('<td class="k-group-cell">&nbsp;</td>')}function a(e){var t,r=" ";if(e){if(typeof e===gt)return e;for(t in e)r+=t+'="'+e[t]+'"'}return r}function l(t){var r=0;return e("> .k-grouping-header, > .k-grid-toolbar",t).each(function(){r+=this.offsetHeight}),r}function o(t,r){e("th, th .k-grid-filter, th .k-link",t).add(document.body).css("cursor",r)}function n(e){var t,r,a={},l={};if(!z(e))for(I(e)||(e=[e]),t=0,r=e.length;r>t;t++)a[e[t].aggregate]=0,l[e[t].field]=a;return l}function i(e,t,r){var a=e.eq(t),l=e.eq(r);a[t>r?"insertBefore":"insertAfter"](l)}function s(e,t,r){var a,l,o,n;for(r=I(r)?r:[r],a=0,l=r.length;l>a;a++)o=r[a],H(o)&&o.click&&(n=o.name||o.text,t.on(pt+K,"a.k-grid-"+(n||"").replace(/\s/g,""),{commandName:n},W(o.click,e)))}function d(e){return D(e,function(e){return!e.hidden})}function c(e){e=e||{};var t=e.style;return t?(t=t.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),t===e.style&&(t=t.replace(/(.*)?/i,"display:none;$1"))):t="display:none",R({},e,{style:t})}function p(e){e=e||{};var t=e.style;return t&&(e.style=t.replace(/(display\s*:\s*none\s*;?)*/gi,"")),e}function u(t,r,a,l){var o,n=t.find(">colgroup"),i=A(r,function(e){return o=e.width,o&&0!==parseInt(o,10)?_.format('<col style="width:{0}"/>',typeof o===gt?o:o+"px"):"<col />"});(a||n.find(".k-hierarchy-col").length)&&i.splice(0,0,'<col class="k-hierarchy-col" />'),n.length&&n.remove(),n=e(Array(l+1).join('<col class="k-group-col">')+i.join("")),n.is("colgroup")||(n=e("<colgroup/>").append(n)),t.prepend(n),yt.msie&&8==yt.version&&(t.css("display","inline-table"),window.setTimeout(function(){t.css("display","")},1))}function f(e){var t,r,a,l={};for(r=0,a=e.length;a>r;r++)t=e[r],l[t.value]=t.text;return l}function h(e,t,r){var a=r&&r.length&&H(r[0])&&"value"in r[0],l=a?f(r)[e]:e;return l=null!=l?l:"",t?_.format(t,l):l}function g(e,t,r){for(var a,l=0,o=e[l];o;){if(a=r?!0:"none"!==o.style.display,a&&!vt.test(o.className)&&0>--t){o.style.display=r?"":"none";break}o=e[++l]}}function m(e,t){var r,a,l;if(typeof e===gt&&e===t)return e;if(H(e)&&e.name===t)return e;if(I(e))for(r=0,a=e.length;a>r;r++)if(l=e[r],typeof l===gt&&l===t||l.name===t)return l;return null}function b(t,r){var a,l,o,n=yt.msie;if(r===!0){if(t=e(t),o=n&&t.parent().is(".k-grid-content,.k-grid-header-wrap"),o&&(a=t.parent().scrollTop(),l=t.parent().scrollLeft()),n)try{t[0].setActive()}catch(i){t[0].focus()}else t[0].focus();o&&(t.parent().scrollTop(a),t.parent().scrollLeft(l))}else e(t).one("focusin",function(e){e.preventDefault()}).focus()}function k(t){var r=e(t.currentTarget),a=r.is("th"),l=r.closest("table")[0];_.support.touch||(l===this.table[0]||l===this.thead.parent()[0])&&(this.current(r),(a||!e(t.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,.k-input"))&&setTimeout(function(){b(l,!0)}),a&&t.preventDefault())}var _=window.kendo,v=_.ui,w=_.data.DataSource,C=v.Groupable,y=_.support.tbodyInnerHtml,x=_._activeElement,T=v.Widget,S=_.keys,H=e.isPlainObject,R=e.extend,A=e.map,D=e.grep,I=e.isArray,E=e.inArray,W=e.proxy,M=e.isFunction,z=e.isEmptyObject,L=Math,N="progress",B="error",F=":not(.k-group-cell):not(.k-hierarchy-cell):visible",q="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",P="tr:not(.k-footer-template):visible",O=":not(.k-group-cell):not(.k-hierarchy-cell):visible",G=P+":first>"+O+":first",j="th.k-header:not(.k-group-cell,.k-hierarchy-cell)",U=j+":visible["+_.attr("field")+"]",$=j+"["+_.attr("field")+"]",K=".kendoGrid",J="edit",V="save",X="remove",Q="detailInit",Y="filterMenuInit",Z="columnMenuInit",et="change",tt="columnHide",rt="columnShow",at="saveChanges",lt="dataBound",ot="detailExpand",nt="detailCollapse",it="k-state-focused",st="k-state-selected",dt="columnResize",ct="columnReorder",pt="click",ut="height",ft="tabIndex",ht="function",gt="string",mt="Are you sure you want to delete this record?",bt=/(\}|\#)/gi,kt=/#/gi,_t="[\\x20\\t\\r\\n\\f]",vt=RegExp("(^|"+_t+")"+"(k-group-cell|k-hierarchy-cell)"+"("+_t+"|$)"),wt='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',Ct=!1,yt=_.support.browser,xt=yt.msie&&7==yt.version,Tt=T.extend({init:function(e,t){var r=this;T.fn.init.call(r,e,t),r._refreshHandler=W(r.refresh,r),r.setDataSource(t.dataSource),r.wrap()},setDataSource:function(e){var t=this;t.dataSource&&t.dataSource.unbind(et,t._refreshHandler),t.dataSource=e,t.dataSource.bind(et,t._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:e.noop},destroy:function(){var e=this;T.fn.destroy.call(e),e.dataSource.unbind(et,e._refreshHandler),e.wrapper.add(e.verticalScrollbar).off(K),e.drag&&e.drag.destroy()},wrap:function(){var t,r=this,a=_.support.scrollbar()+1,l=r.element;l.css({width:"auto",overflow:"hidden"}).css(Ct?"padding-left":"padding-right",a),r.content=l.children().first(),t=r.wrapper=r.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+K+" mousewheel"+K,W(r._wheelScroll,r)),_.support.kineticScrollNeeded&&(r.drag=new _.UserEvents(r.wrapper,{global:!0,move:function(e){r.verticalScrollbar.scrollTop(r.verticalScrollbar.scrollTop()-e.y.delta),t.scrollLeft(t.scrollLeft()-e.x.delta),e.preventDefault()}})),r.verticalScrollbar=e('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:a}).appendTo(l).bind("scroll"+K,W(r._scroll,r))},_wheelScroll:function(e){var r,a=this,l=a.verticalScrollbar.scrollTop(),o=e.originalEvent,n=o.wheelDeltaY;o.wheelDelta?(n===t||n)&&(r=o.wheelDelta):o.detail&&o.axis===o.VERTICAL_AXIS&&(r=10*-o.detail),r&&(e.preventDefault(),a.verticalScrollbar.scrollTop(l+-r))},_scroll:function(e){var t=this,r=e.currentTarget.scrollTop,a=t.dataSource,l=t.itemHeight,o=a.skip()||0,n=t._rangeStart||o,i=t.element.innerHeight(),s=!!(t._scrollbarTop&&t._scrollbarTop>r),d=L.max(L.floor(r/l),0),c=L.max(d+L.floor(i/l),0);t._scrollTop=r-n*l,t._scrollbarTop=r,t._fetch(d,c,s)||(t.wrapper[0].scrollTop=t._scrollTop)},_fetch:function(e,t,r){var a=this,l=a.dataSource,o=a.itemHeight,n=l.take(),i=a._rangeStart||l.skip()||0,s=L.floor(e/n)*n,d=!1,c=.33;return i>e?(d=!0,i=L.max(0,t-n),a._scrollTop=(e-i)*o,a._page(i,n)):t>=i+n&&!r?(d=!0,i=e,a._scrollTop=o,a._page(i,n)):a._fetching||(s+n-n*c>e&&e>n&&l.prefetch(s-n,n),t>s+n*c&&l.prefetch(s+n,n)),d},_page:function(e,t){var r=this,a=r.dataSource;clearTimeout(r._timeout),r._fetching=!0,r._rangeStart=e,a.inRange(e,t)?a.range(e,t):(_.ui.progress(r.wrapper.parent(),!0),r._timeout=setTimeout(function(){a.range(e,t)},100))},refresh:function(){var e,t,r,a,l=this,o="",n=25e4,i=l.dataSource,s=l._rangeStart,d=_.support.kineticScrollNeeded?0:_.support.scrollbar(),c=l.wrapper[0];for(_.ui.progress(l.wrapper.parent(),!1),clearTimeout(l._timeout),r=l.itemHeight=l.options.itemHeight()||0,a=c.scrollWidth>c.offsetWidth?d:0,e=i.total()*r+a,t=0;L.floor(e/n)>t;t++)o+='<div style="width:1px;height:'+n+'px"></div>';e%n&&(o+='<div style="width:1px;height:'+e%n+'px"></div>'),l.verticalScrollbar.html(o),c.scrollTop=l._scrollTop,l.drag&&l.drag.cancel(),s&&!l._fetching&&(l._rangeStart=i.skip()),l._fetching=!1}}),St={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}},Ht=T.extend({init:function(e,t){var r=this;t=I(t)?{dataSource:t}:t,T.fn.init.call(r,e,t),Ct=_.support.isRtl(e),r._element(),r._aria(),r._columns(r.options.columns),r._dataSource(),r._tbody(),r._pageable(),r._thead(),r._groupable(),r._toolbar(),r._setContentHeight(),r._templates(),r._navigatable(),r._selectable(),r._details(),r._editable(),r._attachCustomCommandsEvent(),r.options.autoBind?r.dataSource.fetch():r._footer(),_.notify(r)},events:[et,"dataBinding","cancel",lt,ot,nt,Q,Y,Z,J,V,X,at,dt,ct,rt,tt],setDataSource:function(e){var t=this;t.options.dataSource=e,t._dataSource(),t._pageable(),t.options.groupable&&t._groupable(),t._thead(),t.virtualScrollable&&t.virtualScrollable.setDataSource(t.options.dataSource),t.options.autoBind&&e.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3},destroy:function(){var e,t=this;T.fn.destroy.call(t),t.pager&&t.pager.destroy(),t.groupable&&t.groupable.destroy(),t.options.reorderable&&t.wrapper.data("kendoReorderable").destroy(),t.resizable&&t.resizable.destroy(),t.virtualScrollable&&t.virtualScrollable.destroy(),t._destroyColumnAttachments(),t._destroyEditable(),t.dataSource.unbind(et,t._refreshHandler).unbind(N,t._progressHandler).unbind(B,t._errorHandler),e=t.element.add(t.wrapper).add(t.table).add(t.thead).add(t.wrapper.find(">.k-grid-toolbar")),t.content&&(e=e.add(t.content).add(t.content.find(">.k-virtual-scrollable-wrap"))),e.off(K),_.destroy(t.wrapper)},setOptions:function(e){var t=this;T.fn.setOptions.call(this,e),t._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_destroyColumnAttachments:function(){var t=this;t.resizeHandle=null,t.thead.find("th").each(function(){var t=e(this),r=t.data("kendoFilterMenu"),a=t.data("kendoSortable"),l=t.data("kendoColumnMenu");r&&r.destroy(),a&&a.destroy(),l&&l.destroy()})},_attachCustomCommandsEvent:function(){var e,t,r,a=this,l=a.columns||[];for(t=0,r=l.length;r>t;t++)e=l[t].command,e&&s(a,a.wrapper,e)},_aria:function(){var e=this.element.attr("id")||"aria";e&&(this._cellId=e+"_active_cell")},_element:function(){var t=this,r=t.element;r.is("table")||(r=t.options.scrollable?t.element.find("> .k-grid-content > table"):t.element.children("table"),r.length||(r=e("<table />").appendTo(t.element))),xt&&r.attr("cellspacing",0),t.table=r.attr("role",t._hasDetails()?"treegrid":"grid"),t._wrapper()},_positionColumnResizeHandle:function(t){var r,a=this,n=a.options.scrollable,i=a.resizeHandle,s=a.options.columnResizeHandleWidth;a.thead.on("mousemove"+K,"th:not(.k-group-cell,.k-hierarchy-cell)",function(d){var c,p,u,f,h=e(this),g=d.clientX,m=e(window).scrollLeft(),b=h.offset().left+(Ct?0:this.offsetWidth);g+m>b-s&&b+s>g+m?(i||(i=a.resizeHandle=e('<div class="k-resize-handle"/>'),t.append(i)),Ct?(c=h.closest(".k-grid-header-wrap"),p=yt.msie?c.scrollLeft():0,u=yt.webkit?c[0].scrollWidth-c[0].offsetWidth-c.scrollLeft():0,f=yt.mozilla?c[0].scrollWidth-c[0].offsetWidth-(c[0].scrollWidth-c[0].offsetWidth-c.scrollLeft()):0,r=h.position().left-u+f-p):(r=this.offsetWidth,h.prevAll(":visible").each(function(){r+=this.offsetWidth})),i.css({top:n?0:l(a.wrapper),left:r-s,height:h.outerHeight(),width:3*s}).data("th",h).show()):i?i.hide():o(a.wrapper,"")})},_resizable:function(){var t,r,a,l,n,i=this,s=i.options;s.resizable&&(t=s.scrollable?i.wrapper.find(".k-grid-header-wrap:first"):i.wrapper,i._positionColumnResizeHandle(t),i.resizable=new v.Resizable(t,{handle:".k-resize-handle",hint:function(t){return e('<div class="k-grid-resize-indicator" />').css({height:t.data("th").outerHeight()+i.tbody.attr("clientHeight")})},start:function(t){var d=e(t.currentTarget).data("th"),c=e.inArray(d[0],d.parent().children(":visible")),p=i.tbody.parent(),u=i.footer||e();o(i.wrapper,"col-resize"),n=s.scrollable?i.thead.parent().find("col:eq("+c+")").add(p.children("colgroup").find("col:eq("+c+")")).add(u.find("colgroup").find("col:eq("+c+")")):p.children("colgroup").find("col:eq("+c+")"),r=t.x.location,a=d.outerWidth(),l=i.tbody.outerWidth()},resize:function(t){var o=Ct?-1:1,d=a+t.x.location*o-r*o,c=i.footer||e();d>10&&(n.css("width",d),s.scrollable&&l&&(i._footerWidth=l+t.x.location*o-r*o,i.tbody.parent().add(i.thead.parent()).add(c.find("table")).css("width",i._footerWidth)))},resizeend:function(t){var r,l=e(t.currentTarget).data("th"),n=l.outerWidth();o(i.wrapper,""),a!=n&&(r=i.columns[l.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(l)],r.width=n,i.trigger(dt,{column:r,oldWidth:a,newWidth:n})),i.resizeHandle.hide()}}))},_draggable:function(){var t=this;t.options.reorderable&&(t._draggableInstance&&t._draggableInstance.destroy(),t._draggableInstance=t.wrapper.kendoDraggable({group:_.guid(),filter:t.content?".k-grid-header:first "+j:"table:first>.k-grid-header "+j,hint:function(t){return e('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(t.attr(_.attr("title"))||t.attr(_.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var e=this;e.options.reorderable&&e.wrapper.kendoReorderable({draggable:e._draggableInstance,change:function(t){var r=E(e.columns[t.newIndex],e.columns),a=e.columns[t.oldIndex];e.trigger(ct,{newIndex:r,oldIndex:E(a,e.columns),column:a}),e.reorderColumn(r,a)}})},reorderColumn:function(e,t){var r,a,l,o=this,n=E(t,o.columns),s=E(t,d(o.columns)),c=E(o.columns[e],d(o.columns)),p=o.footer||o.wrapper.find(".k-grid-footer");if(n!==e)for(o.columns.splice(n,1),o.columns.splice(e,0,t),o._templates(),i(o.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),s,c),o.options.scrollable&&i(o.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),s,c),i(o.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),n,e),p&&p.length&&(i(p.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),s,c),i(p.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),n,e)),r=o.tbody.children(":not(.k-grouping-row,.k-detail-row)"),a=0,l=r.length;l>a;a+=1)i(r.eq(a).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),n,e)},cellIndex:function(t){return e(t).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(t)},_modelForContainer:function(t){t=e(t),t.is("tr")||"popup"===this._editMode()||(t=t.closest("tr"));var r=t.attr(_.attr("uid"));return this.dataSource.getByUid(r)},_editable:function(){var t,r=this,a=r.selectable&&r.selectable.options.multiple,l=r.options.editable,o=function(){var t=x(),a=r._editContainer;!a||e.contains(a[0],t)||a[0]===t||e(t).closest(".k-animation-container").length||r.editable.end()&&r.closeCell()};l&&(t=r._editMode(),"incell"===t?l.update!==!1&&r.wrapper.on(pt+K,"tr:not(.k-grouping-row) > td",function(t){var l=e(this);l.hasClass("k-hierarchy-cell")||l.hasClass("k-detail-cell")||l.hasClass("k-group-cell")||l.hasClass("k-edit-cell")||l.has("a.k-grid-delete").length||l.has("button.k-grid-delete").length||l.closest("tbody")[0]!==r.tbody[0]||e(t.target).is(":input")||(r.editable?r.editable.end()&&(a&&e(x()).blur(),r.closeCell(),r.editCell(l)):r.editCell(l))}).on("focusin"+K,function(){clearTimeout(r.timer),r.timer=null}).on("focusout"+K,function(){r.timer=setTimeout(o,1)}):l.update!==!1&&r.wrapper.on(pt+K,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(t){t.preventDefault(),r.editRow(e(this).closest("tr"))}),l.destroy!==!1?r.wrapper.on(pt+K,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(t){t.preventDefault(),t.stopPropagation(),r.removeRow(e(this).closest("tr"))}):r.wrapper.on(pt+K,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(e){r._confirmation()||e.preventDefault()}))},editCell:function(t){t=e(t);var r=this,a=r.columns[r.cellIndex(t)],l=r._modelForContainer(t);!l||l.editable&&!l.editable(a.field)||a.command||!a.field||(r._attachModelChange(l),r._editContainer=t,r.editable=t.addClass("k-edit-cell").kendoEditable({fields:{field:a.field,format:a.format,editor:a.editor,values:a.values},model:l,change:function(e){r.trigger(V,{values:e.values,container:t,model:l})&&e.preventDefault()}}).data("kendoEditable"),t.parent().addClass("k-grid-edit-row"),r.trigger(J,{container:t,model:l}))},_destroyEditable:function(){var e=this,t=function(){e.editable&&(e._detachModelChange(),e.editable.destroy(),e.editable=null,e._editContainer=null)};e.editable&&("popup"===e._editMode()?e._editContainer.data("kendoWindow").bind("deactivate",t).close():t())},_attachModelChange:function(e){var t=this;t._modelChangeHandler=function(e){t._modelChange({field:e.field,model:this})},e.bind("change",t._modelChangeHandler)},_detachModelChange:function(){var e=this,t=e._editContainer,r=e._modelForContainer(t);r&&r.unbind(et,e._modelChangeHandler)},closeCell:function(){var t,r,a,l,o=this;o._editContainer&&(t=o._editContainer.removeClass("k-edit-cell"),r=t.closest("tr").attr(_.attr("uid")),a=o.columns[o.cellIndex(t)],l=o.dataSource.getByUid(r),t.parent().removeClass("k-grid-edit-row"),o._destroyEditable(),o._displayCell(t,a,l),t.hasClass("k-dirty-cell")&&e('<span class="k-dirty"/>').prependTo(t))},_displayCell:function(e,t,r){var a=this,l={storage:{},count:0},o=R({},_.Template,a.options.templateSettings),n=_.template(a._cellTmpl(t,l),o);l.count>0&&(n=W(n,l.storage)),e.empty().html(n(r))},removeRow:function(t){var r,a,l=this;l._confirmation()&&(t=e(t).hide(),r=l._modelForContainer(t),r&&!l.trigger(X,{row:t,model:r})&&(a=l._editMode(),"incell"!==a&&l.cancelRow(),l.dataSource.remove(r),("inline"===a||"popup"===a)&&l.dataSource.sync()))},_editMode:function(){var e="incell",t=this.options.editable;return t!==!0&&(e="string"==typeof t?t:t.mode||e),e},editRow:function(r){r=e(r);var a,l=this,o=l._modelForContainer(r),n=l._editMode(),i=l.options.navigatable;l.cancelRow(),o&&(l._attachModelChange(o),"popup"===n?l._createPopupEditor(o):"inline"===n?l._createInlineEditor(r,o):"incell"===n&&e(r).children(F).each(function(){var r=e(this),a=l.columns[r.index()];return o=l._modelForContainer(r),o&&(!o.editable||o.editable(a.field))&&a.field?(l.editCell(r),!1):t}),a=l._editContainer,a.on(pt+K,"a.k-grid-cancel",function(t){if(t.preventDefault(),t.stopPropagation(),!l.trigger("cancel",{container:a,model:o})){var r=l.items().index(e(l.current()).parent());l.cancelRow(),i&&(l.current(l.items().eq(r).children().filter(O).first()),b(l.table,!0))}}),a.on(pt+K,"a.k-grid-update",function(e){e.preventDefault(),e.stopPropagation(),l.saveRow()}))},_createPopupEditor:function(r){var a,l,o,n,i,s,d,c,p,u,f,h=this,g="<div "+_.attr("uid")+'="'+r.uid+'"><div class="k-edit-form-container">',k=[],v=h.options.editable,w=v.template,C=H(v)?v.window:{},y=R({},_.Template,h.options.templateSettings);if(w)for(typeof w===gt&&(w=window.unescape(w)),g+=_.template(w,y)(r),o=0,n=h.columns.length;n>o;o++)a=h.columns[o],a.command&&(c=m(a.command,"edit"),c&&(l=c));else for(o=0,n=h.columns.length;n>o;o++)a=h.columns[o],a.command?a.command&&(c=m(a.command,"edit"),c&&(l=c)):(g+='<div class="k-edit-label"><label for="'+a.field+'">'+(a.title||a.field||"")+"</label></div>",r.editable&&!r.editable(a.field)||!a.field?(u={storage:{},count:0},i=_.template(h._cellTmpl(a,u),y),u.count>0&&(i=W(i,u.storage)),g+='<div class="k-edit-field">'+i(r)+"</div>"):(k.push({field:a.field,format:a.format,editor:a.editor,values:a.values}),g+="<div "+_.attr("container-for")+'="'+a.field+'" class="k-edit-field"></div>'));l&&H(l)&&(l.text&&H(l.text)&&(s=l.text.update,d=l.text.cancel),l.attr&&(p=l.attr)),g+=h._createButton({name:"update",text:s,attr:p})+h._createButton({name:"canceledit",text:d,attr:p}),g+="</div></div>",f=h._editContainer=e(g).appendTo(h.wrapper).eq(0).kendoWindow(R({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(a){if(a.userTriggered){if(h.trigger("cancel",{container:f,model:r}))return a.preventDefault(),t;var l=h.items().index(e(h.current()).parent());h.cancelRow(),h.options.navigatable&&(h.current(h.items().eq(l).children().filter(O).first()),b(h.table,!0))}}},C)),h.editable=h._editContainer.kendoEditable({fields:k,model:r,clearContainer:!1}).data("kendoEditable"),f.data("kendoWindow").center().open(),h.trigger(J,{container:f,model:r})},_createInlineEditor:function(t,r){var a,l,o,n=this,i=[];t.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(l=e(this),a=n.columns[n.cellIndex(l)],a.command||!a.field||r.editable&&!r.editable(a.field)){if(a.command&&(o=m(a.command,"edit"))){l.empty();var t,s,d;H(o)&&(o.text&&H(o.text)&&(t=o.text.update,s=o.text.cancel),o.attr&&(d=o.attr)),e(n._createButton({name:"update",text:t,attr:d})+n._createButton({name:"canceledit",text:s,attr:d})).appendTo(l)}}else i.push({field:a.field,format:a.format,editor:a.editor,values:a.values}),l.attr(_.attr("container-for"),a.field),l.empty()}),n._editContainer=t,n.editable=t.addClass("k-grid-edit-row").kendoEditable({fields:i,model:r,clearContainer:!1}).data("kendoEditable"),n.trigger(J,{container:t,model:r})},cancelRow:function(){var e,t=this,r=t._editContainer;r&&(e=t._modelForContainer(r),t.dataSource.cancelChanges(e),"popup"!==t._editMode()?t._displayRow(r):t._displayRow(t.items().filter("["+_.attr("uid")+"="+e.uid+"]")),t._destroyEditable())},saveRow:function(){var e=this,t=e._editContainer,r=e._modelForContainer(t),a=e.editable;t&&a&&a.end()&&!e.trigger(V,{container:t,model:r})&&e.dataSource.sync()},_displayRow:function(t){var r=this,a=r._modelForContainer(t);a&&t.replaceWith(e((t.hasClass("k-alt")?r.altRowTemplate:r.rowTemplate)(a)))},_showMessage:function(e){return window.confirm(e)},_confirmation:function(){var e=this,t=e.options.editable,r=t===!0||typeof t===gt?mt:t.confirmation;return r!==!1&&null!=r?e._showMessage(r):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var e=this;(e.editable&&e.editable.end()||!e.editable)&&!e.trigger(at)&&e.dataSource.sync()},addRow:function(){var e,t,r,a,l,o=this,n=o.dataSource,i=o._editMode(),s=o.options.editable.createAt||"",d=n.pageSize(),c=n.view()||[];(o.editable&&o.editable.end()||!o.editable)&&("incell"!=i&&o.cancelRow(),e=n.indexOf(c[0]),"bottom"==s.toLowerCase()&&(e+=c.length,d&&!n.options.serverPaging&&c.length>=d&&(e-=1)),0>e&&(e=n.page()>n.totalPages()?(n.page()-1)*d:0),t=n.insert(e,{}),r=t.uid,a=o.table.find("tr["+_.attr("uid")+"="+r+"]"),l=a.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(o._firstEditableColumnIndex(a)),"inline"!==i&&"popup"!==i||!a.length?l.length&&o.editCell(l):o.editRow(a))},_firstEditableColumnIndex:function(e){var t,r,a,l=this,o=l.columns,n=l._modelForContainer(e);for(r=0,a=o.length;a>r;r++)if(t=o[r],n&&(!n.editable||n.editable(t.field))&&!t.command&&t.field)return r;return-1},_toolbar:function(){var t,r=this,a=r.wrapper,l=r.options.toolbar,o=r.options.editable;l&&(t=r.wrapper.find(".k-grid-toolbar"),t.length||(M(l)||(l=typeof l===gt?l:r._toolbarTmpl(l).replace(kt,"\\#"),l=W(_.template(l),r)),t=e('<div class="k-toolbar k-grid-toolbar" />').html(l({})).prependTo(a)),o&&o.create!==!1&&t.on(pt+K,".k-grid-add",function(e){e.preventDefault(),r.addRow()}).on(pt+K,".k-grid-cancel-changes",function(e){e.preventDefault(),r.cancelChanges()}).on(pt+K,".k-grid-save-changes",function(e){e.preventDefault(),r.saveChanges()}))},_toolbarTmpl:function(e){var t,r,a=this,l="";if(I(e))for(t=0,r=e.length;r>t;t++)l+=a._createButton(e[t]);return l},_createButton:function(e){var t=e.template||wt,r=typeof e===gt?e:e.name||e.text,l={className:"k-grid-"+(r||"").replace(/\s/g,""),text:r,imageClass:"",attr:"",iconClass:""};if(!(r||H(e)&&e.template))throw Error("Custom commands should have name specified");return H(e)?(e.className&&(e.className+=" "+l.className),"edit"===r&&H(e.text)&&(e=R(!0,{},e),e.text=e.text.edit),e.attr&&H(e.attr)&&(e.attr=a(e.attr)),l=R(!0,l,St[r],e)):l=R(!0,l,St[r]),_.template(t)(l)},_groupable:function(){var t=this;t._groupableClickHandler?t.table.off(pt+K,t._groupableClickHandler):t._groupableClickHandler=function(r){var a=e(this),l=a.closest("tr");a.hasClass("k-i-collapse")?t.collapseGroup(l):t.expandGroup(l),r.preventDefault(),r.stopPropagation()},t.table.on(pt+K,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",t._groupableClickHandler),t._attachGroupable()},_attachGroupable:function(){var t=this,r=t.wrapper,a=t.options.groupable;a&&(r.has("div.k-grouping-header")[0]||e("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(r),t.groupable&&t.groupable.destroy(),t.groupable=new C(r,R({},a,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,draggableElements:t.content?".k-grid-header:first "+U:"table:first>.k-grid-header "+U,filter:t.content?".k-grid-header:first "+$:"table:first>.k-grid-header "+$,allowDrag:t.options.reorderable})))},_selectable:function(){var e,r,a=this,l=a.options.selectable;l&&(e=typeof l===gt&&l.toLowerCase().indexOf("multiple")>-1,r=typeof l===gt&&l.toLowerCase().indexOf("cell")>-1,a.selectable=new _.ui.Selectable(a.table,{filter:">"+(r?q:"tbody>tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)"),aria:!0,multiple:e,change:function(){a.trigger(et)}}),a.options.navigatable&&a.table.on("keydown"+K,function(l){var o=a.current();if(l.keyCode===S.SPACEBAR&&l.target==a.table[0]&&!o.is(".k-edit-cell,.k-header")&&o.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(l.preventDefault(),l.stopPropagation(),o=r?o:o.parent(),e)if(l.ctrlKey){if(o.hasClass(st))return o.removeClass(st),a.trigger(et),t}else a.selectable.clear();else a.selectable.clear();a.selectable.value(o)}}))},clearSelection:function(){var e=this;e.selectable.clear(),e.trigger(et)},select:function(r){var a=this,l=a.selectable;return r=e(r),r.length?(l.options.multiple||(l.clear(),r=r.first()),l.value(r),t):l.value()},current:function(r){var a=this,l=a.options.scrollable,o=a._current,n=a.table.add(a.thead.parent());return r!==t&&r.length&&(o&&o[0]===r[0]||(o&&(o.removeClass(it).removeAttr("id"),n.removeAttr("aria-activedescendant")),r.attr("id",a._cellId),a._current=r.addClass(it),n.attr("aria-activedescendant",a._cellId),r.length&&l&&(e.contains(a.content[0],r[0])&&a._scrollTo(r.parent()[0],a.content[0]),l.virtual?a._scrollTo(r[0],a.content.find(">.k-virtual-scrollable-wrap")[0]):a._scrollTo(r[0],a.content[0])))),a._current},_removeCurrent:function(){this._current&&(this._current.removeClass(it),this._current=null)},_scrollTo:function(e,t){var r=e.tagName.toLowerCase(),a="td"===r||"th"===r,l=e[a?"offsetLeft":"offsetTop"],o=e[a?"offsetWidth":"offsetHeight"],n=t[a?"scrollLeft":"scrollTop"],i=t[a?"clientWidth":"clientHeight"],s=l+o,d=0;d=n>l?l:s>n+i?i>=o?s-i:l:n,t[a?"scrollLeft":"scrollTop"]=d},_navigatable:function(){var t=this,r=W(t.current,t),a=t.table,l=t.thead.parent(),o=a,n=_.support.isRtl(t.element);t.options.navigatable&&(t.options.scrollable&&(o=a.add(l),l.attr(ft,-1)),l.on("keydown"+K,function(e){e.altKey&&e.keyCode==S.DOWN&&(r().find(".k-grid-filter, .k-header-column-menu").click(),e.stopImmediatePropagation())}).find("a.k-link").attr("tabIndex",-1),a.attr(ft,L.max(a.attr(ft)||0,0)).on("mousedown"+K+" keydown"+K,".k-detail-cell",function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()}),o.on(_.support.touch?"touchstart"+K:"mousedown"+K,P+">"+O,W(k,t)).on("focus"+K,function(){if(!_.support.touch){var t=r();t&&t.is(":visible")?t.addClass(it):r(e(this).find(G)),this==a[0]?(l.attr(ft,-1),a.attr(ft,0)):(a.attr(ft,-1),l.attr(ft,0))}}).on("focusout"+K,function(){var e=r();e&&e.removeClass(it)}).on("keydown"+K,function(l){var o,i,s,d,c,p,u,f=l.keyCode,h=!1,g=!l.isDefaultPrevented()&&!e(l.target).is(":button,a,:input,a>.k-icon"),m=t.options.pageable,k=t.dataSource,_="incell"==t._editMode(),v=l.shiftKey,w=r();w&&w.is("th")&&(g=!0),g&&f==S.UP?(w?(s=w.parent().prevAll(P).first(),s[0]||(c=t.thead.parent(),b(c,!0),s=c.find(P).first()),d=w.index(),w=s.children().eq(d),w[0]&&w.is(O)||(w=s.children(O).first())):w=a.find(G),h=!0,r(w)):g&&f==S.DOWN?(w?(s=w.parent().nextAll(P).first(),!s[0]&&w.is("th")&&(b(t.tbody.parent()),s=t.tbody.find(P).first()),d=w.index(),w=s.children().eq(d),w[0]&&w.is(O)||(w=s.children(O).first())):w=a.find(G),h=!0,r(w)):g&&f==(n?S.RIGHT:S.LEFT)?(r(w?w.prevAll(F+":first"):a.find(G)),h=!0):g&&f==(n?S.LEFT:S.RIGHT)?(w?w.next()[0]&&(w=w.nextAll(F+":first")):w=a.find(G),h=!0,r(w)):g&&m&&S.PAGEDOWN==f?(k.page(k.page()+1),h=!0):g&&m&&S.PAGEUP==f?(k.page(k.page()-1),h=!0):f==S.ENTER||S.F2==f?(w=w?w:a.find(G),w.is("th")?(w.find(".k-link").click(),h=!0):w.parent().is(".k-master-row,.k-grouping-row")?(w.parent().find(".k-icon:first").click(),h=!0):(p=w.find(":focusable:first"),!w.hasClass("k-edit-cell")&&p[0]&&w.hasClass("k-state-focused")?(p.focus(),h=!0):t.options.editable&&!e(l.target).is(":button,.k-button")&&(t._handleEditing(w),h=!0))):S.ESC==f?(o=x(),w&&e.contains(w[0],o)&&!w.hasClass("k-edit-cell")&&!w.parent().hasClass("k-grid-edit-row")?(b(t.table[0],!0),h=!0):!t._editContainer||w&&!t._editContainer.has(w[0])&&w[0]!==t._editContainer[0]||(_?t.closeCell():(i=t.items().index(e(w).parent()),o&&o.blur(),t.cancelRow(),i>=0&&t.current(t.items().eq(i).children().filter(O).first())),yt.msie&&9>yt.version&&document.body.focus(),b(a,!0),h=!0)):S.TAB==f&&(w=e(w),t.options.editable&&_&&(u=e(x()).closest(".k-edit-cell"),u[0]&&u[0]!==w[0]&&(w=u)),u=v?w.prevAll(F+":first"):w.nextAll(":visible:first"),u.length||(u=w.parent()[v?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(F+(v?":last":":first"))),!w.is("th")&&u.length&&t.options.editable&&_&&(t._handleEditing(w,u),h=!0)),h&&(l.preventDefault(),l.stopPropagation())}))},_handleEditing:function(r,a){var l,o,n=this,i=e(x()),s=n._editMode(),d=yt.msie,c=d&&9>yt.version,p=n._editContainer;if(o="incell"==s?r.hasClass("k-edit-cell"):r.parent().hasClass("k-grid-edit-row"),n.editable){if(e.contains(p[0],i[0])&&(yt.opera||c?i.change().triggerHandler("blur"):(i.blur(),d&&i.blur())),!n.editable)return b(n.table),t;if(!n.editable.end())return"incell"==s?n.current(p):n.current(p.children().filter(F).first()),l=p.find(":focusable:first")[0],l&&l.focus(),t;"incell"==s?n.closeCell():(n.saveRow(),o=!0)}a&&n.current(a),c&&document.body.focus(),b(n.table,!0),(!o&&!a||a)&&("incell"==s?n.editCell(n.current()):n.editRow(n.current().parent()))},_wrapper:function(){var e=this,t=e.table,r=e.options.height,a=e.element;a.is("div")||(a=a.wrap("<div/>").parent()),e.wrapper=a.addClass("k-grid k-widget"),r&&(e.wrapper.css(ut,r),t.css(ut,"auto"))},_tbody:function(){var t,r=this,a=r.table;t=a.find(">tbody"),t.length||(t=e("<tbody/>").appendTo(a)),r.tbody=t},_scrollable:function(){var t,r,a,l,o,n=this,i=n.options,s=i.scrollable,d=s!==!0&&s.virtual&&!n.virtualScrollable,c=!_.support.kineticScrollNeeded||d?_.support.scrollbar():0;s&&(t=n.wrapper.children(".k-grid-header"),t[0]||(t=e('<div class="k-grid-header" />').insertBefore(n.table)),t.css(Ct?"padding-left":"padding-right",s.virtual?c+1:c),r=e('<table role="grid" />'),xt&&r.attr("cellspacing",0),r.append(n.thead),t.empty().append(e('<div class="k-grid-header-wrap" />').append(r)),n.content=n.table.parent(),n.content.is(".k-virtual-scrollable-wrap")&&(n.content=n.content.parent()),n.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(n.content=n.table.wrap('<div class="k-grid-content" />').parent()),d&&(n.virtualScrollable=new Tt(n.content,{dataSource:n.dataSource,itemHeight:W(n._averageRowHeight,n)})),n.scrollables=t.children(".k-grid-header-wrap"),a=n.wrapper.find(".k-grid-footer"),l=Ct&&yt.webkit?c:0,a.length&&(n.scrollables=n.scrollables.add(a.children(".k-grid-footer-wrap"))),s.virtual?n.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+K,function(){n.scrollables.scrollLeft(this.scrollLeft+l)}):(n.content.bind("scroll"+K,function(){n.scrollables.scrollLeft(this.scrollLeft+l)}),o=_.touchScroller(n.content),o&&o.movable&&o.movable.bind("change",function(e){n.scrollables.scrollLeft(-e.sender.x)
})))},_setContentHeight:function(){var e,t=this,r=t.options,a=t.wrapper.innerHeight(),l=t.wrapper.children(".k-grid-header"),o=_.support.scrollbar();r.scrollable&&(a-=l.outerHeight(),t.pager&&(a-=t.pager.element.outerHeight()),r.groupable&&(a-=t.wrapper.children(".k-grouping-header").outerHeight()),r.toolbar&&(a-=t.wrapper.children(".k-grid-toolbar").outerHeight()),t.footerTemplate&&(a-=t.wrapper.children(".k-grid-footer").outerHeight()),e=function(e){var t,r;return e[0].style.height?!0:(t=e.height(),e.height("auto"),r=e.height(),t!=r?(e.height(""),!0):(e.height(""),!1))},e(t.wrapper)&&(a>2*o?t.content.height(a):t.content.height(2*o+1)))},_averageRowHeight:function(){var e,t=this,r=t._rowHeight;return t._rowHeight||(t._rowHeight=r=t.table.outerHeight()/t.items().length,t._sum=r,t._measures=1),e=t.table.outerHeight()/t.items().length,r!==e&&(t._measures++,t._sum+=e,t._rowHeight=t._sum/t._measures),r},_dataSource:function(){var e,r=this,a=r.options,l=a.dataSource;l=I(l)?{data:l}:l,H(l)&&(R(l,{table:r.table,fields:r.columns}),e=a.pageable,H(e)&&e.pageSize!==t&&(l.pageSize=e.pageSize)),r.dataSource&&r._refreshHandler?r.dataSource.unbind(et,r._refreshHandler).unbind(N,r._progressHandler).unbind(B,r._errorHandler):(r._refreshHandler=W(r.refresh,r),r._progressHandler=W(r._requestStart,r),r._errorHandler=W(r._error,r)),r.dataSource=w.create(l).bind(et,r._refreshHandler).bind(N,r._progressHandler).bind(B,r._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(t){var r,a,l,o,n=this,i=t.model,s=n.tbody.find("tr["+_.attr("uid")+"="+i.uid+"]"),d=s.hasClass("k-alt"),c=n.items().index(s);if(s.children(".k-edit-cell").length&&!n.options.rowTemplate)s.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){r=e(this),a=n.columns[n.cellIndex(r)],a.field===t.field&&(r.hasClass("k-edit-cell")?r.addClass("k-dirty-cell"):(n._displayCell(r,a,i),e('<span class="k-dirty"/>').prependTo(r)))});else if(!s.hasClass("k-grid-edit-row")){for(l=(d?n.altRowTemplate:n.rowTemplate)(i),s.replaceWith(l),l=n.items().eq(c),c=0,o=n.columns.length;o>c;c++)a=n.columns[c],a.field===t.field&&(r=l.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(c),e('<span class="k-dirty"/>').prependTo(r));n.trigger("itemChange",{item:l,data:i,ns:v})}},_pageable:function(){var t,r=this,a=r.options.pageable;a&&(t=r.wrapper.children("div.k-grid-pager"),t.length||(t=e('<div class="k-pager-wrap k-grid-pager"/>').appendTo(r.wrapper)),r.pager&&r.pager.destroy(),r.pager="object"==typeof a&&a instanceof _.ui.Pager?a:new _.ui.Pager(t,R({},a,{dataSource:r.dataSource})))},_footer:function(){var t,r,a=this,l=a.dataSource.aggregates(),o="",i=a.footerTemplate,s=a.options,d=a.footer||a.wrapper.find(".k-grid-footer");i?(l=z(l)?n(a.dataSource.aggregate()):l,o=e(a._wrapFooter(i(l))),d.length?(r=o,d.replaceWith(r),d=a.footer=r):d=a.footer=s.scrollable?s.pageable?o.insertBefore(a.wrapper.children("div.k-grid-pager")):o.appendTo(a.wrapper):o.insertBefore(a.tbody)):d&&!a.footer&&(a.footer=d),d.length&&(s.scrollable&&(t=d.attr("tabindex",-1).children(".k-grid-footer-wrap"),a.scrollables=a.scrollables.not(".k-grid-footer-wrap").add(t)),a._footerWidth&&d.find("table").css("width",a._footerWidth),t&&t.scrollLeft(a.content.scrollLeft()))},_wrapFooter:function(t){var r=this,a="",l=_.support.mobileOS?0:_.support.scrollbar();return r.options.scrollable?(a=e('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(xt?' cellspacing="0"':"")+"><tbody>"+t+"</tbody></table></div></div>"),r._appendCols(a.find("table")),a.css(Ct?"padding-left":"padding-right",l),a):'<tfoot class="k-grid-footer">'+t+"</tfoot>"},_columnMenu:function(){var t,r,a,l,o,n,i=this,s=i.columns,d=i.options,c=d.columnMenu,p=function(){b(i.thead.parent(),!0)},u=function(e){i.trigger(Z,{field:e.field,container:e.container})};c&&("boolean"==typeof c&&(c={}),i.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(f){r=s[f],n=e(this),r.command||!r.field&&!n.attr("data-"+_.ns+"field")||(t=n.data("kendoColumnMenu"),t&&t.destroy(),l=r.sortable!==!1&&c.sortable!==!1?d.sortable:!1,o=d.filterable&&r.filterable!==!1&&c.filterable!==!1?R({},r.filterable,d.filterable):!1,a={dataSource:i.dataSource,values:r.values,columns:c.columns,sortable:l,filterable:o,messages:c.messages,owner:i,closeCallback:p,init:u},n.kendoColumnMenu(a))}))},_filterable:function(){var t,r,a=this,l=a.columns,o=function(){b(a.thead.parent(),!0)},n=a.options.filterable;n&&!a.options.columnMenu&&a.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(i){t=e(this),l[i].filterable===!1||l[i].command||!l[i].field&&!t.attr("data-"+_.ns+"field")||(r=t.data("kendoFilterMenu"),r&&r.destroy(),t.kendoFilterMenu(R(!0,{},n,l[i].filterable,{dataSource:a.dataSource,values:l[i].values,closeCallback:o,init:function(e){a.trigger(Y,{field:e.field,container:e.container})}})))})},_sortable:function(){var t,r,a,l=this,o=l.columns,n=l.options.sortable;n&&l.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(i){t=o[i],t.sortable!==!1&&!t.command&&t.field&&(r=e(this),a=r.data("kendoSortable"),a&&a.destroy(),r.attr("data-"+_.ns+"field",t.field).kendoSortable(R({},n,{dataSource:l.dataSource,aria:!0})))})},_columns:function(t){var r,a=this,l=a.table,o=l.find("col"),n=a.options.dataSource;t=t.length?t:A(l.find("th"),function(t,r){t=e(t);var a=t.attr(_.attr("sortable")),l=t.attr(_.attr("filterable")),n=t.attr(_.attr("type")),i=t.attr(_.attr("groupable")),s=t.attr(_.attr("field")),d=t.attr(_.attr("menu"));return s||(s=t.text().replace(/\s|[^A-z0-9]/g,"")),{field:s,type:n,sortable:"false"!==a,filterable:"false"!==l,groupable:"false"!==i,menu:d,template:t.attr(_.attr("template")),width:o.eq(r).css("width")}}),r=!(a.table.find("tbody tr").length>0&&(!n||!n.transport)),a.columns=A(t,function(e){return e=typeof e===gt?{field:e}:e,e.hidden&&(e.attributes=c(e.attributes),e.footerAttributes=c(e.footerAttributes),e.headerAttributes=c(e.headerAttributes)),R({encoded:r},e)})},_groups:function(){var e=this.dataSource.group();return e?e.length:0},_tmpl:function(e,t){var l,o,n,i,s=this,d=R({},_.Template,s.options.templateSettings),c=s.columns.length,p={storage:{},count:0},u=s._hasDetails(),f=[],h=s._groups();if(!e){for(e="<tr",t&&f.push("k-alt"),u&&f.push("k-master-row"),f.length&&(e+=' class="'+f.join(" ")+'"'),c&&(e+=" "+_.attr("uid")+'="#='+_.expr("uid",d.paramName)+'#"'),e+=" role='row'>",h>0&&(e+=r(h)),u&&(e+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'),l=0;c>l;l++)n=s.columns[l],o=n.template,i=typeof o,e+="<td"+a(n.attributes)+" role='gridcell'>",e+=s._cellTmpl(n,p),e+="</td>";e+="</tr>"}return e=_.template(e,d),p.count>0?W(e,p.storage):e},_headerCellText:function(e){var t=this,r=R({},_.Template,t.options.templateSettings),a=e.headerTemplate,l=typeof a,o=e.title||e.field||"";return l===ht?o=_.template(a,r)({}):l===gt&&(o=a),o},_cellTmpl:function(e,t){var r,a,l=this,o=R({},_.Template,l.options.templateSettings),n=e.template,i=o.paramName,s=e.field,d="",c=e.format,p=typeof n,u=e.values;if(e.command){if(I(e.command)){for(r=0,a=e.command.length;a>r;r++)d+=l._createButton(e.command[r]);return d.replace(kt,"\\#")}return l._createButton(e.command).replace(kt,"\\#")}return p===ht?(t.storage["tmpl"+t.count]=n,d+="#=this.tmpl"+t.count+"("+i+")#",t.count++):p===gt?d+=n:u&&u.length&&H(u[0])&&"value"in u[0]&&s?(d+="#var v ="+_.stringify(f(u))+"#",d+="#var f = v[",o.useWithBlock||(d+=i+"."),d+=s+"]#",d+="${f != null ? f : ''}"):(d+=e.encoded?"#:":"#=",c&&(d+='kendo.format("'+c.replace(bt,"\\$1")+'",'),s?(s=_.expr(s,i),d+=s+"==null?'':"+s):d+="''",c&&(d+=")"),d+="#"),d},_templates:function(){var t=this,r=t.options,a=t.dataSource,l=a.group(),o=t.footer||t.wrapper.find(".k-grid-footer"),n=a.aggregate();t.rowTemplate=t._tmpl(r.rowTemplate),t.altRowTemplate=t._tmpl(r.altRowTemplate||r.rowTemplate,!0),t._hasDetails()&&(t.detailTemplate=t._detailTmpl(r.detailTemplate||"")),(t._group&&!z(n)||!z(n)&&!o.length||D(t.columns,function(e){return e.footerTemplate}).length)&&(t.footerTemplate=t._footerTmpl(n,"footerTemplate","k-footer-template")),l&&D(t.columns,function(e){return e.groupFooterTemplate}).length&&(n=e.map(l,function(e){return e.aggregates}),t.groupFooterTemplate=t._footerTmpl(n,"groupFooterTemplate","k-group-footer"))},_footerTmpl:function(e,t,l){var o,i,s,d,c,p=this,u=R({},_.Template,p.options.templateSettings),f=u.paramName,h="",g=p.columns,m={},b=0,k={},v=p._groups(),w=n(e);for(h+='<tr class="'+l+'">',v>0&&(h+=r(v)),p._hasDetails()&&(h+='<td class="k-hierarchy-cell">&nbsp;</td>'),o=0,i=p.columns.length;i>o;o++)c=g[o],s=c[t],d=typeof s,h+="<td"+a(c.footerAttributes)+">",s?(d!==ht&&(k=w[c.field]?R({},u,{paramName:f+"."+c.field}):{},s=_.template(s,k)),m["tmpl"+b]=s,h+="#=this.tmpl"+b+"("+f+")#",b++):h+="&nbsp;",h+="</td>";return h+="</tr>",h=_.template(h,u),b>0?W(h,m):h},_detailTmpl:function(e){var t=this,a="",l=R({},_.Template,t.options.templateSettings),o=l.paramName,n={},i=0,s=t._groups(),c=d(t.columns).length,p=typeof e;return a+='<tr class="k-detail-row">',s>0&&(a+=r(s)),a+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(c?' colspan="'+c+'"':"")+">",p===ht?(n["tmpl"+i]=e,a+="#=this.tmpl"+i+"("+o+")#",i++):a+=e,a+="</td></tr>",a=_.template(a,l),i>0?W(a,n):a},_hasDetails:function(){var e=this;return null!==e.options.detailTemplate||(e._events[Q]||[]).length},_details:function(){var t=this;t.table.on(pt+K,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(r){var a,l,o=e(this),n=o.hasClass("k-plus"),i=o.closest("tr.k-master-row"),s=t.detailTemplate,d=t._hasDetails();return o.toggleClass("k-plus",!n).toggleClass("k-minus",n),d&&!i.next().hasClass("k-detail-row")&&(l=t.dataItem(i),e(s(l)).addClass(i.hasClass("k-alt")?"k-alt":"").insertAfter(i),t.trigger(Q,{masterRow:i,detailRow:i.next(),data:l,detailCell:i.next().find(".k-detail-cell")})),a=i.next(),t.trigger(n?ot:nt,{masterRow:i,detailRow:a}),a.toggle(n),t._current&&t._current.attr("aria-expanded",n),r.preventDefault(),!1})},dataItem:function(t){return this._data[this.tbody.find("> tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)").index(e(t))]},expandRow:function(t){e(t).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(t){e(t).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var r,l,o,n,i,s=this,d=s.columns,c=s._hasDetails()&&d.length,p="",u=s.table.find(">thead");if(u.length||(u=e("<thead/>").insertBefore(s.tbody)),o=s.element.find("tr:has(th):first"),o.length||(o=u.children().first(),o.length||(o=e("<tr/>"))),o.children().length)c&&!o.find(".k-hierarchy-cell")[0]&&o.prepend('<th class="k-hierarchy-cell">&nbsp;</th>');else{for(c&&(p+='<th class="k-hierarchy-cell">&nbsp;</th>'),r=0,l=d.length;l>r;r++)i=d[r],n=s._headerCellText(i),i.command?p+="<th"+a(i.headerAttributes)+">"+n+"</th>":(p+="<th role='columnheader' "+_.attr("field")+"='"+(i.field||"")+"' ",i.title&&(p+=_.attr("title")+'="'+i.title.replace(/'/g,"'")+'" '),i.groupable!==t&&(p+=_.attr("groupable")+"='"+i.groupable+"' "),i.aggregates&&(p+=_.attr("aggregates")+"='"+i.aggregates+"'"),p+=a(i.headerAttributes),p+=">"+n+"</th>");o.html(p)}o.find("th").addClass("k-header"),s.options.scrollable||u.addClass("k-grid-header"),o.find("script").remove().end().appendTo(u),s.thead&&s._destroyColumnAttachments(),s.thead=u,s._sortable(),s._filterable(),s._scrollable(),s._updateCols(),s._resizable(),s._draggable(),s._reorderable(),s.groupable&&s._attachGroupable(),s._columnMenu()},_updateCols:function(){var e=this;e._appendCols(e.thead.parent().add(e.table))},_appendCols:function(e){var t=this;u(e,d(t.columns),t._hasDetails(),t._groups())},_autoColumns:function(e){if(e&&e.toJSON){var t,r=this;e=e.toJSON();for(t in e)r.columns.push({field:t});r._thead(),r._templates()}},_rowsHtml:function(e){var t,r,a=this,l="",o=a.rowTemplate,n=a.altRowTemplate;for(t=0,r=e.length;r>t;t++)l+=t%2?n(e[t]):o(e[t]),a._data.push(e[t]);return l},_groupRowHtml:function(e,t,a){var l,o,n=this,i="",s=e.field,d=D(n.columns,function(e){return e.field==s})[0]||{},c=d.groupHeaderTemplate,p=(d.title||s)+": "+h(e.value,d.format,d.values),u=R({},{field:e.field,value:e.value},e.aggregates[e.field]),f=n._groupAggregatesDefaultObject||{},g=e.items;if(c&&(p=typeof c===ht?c(u):_.template(c)(u)),i+='<tr class="k-grouping-row">'+r(a)+'<td colspan="'+t+'" aria-expanded="true">'+'<p class="k-reset">'+'<a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+p+"</p></td></tr>",e.hasSubgroups)for(l=0,o=g.length;o>l;l++)i+=n._groupRowHtml(g[l],t-1,a+1);else i+=n._rowsHtml(g);return n.groupFooterTemplate&&(i+=n.groupFooterTemplate(R(f,e.aggregates))),i},collapseGroup:function(r){r=e(r).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var a,l,o=r.find(".k-group-cell").length,n=1;r.find("td:first").attr("aria-expanded",!1),r.nextAll("tr").each(function(){return l=e(this),a=l.find(".k-group-cell").length,l.hasClass("k-grouping-row")?n++:l.hasClass("k-group-footer")&&n--,o>=a||l.hasClass("k-group-footer")&&0>n?!1:(l.hide(),t)})},expandGroup:function(r){r=e(r).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var a,l,o=this,n=r.find(".k-group-cell").length,i=1;r.find("td:first").attr("aria-expanded",!0),r.nextAll("tr").each(function(){return a=e(this),l=a.find(".k-group-cell").length,n>=l?!1:(l!=n+1||a.hasClass("k-detail-row")||(a.show(),a.hasClass("k-grouping-row")&&a.find(".k-icon").hasClass("k-i-collapse")&&o.expandGroup(a),a.hasClass("k-master-row")&&a.find(".k-icon").hasClass("k-minus")&&a.next().show()),a.hasClass("k-grouping-row")&&i++,a.hasClass("k-group-footer")&&(1==i?a.show():i--),t)})},_updateHeader:function(t){var r=this,a=r.thead.find("th.k-group-cell"),l=a.length;t>l?e(Array(t-l+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(r.thead.find("tr")):l>t&&(l-=t,e(D(a,function(e,t){return l>t})).remove())},_firstDataItem:function(e,t){return e&&t&&(e=e.hasSubgroups?this._firstDataItem(e.items[0],t):e.items[0]),e},hideColumn:function(t){var r,a,l,o,n,i,s,p,u,f=this,h=0,m=f.footer||f.wrapper.find(".k-grid-footer"),b=f.columns;if(t="number"==typeof t?b[t]:D(b,function(e){return e.field===t})[0],t&&!t.hidden){for(u=E(t,d(b)),t.hidden=!0,t.attributes=c(t.attributes),t.footerAttributes=c(t.footerAttributes),t.headerAttributes=c(t.headerAttributes),f._templates(),f._updateCols(),g(f.thead.find(">tr")[0].cells,u,!1),m[0]&&(f._appendCols(m.find("table:first")),g(m.find(".k-footer-template")[0].cells,u,!1)),r=f.tbody.children(),n=0,p=r.length;p>n;n+=1)a=r.eq(n),a.is(".k-grouping-row,.k-detail-row")?(l=a.children(":not(.k-group-cell):first,.k-detail-cell").last(),l.attr("colspan",parseInt(l.attr("colspan"),10)-1)):(a.hasClass("k-grid-edit-row")&&(l=a.children(".k-edit-container")[0])&&(l=e(l),l.attr("colspan",parseInt(l.attr("colspan"),10)-1),l.find("col").eq(u).remove(),a=l.find("tr:first")),g(a[0].cells,u,!1));for(i=f.thead.prev().find("col"),n=0,p=i.length;p>n;n+=1){if(s=i[n].style.width,!s||-1!=s.indexOf("%")){h=0;break}h+=parseInt(s,10)}o=e(">.k-grid-header table:first,>.k-grid-footer table:first",f.wrapper).add(f.table),f._footerWidth=null,h&&(o.width(h),f._footerWidth=h),yt.msie&&8==yt.version&&(o.css("display","inline-table"),setTimeout(function(){o.css("display","table")},1)),f.trigger(tt,{column:t})}},showColumn:function(t){var r,a,l,o,n,i,s,c,f,h,m=this,b=m.columns,k=m.footer||m.wrapper.find(".k-grid-footer");if(t="number"==typeof t?b[t]:D(b,function(e){return e.field===t})[0],t&&t.hidden){for(h=E(t,b),t.hidden=!1,t.attributes=p(t.attributes),t.footerAttributes=p(t.footerAttributes),t.headerAttributes=p(t.headerAttributes),m._templates(),m._updateCols(),g(m.thead.find(">tr")[0].cells,h,!0),k[0]&&(m._appendCols(k.find("table:first")),g(k.find(".k-footer-template")[0].cells,h,!0)),r=m.tbody.children(),a=0,l=r.length;l>a;a+=1)o=r.eq(a),o.is(".k-grouping-row,.k-detail-row")?(n=o.children(":not(.k-group-cell):first,.k-detail-cell").last(),n.attr("colspan",parseInt(n.attr("colspan"),10)+1)):(o.hasClass("k-grid-edit-row")&&(n=o.children(".k-edit-container")[0])&&(n=e(n),n.attr("colspan",parseInt(n.attr("colspan"),10)+1),u(n.find(">form>table"),d(b),!1,0),o=n.find("tr:first")),g(o[0].cells,h,!0));if(i=e(">.k-grid-header table:first,>.k-grid-footer table:first",m.wrapper).add(m.table),t.width){for(s=0,f=m.thead.prev().find("col"),a=0,l=f.length;l>a;a+=1){if(c=f[a].style.width,c.indexOf("%")>-1){s=0;break}s+=parseInt(c,10)}m._footerWidth=null,s&&(i.width(s),m._footerWidth=s)}else i.width("");m.trigger(rt,{column:t})}},_progress:function(e){var t=this,r=t.element.is("table")?t.element.parent():t.content&&t.content.length?t.content:t.element;_.ui.progress(r,e)},refresh:function(t){var r,a,l,o,i,s,c=this,p="",u=c.dataSource.view(),f=c.options.navigatable,h=e(c.current()),g=!1,m=(c.dataSource.group()||[]).length,k=m+d(c.columns).length;if(!(t&&"itemchange"===t.action&&c.editable||(t=t||{},c.trigger("dataBinding",{action:t.action||"rebind",index:t.index,items:t.items})))){if(s=x(),f&&(c.table[0]===s||e.contains(c.table[0],s)||c._editContainer&&c._editContainer.data("kendoWindow"))&&(g=h.is("th"),i=0,g&&(i=c.thead.find("th:not(.k-group-cell)").index(h))),c._destroyEditable(),c._progress(!1),c._data=[],c.columns.length||(c._autoColumns(c._firstDataItem(u[0],m)),k=m+c.columns.length),c._group=m>0||c._group,c._group&&(c._templates(),c._updateCols(),c._updateHeader(m),c._group=m>0),m>0)for(c.detailTemplate&&k++,c.groupFooterTemplate&&(c._groupAggregatesDefaultObject=n(c.dataSource.aggregate())),a=0,r=u.length;r>a;a++)p+=c._groupRowHtml(u[a],k,0);else p+=c._rowsHtml(u);y?c.tbody[0].innerHTML=p:(o=document.createElement("div"),o.innerHTML="<table><tbody>"+p+"</tbody></table>",l=o.firstChild.firstChild,c.table[0].replaceChild(l,c.tbody[0]),c.tbody=e(l)),c._footer(),c._setContentHeight(),i>=0&&(c._removeCurrent(),g?c.current(c.thead.find("th:not(.k-group-cell)").eq(i)):c.current(c.items().eq(i).children().filter(F).first()),c._current&&b(c._current.closest("table")[0],!0)),c.trigger(lt)}}});v.plugin(Ht),v.plugin(Tt)})(window.kendo.jQuery);;(function(e,t){function n(t){return e.map(o(t),function(e){return e.name}).join(", ")}function o(e){var t=e[0];return t.files?a(t.files):[{name:s(t.value),extension:i(t.value),size:null}]}function a(t){return e.map(t,function(e){return r(e)})}function r(e){var t=e.name||e.fileName;return{name:_.htmlEncode(t),extension:i(t),size:e.size||e.fileSize,rawFile:e}}function i(e){var t=e.match(F);return t?t[0]:""}function s(e){var t=e.lastIndexOf("\\");return-1!=t?e.substr(t+1):e}function l(t,n,o){var a,r;n._supportsRemove()&&(a=t.data("fileNames"),r=e.map(a,function(e){return e.name}),n._submitRemove(r,o,function(e,o,r){n._removeFileEntry(t),n.trigger(U,{operation:"remove",files:a,response:e,XMLHttpRequest:r})},function(e){n.trigger(S,{operation:"remove",files:a,XMLHttpRequest:e}),y("Server response: "+e.responseText)}))}function p(t,n,o){var a=!1,r="";try{r=e.parseJSON(u(t)),a=!0}catch(i){o()}a&&n(r)}function u(e){return(e===t||""===e)&&(e="{}"),e}function c(e){e.stopPropagation(),e.preventDefault()}function d(e,t,n,o){var a,r;e.on("dragenter"+t,function(){n(),r=new Date,a||(a=setInterval(function(){var e=new Date-r;e>100&&(o(),clearInterval(a),a=null)},100))}).on("dragover"+t,function(){r=new Date})}function f(e){return e.children(".k-icon").is(".k-loading, .k-success, .k-fail")}function m(t){return e(t.target).closest(".k-file")}function h(){var n={},o=e("meta[name=csrf-token]").attr("content"),a=e("meta[name=csrf-param]").attr("content");return e("input[name^='__RequestVerificationToken']").each(function(){n[this.name]=this.value}),a!==t&&o!==t&&(n[a]=o),n}var v,g,_=window.kendo,k=_.ui.Widget,y=_.logToConsole,F=/\.([^\.]+)$/,b=".kendoUpload",w="select",x="upload",U="success",S="error",R="complete",C="cancel",A="progress",E="remove",q=k.extend({init:function(t,n){var o,a,r=this;k.fn.init.call(r,t,n),r.name=t.name,r.multiple=r.options.multiple,r.localization=r.options.localization,o=r.element,r.wrapper=o.closest(".k-upload"),0===r.wrapper.length&&(r.wrapper=r._wrapInput(o)),r._activeInput(o),r.toggle(r.options.enabled),a=r._ns=b+"-"+_.guid(),o.closest("form").on("submit"+a,e.proxy(r._onParentFormSubmit,r)).on("reset"+a,e.proxy(r._onParentFormReset,r)),r.options.async.saveUrl?(r._module=r._supportsFormData()?new g(r):new v(r),r._async=!0):r._module=new I(r),r._supportsDrop()&&r._setupDropZone(),r.wrapper.delegate(".k-upload-action","click",e.proxy(r._onFileAction,r)).delegate(".k-upload-selected","click",e.proxy(r._onUploadSelected,r)).delegate(".k-file","t:progress",e.proxy(r._onFileProgress,r)).delegate(".k-file","t:upload-success",e.proxy(r._onUploadSuccess,r)).delegate(".k-file","t:upload-error",e.proxy(r._onUploadError,r))},events:[w,x,U,S,R,C,A,E],options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,async:{removeVerb:"POST",autoUpload:!0},localization:{select:"Select...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusFailed:"failed"}},setOptions:function(e){var t=this,n=t.element;k.fn.setOptions.call(t,e),t.multiple=t.options.multiple,n.attr("multiple",t._supportsMultiple()?t.multiple:!1),t.toggle(t.options.enabled)},enable:function(e){e=e===t?!0:e,this.toggle(e)},disable:function(){this.toggle(!1)},toggle:function(e){e=e===t?e:!e,this.wrapper.toggleClass("k-state-disabled",e)},destroy:function(){var t=this;e(document).add(e(".k-dropzone",t.wrapper)).add(t.wrapper.closest("form")).off(t._ns),e(t.element).off(b),k.fn.destroy.call(t)},_addInput:function(t){var n=this;t.insertAfter(n.element).data("kendoUpload",n),e(n.element).hide().removeAttr("id").off(b),n._activeInput(t)},_activeInput:function(t){var n=this,o=n.wrapper;n.element=t,t.attr("multiple",n._supportsMultiple()?n.multiple:!1).attr("autocomplete","off").on("click"+b,function(e){o.hasClass("k-state-disabled")&&e.preventDefault()}).on("focus"+b,function(){e(this).parent().addClass("k-state-focused")}).on("blur"+b,function(){e(this).parent().removeClass("k-state-focused")}).on("change"+b,e.proxy(n._onInputChange,n))},_onInputChange:function(t){var n=this,a=e(t.target),r=n.trigger(w,{files:o(a)});r?(n._addInput(a.clone().val("")),a.remove()):a.trigger("t:select")},_onDrop:function(t){var n,o=t.originalEvent.dataTransfer,r=this,i=o.files;c(t),i.length>0&&(n=r.trigger(w,{files:a(i)}),n||e(".k-dropzone",r.wrapper).trigger("t:select",[i]))},_enqueueFile:function(t,n){var o,a,r=this,i=e(".k-upload-files",r.wrapper);return 0===i.length&&(i=e("<ul class='k-upload-files k-reset'></ul>").appendTo(r.wrapper),r.options.showFileList||i.hide()),o=e(".k-file",i),a=e("<li class='k-file'><span class='k-filename' title='"+t+"'>"+t+"</span></li>").appendTo(i).data(n),r._async&&a.prepend("<span class='k-icon'></span>"),r.multiple||o.trigger("t:remove"),a},_removeFileEntry:function(t){var n,o=t.closest(".k-upload-files");t.remove(),n=e(".k-file",o),n.find("> .k-fail").length===n.length&&this._hideUploadButton(),0===n.length&&o.remove()},_fileAction:function(e,t){var n={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"};n.hasOwnProperty(t)&&(this._clearFileAction(e),e.append(this._renderAction(n[t],this.localization[t]).addClass("k-upload-action")))},_fileState:function(e,t){var n,o=this.localization,a={uploading:{cssClass:"k-loading",text:o.statusUploading},uploaded:{cssClass:"k-success",text:o.statusUploaded},failed:{cssClass:"k-fail",text:o.statusFailed}},r=a[t];r&&(n=e.children(".k-icon").text(r.text),n[0].className="k-icon "+r.cssClass)},_renderAction:function(t,n){return""!==t?e("<button type='button' class='k-button k-button-icontext'><span class='k-icon "+t+"'></span>"+n+"</button>"):e("<button type='button' class='k-button'>"+n+"</button>")},_clearFileAction:function(e){e.find(".k-upload-action").remove()},_onFileAction:function(t){var n,o,a,r,i=this;return i.wrapper.hasClass("k-state-disabled")||(n=e(t.target).closest(".k-upload-action"),o=n.find(".k-icon"),a=n.closest(".k-file"),r={files:a.data("fileNames")},o.hasClass("k-delete")?i.trigger(E,r)||a.trigger("t:remove",r.data):o.hasClass("k-cancel")?(i.trigger(C,r),a.trigger("t:cancel"),this._checkAllComplete()):o.hasClass("k-retry")&&a.trigger("t:retry")),!1},_onUploadSelected:function(){return this.wrapper.trigger("t:saveSelected"),!1},_onFileProgress:function(t,n){var o=e(".k-progress-status",t.target);0===o.length&&(o=e("<span class='k-progress'><span class='k-state-selected k-progress-status' style='width: 0;'></span></span>").appendTo(e(".k-filename",t.target)).find(".k-progress-status")),o.width(n+"%"),this.trigger(A,{files:m(t).data("fileNames"),percentComplete:n})},_onUploadSuccess:function(e,t,n){var o=m(e);this._fileState(o,"uploaded"),this.trigger(U,{files:o.data("fileNames"),response:t,operation:"upload",XMLHttpRequest:n}),this._supportsRemove()?this._fileAction(o,E):this._clearFileAction(o),this._checkAllComplete()},_onUploadError:function(e,t){var n=m(e);this._fileState(n,"failed"),this._fileAction(n,"retry"),this.trigger(S,{operation:"upload",files:n.data("fileNames"),XMLHttpRequest:t}),y("Server response: "+t.responseText),this._checkAllComplete()},_showUploadButton:function(){var t=e(".k-upload-selected",this.wrapper);0===t.length&&(t=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")),this.wrapper.append(t)},_hideUploadButton:function(){e(".k-upload-selected",this.wrapper).remove()},_onParentFormSubmit:function(){var t,n=this,o=n.element;o.trigger("t:abort"),o.value||(t=e(o),t.attr("disabled","disabled"),window.setTimeout(function(){t.removeAttr("disabled")},0))},_onParentFormReset:function(){e(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return"undefined"!=typeof FormData},_supportsMultiple:function(){var e=this._userAgent().indexOf("Windows")>-1;return!(_.support.browser.opera||_.support.browser.safari&&e)},_supportsDrop:function(){var e=this._userAgent().toLowerCase(),t=/chrome/.test(e),n=!t&&/safari/.test(e),o=n&&/windows/.test(e);return!o&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var t,n,o=this;e(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>"),t=o._ns,n=e(".k-dropzone",o.wrapper).append(e("<em>"+o.localization.dropFilesHere+"</em>")).on("dragenter"+t,c).on("dragover"+t,function(e){e.preventDefault()}).on("drop"+t,e.proxy(this._onDrop,this)),d(n,t,function(){n.addClass("k-dropzone-hovered")},function(){n.removeClass("k-dropzone-hovered")}),d(e(document),t,function(){n.addClass("k-dropzone-active")},function(){n.removeClass("k-dropzone-active")})},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(t,n,o,a){var r=this,i=r.options.async.removeField||"fileNames",s=e.extend(n,h());s[i]=t,jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:u,url:this.options.async.removeUrl,traditional:!0,data:s,success:o,error:a})},_wrapInput:function(e){return e.wrap("<div class='k-widget k-upload'><div class='k-button k-upload-button'></div></div>"),e.closest(".k-button").append("<span>"+this.localization.select+"</span>"),e.closest(".k-upload")},_checkAllComplete:function(){0===e(".k-file .k-icon.k-loading",this.wrapper).length&&this.trigger(R)}}),I=function(t){this.name="syncUploadModule",this.element=t.wrapper,this.upload=t,this.element.bind("t:select",e.proxy(this.onSelect,this)).bind("t:remove",e.proxy(this.onRemove,this)).closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};I.prototype={onSelect:function(t){var a,r=this.upload,i=e(t.target);r._addInput(i.clone().val("")),a=r._enqueueFile(n(i),{relatedInput:i,fileNames:o(i)}),r._fileAction(a,E)},onRemove:function(e){var t=m(e);t.data("relatedInput").remove(),this.upload._removeFileEntry(t)}},v=function(t){this.name="iframeUploadModule",this.element=t.wrapper,this.upload=t,this.iframes=[],this.element.bind("t:select",e.proxy(this.onSelect,this)).bind("t:cancel",e.proxy(this.onCancel,this)).bind("t:retry",e.proxy(this.onRetry,this)).bind("t:remove",e.proxy(this.onRemove,this)).bind("t:saveSelected",e.proxy(this.onSaveSelected,this)).bind("t:abort",e.proxy(this.onAbort,this))},q._frameId=0,v.prototype={onSelect:function(t){var n=this.upload,o=e(t.target),a=this.prepareUpload(o);n.options.async.autoUpload?this.performUpload(a):(n._supportsRemove()&&this.upload._fileAction(a,E),n._showUploadButton())},prepareUpload:function(t){var a,r,i,s=this.upload,l=e(s.element),p=s.options.async.saveField||t.attr("name");return s._addInput(t.clone().val("")),t.attr("name",p),a=this.createFrame(s.name+"_"+q._frameId++),this.registerFrame(a),r=this.createForm(s.options.async.saveUrl,a.attr("name")).append(l),i=s._enqueueFile(n(t),{frame:a,relatedInput:l,fileNames:o(t)}),a.data({form:r,file:i}),i},performUpload:function(t){var n,o,a,r={files:t.data("fileNames")},i=t.data("frame"),s=this.upload;if(s.trigger(x,r))s._removeFileEntry(i.data("file")),this.cleanupFrame(i),this.unregisterFrame(i);else{s._hideUploadButton(),i.appendTo(document.body),n=i.data("form").appendTo(document.body),r.data=e.extend({},r.data,h());for(o in r.data)a=n.find("input[name='"+o+"']"),0===a.length&&(a=e("<input>",{type:"hidden",name:o}).appendTo(n)),a.val(r.data[o]);s._fileAction(t,C),s._fileState(t,"uploading"),i.one("load",e.proxy(this.onIframeLoad,this)),n[0].submit()}},onSaveSelected:function(){var t=this;e(".k-file",this.element).each(function(){var n=e(this),o=f(n);o||t.performUpload(n)})},onIframeLoad:function(t){var n,o=e(t.target);try{n=o.contents().text()}catch(a){n="Error trying to get server response: "+a}this.processResponse(o,n)},processResponse:function(t,n){var o=t.data("file"),a=this,r={responseText:n};p(n,function(n){e.extend(r,{statusText:"OK",status:"200"}),o.trigger("t:progress",[100]),o.trigger("t:upload-success",[n,r]),a.cleanupFrame(t),a.unregisterFrame(t)},function(){e.extend(r,{statusText:"error",status:"500"}),o.trigger("t:upload-error",[r])})},onCancel:function(t){var n=e(t.target).data("frame");this.stopFrameSubmit(n),this.cleanupFrame(n),this.unregisterFrame(n),this.upload._removeFileEntry(n.data("file"))},onRetry:function(e){var t=m(e);this.performUpload(t)},onRemove:function(e,t){var n=m(e),o=n.data("frame");o?(this.unregisterFrame(o),this.upload._removeFileEntry(n),this.cleanupFrame(o)):l(n,this.upload,t)},onAbort:function(){var t=this.element,n=this;e.each(this.iframes,function(){e("input",this.data("form")).appendTo(t),n.stopFrameSubmit(this[0]),this.data("form").remove(),this.remove()}),this.iframes=[]},createFrame:function(t){return e("<iframe name='"+t+"'"+" id='"+t+"'"+" style='display:none;' />")},createForm:function(t,n){return e("<form enctype='multipart/form-data' method='POST' action='"+t+"'"+" target='"+n+"'"+"/>")},stopFrameSubmit:function(e){e.stop!==t?e.stop():e.document&&e.document.execCommand("Stop")},registerFrame:function(e){this.iframes.push(e)},unregisterFrame:function(t){this.iframes=e.grep(this.iframes,function(e){return e.attr("name")!=t.attr("name")})},cleanupFrame:function(e){var t=e.data("form");e.data("file").data("frame",null),setTimeout(function(){t.remove(),e.remove()},1)}},g=function(t){this.name="formDataUploadModule",this.element=t.wrapper,this.upload=t,this.element.bind("t:select",e.proxy(this.onSelect,this)).bind("t:cancel",e.proxy(this.onCancel,this)).bind("t:remove",e.proxy(this.onRemove,this)).bind("t:retry",e.proxy(this.onRetry,this)).bind("t:saveSelected",e.proxy(this.onSaveSelected,this)).bind("t:abort",e.proxy(this.onAbort,this))},g.prototype={onSelect:function(t,n){var o=this.upload,r=this,i=e(t.target),s=n?a(n):this.inputFiles(i),l=this.prepareUpload(i,s);e.each(l,function(){o.options.async.autoUpload?r.performUpload(this):(o._supportsRemove()&&o._fileAction(this,E),o._showUploadButton())})},prepareUpload:function(t,n){var o=this.enqueueFiles(n);return t.is("input")&&(e.each(o,function(){e(this).data("relatedInput",t)}),t.data("relatedFileEntries",o),this.upload._addInput(t.clone().val(""))),o},enqueueFiles:function(t){var n,o,a,r,i=this.upload,s=t.length,l=[];if(i.options.async.batch===!0)n=e.map(t,function(e){return e.name}).join(", "),r=i._enqueueFile(n,{fileNames:t}),r.data("files",t),l.push(r);else for(o=0;s>o;o++)a=t[o],n=a.name,r=i._enqueueFile(n,{fileNames:[a]}),r.data("files",[a]),l.push(r);return l},inputFiles:function(e){return o(e)},performUpload:function(t){var n,o=this.upload,a=this.createFormData(t.data("files")),r=new XMLHttpRequest,i={files:t.data("fileNames"),XMLHttpRequest:r};if(o.trigger(x,i))this.removeFileEntry(t);else{o._fileAction(t,C),o._hideUploadButton(),i.data=e.extend({},i.data,h());for(n in i.data)a.append(n,i.data[n]);o._fileState(t,"uploading"),this.postFormData(o.options.async.saveUrl,a,t,r)}},onSaveSelected:function(){var t=this;e(".k-file",this.element).each(function(){var n=e(this),o=f(n);o||t.performUpload(n)})},onCancel:function(e){var t=m(e);this.stopUploadRequest(t),this.removeFileEntry(t)},onRetry:function(e){var t=m(e);this.performUpload(t)},onRemove:function(e,t){var n=m(e);n.children(".k-icon").is(".k-success")?l(n,this.upload,t):this.removeFileEntry(n)},postFormData:function(e,t,n,o){var a=this;n.data("request",o),o.addEventListener("load",function(e){a.onRequestSuccess.call(a,e,n)},!1),o.addEventListener(S,function(e){a.onRequestError.call(a,e,n)},!1),o.upload.addEventListener("progress",function(e){a.onRequestProgress.call(a,e,n)},!1),o.open("POST",e),o.withCredentials="true",o.send(t)},createFormData:function(e){var t,n=new FormData,o=this.upload,a=e.length;for(t=0;a>t;t++)n.append(o.options.async.saveField||o.name,e[t].rawFile);return n},onRequestSuccess:function(e,t){function n(){t.trigger("t:upload-error",[o])}var o=e.target,a=this;o.status>=200&&299>=o.status?p(o.responseText,function(e){t.trigger("t:progress",[100]),t.trigger("t:upload-success",[e,o]),a.cleanupFileEntry(t)},n):n()},onRequestError:function(e,t){var n=e.target;t.trigger("t:upload-error",[n])},cleanupFileEntry:function(t){var n=t.data("relatedInput"),o=!0;n&&(e.each(n.data("relatedFileEntries")||[],function(){this.parent().length>0&&this[0]!=t[0]&&(o=o&&this.children(".k-icon").is(".k-success"))}),o&&n.remove())},removeFileEntry:function(e){this.cleanupFileEntry(e),this.upload._removeFileEntry(e)},onRequestProgress:function(e,t){var n=Math.round(100*e.loaded/e.total);t.trigger("t:progress",[n])},stopUploadRequest:function(e){e.data("request").abort()}},_.ui.plugin(q)})(window.kendo.jQuery);;(function(t,i){function n(t){var i={top:0,right:0,bottom:0,left:0};return"number"==typeof t?i[Mi]=i[Vi]=i[hi]=i[ji]=t:(i[Mi]=t[Mi]||0,i[Vi]=t[Vi]||0,i[hi]=t[hi]||0,i[ji]=t[ji]||0),i}function e(t,i){return ti.extend({init:function(t){this.view=t},decorate:function(n){var e,o=this,r=o.view,a=n.options.animation;return a&&a.type===t&&r.options.transitions&&(e=n._animation=new i(n,a),r.animations.push(e)),n}})}function o(i,n,e){var r,s,c,u,f,d,h,p,x,m,g,v=a(n),y=i+v+e,b=o.cache.get(y),w={width:0,height:0,baseline:0};if(b)return b;r=o.measureBox,s=o.baselineMarker.cloneNode(!1),r&&r.parentNode||(r=o.measureBox=t("<div style='position: absolute; top: -4000px; left: -4000px;line-height: normal; visibility: hidden;' />").appendTo(Y.body)[0]);for(c in n)r.style[c]=n[c];return r.innerHTML=i,r.appendChild(s),(i+"").length&&(w={width:r.offsetWidth-fi,height:r.offsetHeight,baseline:s.offsetTop+fi}),e&&(u=w.width,f=w.height,d=u/2,h=f/2,p=l(0,0,d,h,e),x=l(u,0,d,h,e),m=l(u,f,d,h,e),g=l(0,f,d,h,e),w.normalWidth=u,w.normalHeight=f,w.width=ri.max(p.x,x.x,m.x,g.x)-ri.min(p.x,x.x,m.x,g.x),w.height=ri.max(p.y,x.y,m.y,g.y)-ri.min(p.y,x.y,m.y,g.y)),o.cache.put(y,w),w}function r(t,i){var n,e,o,r=i-t;if(0===r){if(0===i)return.1;r=ri.abs(i)}return n=ri.pow(10,ri.floor(ri.log(r)/ri.log(10))),e=m(r/n,yi),o=1,o=1.904762>e?.2:4.761904>e?.5:9.523809>e?1:2,m(n*o,yi)}function a(t){var i,n=[];for(i in t)n.push(i+t[i]);return n.sort().join(" ")}function s(){return $.current.alloc()}function l(t,i,n,e,o){var r=o*wi;return{x:n+(t-n)*ri.cos(r)+(i-e)*ri.sin(r),y:e-(t-n)*ri.sin(r)+(i-e)*ri.cos(r)}}function c(i,n){if(i.x1==n.x1&&i.y1==n.y1&&i.x2==n.x2&&i.y2==n.y2)return n;var e=ri.min(i.x1,n.x1),o=ri.max(i.x1,n.x1),r=ri.min(i.x2,n.x2),a=ri.max(i.x2,n.x2),s=ri.min(i.y1,n.y1),l=ri.max(i.y1,n.y1),c=ri.min(i.y2,n.y2),u=ri.max(i.y2,n.y2),f=[];return f[0]=A(o,s,r,l),f[1]=A(e,l,o,c),f[2]=A(r,l,a,c),f[3]=A(o,c,r,u),i.x1==e&&i.y1==s||n.x1==e&&n.y1==s?(f[4]=A(e,s,o,l),f[5]=A(r,c,a,u)):(f[4]=A(r,s,a,l),f[5]=A(e,c,o,u)),t.grep(f,function(t){return t.height()>0&&t.width()>0})[0]}function u(){return Y.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}function f(t,i){return-1!=oi(t,i)}function d(t){return t[t.length-1]}function h(t,i){[].push.apply(t,i)}function p(t,i){return m(ri.ceil(t/i)*i,yi)}function x(t,i){return m(ri.floor(t/i)*i,yi)}function m(t,i){var n=ri.pow(10,i||0);return ri.round(t*n)/n}function g(t,i,n){return m(t+(i-t)*n,xi)}function v(t){return typeof t!==Ri}function y(t,i){return t-i}function b(t,i,n){var e,o=t.length;for(e=0;o>e;e++)t[e][i]=n}function w(t,i){return t.match(Ti)?Z.format.apply(this,arguments):Z.toString(i,t)}function k(t){return Y.getElementById(t)}function T(t){for(var i=t.parentNode;i&&i.parentNode;)i=i.parentNode;return i!==Y}var A,I,_,z,B,j,L,P,C,S,E,D,V,U,M,R,O,F,G,N,q,W,H,X,$,K,Q,Y=document,Z=window.kendo,J=Z.dataviz={},ti=Z.Class,ii=Z.template,ni=t.map,ei=t.noop,oi=t.inArray,ri=Math,ai=Z.deepExtend,si=function(t){return ii(t,{useWithBlock:!1,paramName:"d"})},li="k-",ci=10,ui="axisLabelClick",fi=1,di="#000",hi="bottom",pi="center",xi=3,mi="clip",gi="12px sans-serif",vi=400,yi=6,bi=600,wi=ri.PI/180,ki="fadeIn",Ti=/\{\d+:?/,Ai="height",Ii="k",_i=1e3,zi=1e4,Bi=600,ji="left",Li="linear",Pi=Number.MAX_VALUE,Ci=-Number.MAX_VALUE,Si="none",Ei="outside",Di="radial",Vi="right",Ui="swing",Mi="top",Ri="undefined",Oi=/([A-Z])/g,Fi="width",Gi="#fff",Ni="x",qi="y",Wi=.2,Hi=function(t,n){var e=this;return e instanceof Hi?(e.x=m(t||0,xi),e.y=m(n||0,xi),i):new Hi(t,n)};Hi.fn=Hi.prototype={clone:function(){var t=this;return new Hi(t.x,t.y)}},A=function(t,n,e,o){var r=this;return r instanceof A?(r.x1=t||0,r.x2=e||0,r.y1=n||0,r.y2=o||0,i):new A(t,n,e,o)},A.fn=A.prototype={width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1},translate:function(t,i){var n=this;return n.x1+=t,n.x2+=t,n.y1+=i,n.y2+=i,n},move:function(t,i){var n=this,e=n.height(),o=n.width();return n.x1=t,n.y1=i,n.x2=n.x1+o,n.y2=n.y1+e,n},wrap:function(t){var i=this;return i.x1=ri.min(i.x1,t.x1),i.y1=ri.min(i.y1,t.y1),i.x2=ri.max(i.x2,t.x2),i.y2=ri.max(i.y2,t.y2),i},wrapPoint:function(t){return this.wrap(new A(t.x,t.y,t.x,t.y)),this},snapTo:function(t,i){var n=this;return i!=Ni&&i||(n.x1=t.x1,n.x2=t.x2),i!=qi&&i||(n.y1=t.y1,n.y2=t.y2),n},alignTo:function(t,i){var n,e,o=this,r=o.height(),a=o.width(),s=i==Mi||i==hi?qi:Ni,l=s==qi?r:a;return i===pi?(n=t.center(),e=o.center(),o.x1+=n.x-e.x,o.y1+=n.y-e.y):o[s+1]=i===Mi||i===ji?t[s+1]-l:t[s+2],o.x2=o.x1+a,o.y2=o.y1+r,o},shrink:function(t,i){var n=this;return n.x2-=t,n.y2-=i,n},expand:function(t,i){return this.shrink(-t,-i),this},pad:function(t){var i=this,e=n(t);return i.x1-=e.left,i.x2+=e.right,i.y1-=e.top,i.y2+=e.bottom,i},unpad:function(t){var i=this,e=n(t);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,i.pad(e)},clone:function(){var t=this;return new A(t.x1,t.y1,t.x2,t.y2)},center:function(){var t=this;return{x:t.x1+t.width()/2,y:t.y1+t.height()/2}},containsPoint:function(t){var i=this;return t.x>=i.x1&&t.x<=i.x2&&t.y>=i.y1&&t.y<=i.y2},points:function(){var t=this;return[new Hi(t.x1,t.y1),new Hi(t.x2,t.y1),new Hi(t.x2,t.y2),new Hi(t.x1,t.y2)]},getHash:function(){var t=this;return[t.x1,t.y1,t.x2,t.y2].join(",")}},I=ti.extend({init:function(t,i,n,e,o){var r=this;r.c=t,r.ir=i,r.r=n,r.startAngle=e,r.angle=o},clone:function(){var t=this;return new I(t.c,t.ir,t.r,t.startAngle,t.angle)},middle:function(){return this.startAngle+this.angle/2},radius:function(t,i){var n=this;return i?n.ir=t:n.r=t,n},point:function(t,i){var n=this,e=t*wi,o=ri.cos(e),r=ri.sin(e),a=i?n.ir:n.r,s=n.c.x-o*a,l=n.c.y-r*a;return new Hi(s,l)},getBBox:function(){var t,i,n,e=this,o=new A(Pi,Pi,Ci,Ci),r=m(e.startAngle%360),a=m((r+e.angle)%360),s=e.ir,l=[0,90,180,270,r,a].sort(y),c=oi(r,l),u=oi(a,l);for(t=r==a?l:u>c?l.slice(c,u+1):[].concat(l.slice(0,u+1),l.slice(c,l.length)),i=0;t.length>i;i++)n=e.point(t[i]),o.wrapPoint(n),o.wrapPoint(n,s);return s||o.wrapPoint(e.c),o},expand:function(t){return this.r+=t,this}}),_=I.extend({init:function(t,i,n,e){I.fn.init.call(this,t,0,i,n,e)},expand:function(t){return I.fn.expand.call(this,t)},clone:function(){var t=this;return new _(t.c,t.r,t.startAngle,t.angle)},radius:function(t){return I.fn.radius.call(this,t)},point:function(t){return I.fn.point.call(this,t)}}),z=ti.extend({init:function(t){ai(this,{height:40,rotation:90,radius:10,arcAngle:10},t)}}),B=ti.extend({init:function(t){var i=this;i.children=[],i.options=ai({},i.options,t)},reflow:function(t){var i,n,e,o=this,r=o.children;for(n=0;r.length>n;n++)e=r[n],e.reflow(t),i=i?i.wrap(e.box):e.box.clone();o.box=i||t},getViewElements:function(t){var i,n,e,o=this,r=o.options,a=r.modelId,s=[],l=o.children,c=l.length;for(n=0;c>n;n++)e=l[n],e.discoverable||(e.options=e.options||{},e.options.modelId=a),s.push.apply(s,e.getViewElements(t));return o.discoverable&&(i=o.getRoot(),i&&(i.modelMap[a]=o)),s},enableDiscovery:function(){var t=this,i=t.options;i.modelId=$.current.alloc(),t.discoverable=!0},destroy:function(){var t,n=this,e=n.children,o=n.getRoot(),r=n.options.modelId;for(o&&r&&(o.modelMap[r]&&$.current.free(r),o.modelMap[r]=i),t=0;e.length>t;t++)e[t].destroy()},getRoot:function(){var t=this.parent;return t?t.getRoot():null},translateChildren:function(t,i){var n,e=this,o=e.children,r=o.length;for(n=0;r>n;n++)o[n].box.translate(t,i)},append:function(){var t,i=this,n=arguments.length;for(h(i.children,arguments),t=0;n>t;t++)arguments[t].parent=i}}),j=B.extend({init:function(t){var i=this;i.modelMap={},B.fn.init.call(i,t)},options:{width:bi,height:vi,background:Gi,border:{color:di,width:0},margin:n(5),zIndex:-2},reflow:function(){var t,i=this,n=i.options,e=i.children,o=new A(0,0,n.width,n.height);for(i.box=o.unpad(n.margin),t=0;e.length>t;t++)e[t].reflow(o),o=c(o,e[t].box)},getViewElements:function(t){var i=this,n=i.options,e=n.border||{},o=i.box.clone().pad(n.margin).unpad(e.width),r=[t.createRect(o,{stroke:e.width?e.color:"",strokeWidth:e.width,dashType:e.dashType,fill:n.background,fillOpacity:n.opacity,zIndex:n.zIndex})];return r.concat(B.fn.getViewElements.call(i,t))},getRoot:function(){return this}}),L=B.extend({init:function(t){B.fn.init.call(this,t)},options:{align:ji,vAlign:Mi,margin:{},padding:{},border:{color:di,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0},reflow:function(t){function i(){r.align(t,Ni,a.align),r.align(t,qi,a.vAlign),r.paddingBox=e.clone().unpad(s).unpad(c)}var e,o,r=this,a=r.options,s=n(a.margin),l=n(a.padding),c=a.border.width;B.fn.reflow.call(r,t),e=a.width&&a.height?r.box=new A(0,0,a.width,a.height):r.box,a.shrinkToFit?(i(),o=r.contentBox=r.paddingBox.clone().unpad(l)):(o=r.contentBox=e.clone(),e.pad(l).pad(c).pad(s),i()),r.translateChildren(e.x1-o.x1+s.left+c+l.left,e.y1-o.y1+s.top+c+l.top)},align:function(t,i,n){var e=this,o=e.box,r=i+1,a=i+2,s=i===Ni?Fi:Ai,l=o[s]();f(n,[ji,Mi])?(o[r]=t[r],o[a]=o[r]+l):f(n,[Vi,hi])?(o[a]=t[a],o[r]=o[a]-l):n==pi&&(o[r]=t[r]+(t[s]()-l)/2,o[a]=o[r]+l)},hasBox:function(){var t=this.options;return t.border.width||t.background},getViewElements:function(t,i){var n=this,e=n.options,o=[];return e.visible?(n.hasBox()&&o.push(t.createRect(n.paddingBox,ai(n.elementStyle(),i))),o.concat(B.fn.getViewElements.call(n,t))):[]},elementStyle:function(){var t=this,i=t.options,n=i.border||{};return{id:i.id,stroke:n.width?n.color:"",strokeWidth:n.width,dashType:n.dashType,strokeOpacity:i.opacity,fill:i.background,fillOpacity:i.opacity,animation:i.animation,zIndex:i.zIndex,data:{modelId:i.modelId}}}}),P=B.extend({init:function(t,i){var n=this;B.fn.init.call(n,i),n.content=t,n.reflow(new A)},options:{font:gi,color:di,align:ji,vAlign:""},reflow:function(t){var i,n,e=this,r=e.options;i=r.size=o(e.content,{font:r.font},r.rotation),e.baseline=i.baseline,r.align==ji?e.box=new A(t.x1,t.y1,t.x1+i.width,t.y1+i.height):r.align==Vi?e.box=new A(t.x2-i.width,t.y1,t.x2,t.y1+i.height):r.align==pi&&(n=(t.width()-i.width)/2,e.box=new A(m(t.x1+n,xi),t.y1,m(t.x2-n,xi),t.y1+i.height)),r.vAlign==pi?(n=(t.height()-i.height)/2,e.box=new A(e.box.x1,t.y1+n,e.box.x2,t.y2-n)):r.vAlign==hi?e.box=new A(e.box.x1,t.y2-i.height,e.box.x2,t.y2):r.vAlign==Mi&&(e.box=new A(e.box.x1,t.y1,e.box.x2,t.y1+i.height))},getViewElements:function(t){var i=this,n=i.options;return B.fn.getViewElements.call(this,t),[t.createText(i.content,ai({},n,{x:i.box.x1,y:i.box.y1,baseline:i.baseline,data:{modelId:n.modelId}}))]}}),C=L.extend({init:function(t,i){var n,e=this;L.fn.init.call(e,i),i=e.options,n=new P(t,ai({},i,{align:ji,vAlign:Mi})),e.append(n),e.hasBox()&&(n.options.id=s()),e.reflow(new A)}}),S=B.extend({init:function(t){var i=this;B.fn.init.call(i,t),t=i.options,i.append(new C(t.text,ai({},t,{vAlign:t.position})))},options:{color:di,position:Mi,align:pi,margin:n(5),padding:n(5)},reflow:function(t){var i=this;B.fn.reflow.call(i,t),i.box.snapTo(t,Ni)}}),S.buildTitle=function(t,i,n){var e;return"string"==typeof t&&(t={text:t}),t=ai({visible:!0},n,t),t&&t.visible&&t.text&&(e=new S(t),i.append(e)),e},E=C.extend({init:function(t,i,n,e){var o=this,r=t;e.template?(o.template=ii(e.template),r=o.template({value:t,dataItem:n})):e.format&&(r=o.formatValue(t,e)),o.text=r,o.value=t,o.index=i,o.dataItem=n,C.fn.init.call(o,r,ai({id:s()},e)),o.enableDiscovery()},formatValue:function(t,i){return w(i.format,t)},click:function(i,n){var e=this;i.trigger(ui,{element:t(n.target),value:e.value,text:e.text,index:e.index,dataItem:e.dataItem,axis:e.parent.options})}}),D=B.extend({init:function(t){var i=this;B.fn.init.call(i,t),i.options.visible||(i.options=ai({},i.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),i.options.minorTicks=ai({},{color:i.options.line.color,width:i.options.line.width,visible:i.options.minorTickType!=Si},i.options.minorTicks,{size:i.options.minorTickSize,align:i.options.minorTickType}),i.options.majorTicks=ai({},{color:i.options.line.color,width:i.options.line.width,visible:i.options.majorTickType!=Si},i.options.majorTicks,{size:i.options.majorTickSize,align:i.options.majorTickType}),i.createLabels(),i.createTitle()},options:{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:di,visible:!0},title:{visible:!0,position:pi},majorTicks:{align:Ei,size:4},minorTicks:{align:Ei,size:3},axisCrossingValue:0,majorTickType:Ei,minorTickType:Si,minorGridLines:{visible:!1,width:1,color:di},margin:5,visible:!0,reverse:!1,justified:!0,_alignLines:!0},createLabels:function(){var t,i,n,e=this,o=e.options,r=o.vertical?Vi:pi,a=ai({},o.labels,{align:r,zIndex:o.zIndex,modelId:o.modelId}),s=a.step;if(e.labels=[],a.visible)for(n=e.labelsCount(),i=a.skip;n>i;i+=s)t=e.createAxisLabel(i,a),e.append(t),e.labels.push(t)},destroy:function(){var t,i=this,n=i.labels;for(t=0;n.length>t;t++)n[t].destroy();B.fn.destroy.call(i)},lineBox:function(){var t=this,i=t.options,n=t.box,e=i.vertical,o=t.labels,r=e?Ai:Fi,a=i.justified,s=i.labels.mirror,l=s?n.x1:n.x2,c=s?n.y2:n.y1,u=0,f=i.line.width;return a&&o.length>1&&(u=o[0].box[r]()/2,f=d(o).box[r]()/2),e?new A(l,n.y1+u,l,n.y2-f):new A(n.x1+u,c,n.x2-f,c)},createTitle:function(){var t,i=this,n=i.options,e=ai({rotation:n.vertical?-90:0,text:"",zIndex:1},n.title);e.visible&&e.text&&(t=new C(e.text,e),i.append(t),i.title=t)},renderTicks:function(t){function i(i,a,f,d,h){var p,x=h/a,m=i.length;if(d)for(p=0;m>p;p++)0!==p%x&&(n=u?c.x2:c.x2-f.size,e=u?c.y1-f.size:c.y1,o=i[p],r={strokeWidth:f.width,stroke:f.color,align:l._alignLines},l.vertical?s.push(t.createLine(n,o,n+f.size,o,r)):s.push(t.createLine(o,e,o,e+f.size,r)))}var n,e,o,r,a=this,s=[],l=a.options,c=a.lineBox(),u=l.labels.mirror;return i(a.getMajorTickPositions(),l.majorUnit,l.majorTicks,l.majorTicks.visible),i(a.getMinorTickPositions(),l.minorUnit,l.minorTicks,l.minorTicks.visible,l.majorTicks.visible?l.majorUnit:0),s},getViewElements:function(t){var i,n=this,e=n.options,o=e.line,r=n.lineBox(),a=B.fn.getViewElements.call(n,t);return o.width>0&&o.visible&&(i={strokeWidth:o.width,stroke:o.color,dashType:o.dashType,zIndex:o.zIndex,align:e._alignLines},a.push(t.createLine(r.x1,r.y1,r.x2,r.y2,i)),h(a,n.renderTicks(t))),h(a,n.renderPlotBands(t)),a},getActualTickSize:function(){var t=this,i=t.options,n=0;return i.majorTicks.visible&&i.minorTicks.visible?n=ri.max(i.majorTicks.size,i.minorTicks.size):i.majorTicks.visible?n=i.majorTicks.size:i.minorTicks.visible&&(n=i.minorTicks.size),n},renderPlotBands:function(t){var i,n,e,o,r=this,a=r.options,s=a.plotBands||[],l=a.vertical,c=[],u=r.plotArea;return s.length&&(c=ni(s,function(a){return e=v(a.from)?a.from:Ci,o=v(a.to)?a.to:Pi,l?(i=u.axisX.lineBox(),n=r.getSlot(a.from,a.to)):(i=r.getSlot(a.from,a.to),n=u.axisY.lineBox()),t.createRect(new A(i.x1,n.y1,i.x2,n.y2),{fill:a.color,fillOpacity:a.opacity,zIndex:-1})})),c},renderGridLines:function(t,n){var e=this,o=e.plotArea.options.modelId,r=e.options,a=r.vertical,s=n.lineBox(),l=s[a?"x1":"y1"],c=s[a?"x2":"y2"],u=e.getMajorTickPositions(),d=[],h=function(t,i){return{pos:t,options:i}};return r.majorGridLines.visible&&(d=ni(u,function(t){return h(t,r.majorGridLines)})),r.minorGridLines.visible&&(d=d.concat(ni(e.getMinorTickPositions(),function(t){return r.majorGridLines.visible?f(t,u)?i:h(t,r.minorGridLines):h(t,r.minorGridLines)}))),ni(d,function(i){var e={data:{modelId:o},strokeWidth:i.options.width,stroke:i.options.color,dashType:i.options.dashType,zIndex:-1},r=m(i.pos),s=n.lineBox();if(a){if(!n.options.line.visible||s.y1!==r)return t.createLine(l,r,c,r,e)}else if(!n.options.line.visible||s.x1!==r)return t.createLine(r,l,r,c,e)})},reflow:function(t){var i,n,e=this,o=e.options,r=o.vertical,a=e.labels,s=a.length,l=e.getActualTickSize()+o.margin,c=0,u=0,f=e.title;for(n=0;s>n;n++)i=a[n],c=ri.max(c,i.box.height()),u=ri.max(u,i.box.width());f&&(r?u+=f.box.width():c+=f.box.height()),e.box=r?new A(t.x1,t.y1,t.x1+u+l,t.y2):new A(t.x1,t.y1,t.x2,t.y1+c+l),e.arrangeTitle(),e.arrangeLabels(u,c)},arrangeLabels:function(){var t,i,n,e,o,r,a,s,l,c,u,f=this,d=f.options,h=d.labels,p=f.labels,x=!d.justified,m=d.vertical,g=f.lineBox(),v=d.labels.mirror,y=f.getMajorTickPositions(),b=f.getActualTickSize()+d.margin;for(n=0;p.length>n;n++)s=p[n],l=h.skip+h.step*n,c=m?s.box.height():s.box.width(),u=y[l]-c/2,m?(x&&(e=y[l],o=y[l+1],r=e+(o-e)/2,u=r-c/2),a=g.x2,v?a+=b:a-=b+s.box.width(),t=s.box.move(a,u)):(x?(e=y[l],o=y[l+1]):(e=u,o=u+c),i=g.y1,v?i-=b+s.box.height():i+=b,t=new A(e,i,o,i+s.box.height())),s.reflow(t)},arrangeTitle:function(){var t=this,i=t.options,n=i.labels.mirror,e=i.vertical,o=t.title;o&&(e?(o.options.align=n?Vi:ji,o.options.vAlign=o.options.position):(o.options.align=o.options.position,o.options.vAlign=n?Mi:hi),o.reflow(t.box))},alignTo:function(t){var i=this,n=t.lineBox(),e=i.options.vertical,o=e?qi:Ni;i.box.snapTo(n,o),e?i.box.shrink(0,i.lineBox().height()-n.height()):i.box.shrink(i.lineBox().width()-n.width(),0),i.box[o+1]-=i.lineBox()[o+1]-n[o+1],i.box[o+2]-=i.lineBox()[o+2]-n[o+2]}}),V=D.extend({init:function(t,i,n){var e=this,o=e.initDefaults(t,i,n);D.fn.init.call(e,o)},options:{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:di},zIndex:1},initDefaults:function(t,i,n){var e,o=this,a=n.narrowRange,s=o.autoAxisMin(t,i,a),l=o.autoAxisMax(t,i,a),c=r(s,l),u={majorUnit:c};return 0>s&&(s-=c),l>0&&(l+=c),u.min=x(s,c),u.max=p(l,c),n&&(e=v(n.min)||v(n.max),e&&n.min===n.max&&(n.min>0?n.min=0:n.max=1),n.majorUnit?(u.min=x(u.min,n.majorUnit),u.max=p(u.max,n.majorUnit)):e&&(n=ai(u,n),u.majorUnit=r(n.min,n.max))),u.minorUnit=(n.majorUnit||u.majorUnit)/5,ai(u,n)},range:function(){var t=this.options;return{min:t.min,max:t.max}},autoAxisMax:function(t,i,n){var e,o;if(!t&&!i)return 1;if(0>=t&&0>=i){if(i=t==i?0:i,o=ri.abs((i-t)/i),!n&&o>Wi)return 0;e=ri.min(0,i-(t-i)/2)}else t=t==i?0:t,e=i;return e},autoAxisMin:function(t,i,n){var e,o;if(!t&&!i)return 0;if(t>=0&&i>=0){if(t=t==i?0:t,o=(i-t)/i,!n&&o>Wi)return 0;e=ri.max(0,t-(i-t)/2)}else i=t==i?0:i,e=t;return e},getDivisions:function(t){var i=this.options,n=i.max-i.min;return ri.floor(m(n/t,xi))+1},getTickPositions:function(t){var i,n=this,e=n.options,o=e.vertical,r=e.reverse,a=n.lineBox(),s=o?a.height():a.width(),l=e.max-e.min,c=s/l,u=t*c,f=n.getDivisions(t),d=(o?-1:1)*(r?-1:1),h=1===d?1:2,p=a[(o?qi:Ni)+h],x=[];for(i=0;f>i;i++)x.push(m(p,xi)),p+=u*d;return x},getMajorTickPositions:function(){var t=this;return t.getTickPositions(t.options.majorUnit)},getMinorTickPositions:function(){var t=this;return t.getTickPositions(t.options.minorUnit)},getSlot:function(t,i){var n,e,o=this,r=o.options,a=r.reverse,s=r.vertical,l=s?qi:Ni,c=o.lineBox(),u=c[l+(a?2:1)],f=s?c.height():c.width(),d=a?-1:1,h=d*(f/(r.max-r.min)),p=new A(c.x1,c.y1,c.x1,c.y1);return v(t)||(t=i||0),v(i)||(i=t||0),t=ri.max(ri.min(t,r.max),r.min),i=ri.max(ri.min(i,r.max),r.min),s?(n=r.max-ri.max(t,i),e=r.max-ri.min(t,i)):(n=ri.min(t,i)-r.min,e=ri.max(t,i)-r.min),p[l+1]=u+h*(a?e:n),p[l+2]=u+h*(a?n:e),p},getValue:function(t){var i,n=this,e=n.options,o=e.reverse,r=e.vertical,a=1*e.max,s=1*e.min,l=r?qi:Ni,c=n.lineBox(),u=c[l+(o?2:1)],f=r?c.height():c.width(),d=o?-1:1,h=d*(t[l]-u),p=(a-s)/f,x=h*p;return 0>h||h>f?null:(i=r?a-x:s+x,m(i,yi))},translateRange:function(t){var i=this,n=i.options,e=i.lineBox(),o=n.vertical,r=n.reverse,a=o?e.height():e.width(),s=n.max-n.min,l=a/s,c=m(t/l,yi);return!o&&!r||o&&r||(c=-c),{min:n.min+c,max:n.max+c}},scaleRange:function(t){var i=this,n=i.options,e=-t*n.majorUnit;return{min:n.min-e,max:n.max+e}},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(t,i){var n=this,e=n.options,o=m(e.min+t*e.majorUnit,yi);return new E(o,t,null,i)}}),U=ti.extend({init:function(t){var i=this;i.children=[],i.options=ai({},i.options,t)},render:function(){return this.template(this)},renderContent:function(){var t,i=this,n="",e=i.sortChildren(),o=e.length;for(t=0;o>t;t++)n+=e[t].render();return n},sortChildren:function(){var t,i,n=this,e=n.children;for(i=0,t=e.length;t>i;i++)e[i]._childIndex=i;return e.slice(0).sort(n.compareChildren)},refresh:t.noop,compareChildren:function(t,i){var n=t.options.zIndex||0,e=i.options.zIndex||0;return n!==e?n-e:t._childIndex-i._childIndex},renderId:function(){var t=this,i="";return t.options.id&&(i=t.renderAttr("id",t.options.id)),i},renderAttr:function(t,i){return v(i)?" "+t+"='"+i+"' ":""},renderDataAttributes:function(){var t,i,n=this,e=n.options.data,o="";for(t in e)i="data-"+t.replace(Oi,"-$1").toLowerCase(),o+=n.renderAttr(i,e[t]);return o}}),M=U.extend({init:function(t){var i=this;U.fn.init.call(i,t),i.definitions={},i.decorators=[],i.animations=[]},destroy:function(){for(var t=this.animations;t.length>0;)t.shift().destroy()},renderDefinitions:function(){var t,i=this.definitions,n="";for(t in i)i.hasOwnProperty(t)&&(n+=i[t].render());return n},decorate:function(t){var i,n,e=this.decorators,o=e.length;for(i=0;o>i;i++)n=e[i],this._decorateChildren(n,t),t=n.decorate.call(n,t);return t},_decorateChildren:function(t,i){var n,e=this,o=i.children,r=o.length;for(n=0;r>n;n++)e._decorateChildren(t,o[n]),o[n]=t.decorate.call(t,o[n])},setupAnimations:function(){for(var t=0;this.animations.length>t;t++)this.animations[t].setup()},playAnimations:function(){for(var t=0;this.animations.length>t;t++)this.animations[t].play()},buildGradient:function(t){var i,n,e,o=this,r=o._gradientCache;return r||(r=o._gradientCache=[]),t&&(i=a(t),n=r[i],e=J.Gradients[t.gradient],!n&&e&&(n=ai({id:s()},e,t),r[i]=n)),n},setDefaults:function(t){var i=this.options;return t=t||{},v(t.inline)||(t.inline=i.inline),v(t.align)||(t.align=i.align),t}}),J.Gradients={glass:{type:Li,rotation:0,stops:[{offset:0,color:Gi,opacity:0},{offset:.25,color:Gi,opacity:.3},{offset:1,color:Gi,opacity:0}]},sharpBevel:{type:Di,stops:[{offset:0,color:Gi,opacity:.55},{offset:.65,color:Gi,opacity:0},{offset:.95,color:Gi,opacity:.25}]},roundedBevel:{type:Di,stops:[{offset:.33,color:Gi,opacity:.06},{offset:.83,color:Gi,opacity:.2},{offset:.95,color:Gi,opacity:0}]},roundedGlass:{type:Di,supportVML:!1,stops:[{offset:0,color:Gi,opacity:0},{offset:.5,color:Gi,opacity:.3},{offset:.99,color:Gi,opacity:0}]},sharpGlass:{type:Di,supportVML:!1,stops:[{offset:0,color:Gi,opacity:.2},{offset:.15,color:Gi,opacity:.15},{offset:.17,color:Gi,opacity:.35},{offset:.85,color:Gi,opacity:.05},{offset:.87,color:Gi,opacity:.15},{offset:.99,color:Gi,opacity:0}]}},R=ti.extend({init:function(t,i){var n=this;n.options=ai({},n.options,i),n.element=t},options:{duration:Bi,easing:Ui},play:function(){var i,n,e,o,r,a=this,s=a.options,l=a.element,c=l.options.id,u=s.delay||0,f=+new Date+u,d=s.duration,h=f+d,p=t.easing[s.easing];setTimeout(function(){var t=function(){a._stopped||(n=+new Date,e=ri.min(n-f,d),o=e/d,r=p(o,e,0,1,d),a.step(r),(!i||T(i))&&(i=k(c)),l.refresh(i),h>n?J.requestFrame(t):a.destroy())};t()},u)},abort:function(){this._stopped=!0},destroy:function(){this.abort()},setup:ei,step:ei}),O=R.extend({options:{duration:200,easing:Li},setup:function(){var t=this,i=t.element.options;t.targetFillOpacity=i.fillOpacity,t.targetStrokeOpacity=i.strokeOpacity,i.fillOpacity=i.strokeOpacity=0},step:function(t){var i=this,n=i.element.options;n.fillOpacity=t*i.targetFillOpacity,n.strokeOpacity=t*i.targetStrokeOpacity}}),F=R.extend({options:{size:0,easing:Li},setup:function(){var t=this.element.points;t[1].x=t[2].x=t[0].x},step:function(t){var i=this.options,n=g(0,i.size,t),e=this.element.points;e[1].x=e[2].x=e[0].x+n},destroy:function(){R.fn.destroy.call(this),this.element.destroy()}}),G=R.extend({options:{easing:Li,duration:900},setup:function(){var t,i,n=this,e=n.element,o=e.options,r=n.options,a=r.center;o.rotation&&(t=r.startAngle,i=o.rotation[0],r.duration=ri.max(1e3*(ri.abs(t-i)/r.speed),1),n.endState=i,o.rotation=[t,a.x,a.y])},step:function(t){var i=this,n=i.element;n.options.rotation&&(n.options.rotation[0]=g(i.options.startAngle,i.endState,t))}}),N=R.extend({options:{easing:Ui},setup:function(){var t,i=this,n=i.element,e=n.points,o=n.options,r=o.vertical?qi:Ni,a=o.stackBase,s=o.aboveAxis,l=i.endState={top:e[0].y,right:e[1].x,bottom:e[3].y,left:e[0].x};t=r===qi?v(a)?a:l[s?hi:Mi]:v(a)?a:l[s?ji:Vi],i.startPosition=t,b(e,r,t)},step:function(t){var i=this,n=i.startPosition,e=i.endState,o=i.element,r=o.points;o.options.vertical?(r[0].y=r[1].y=g(n,e.top,t),r[2].y=r[3].y=g(n,e.bottom,t)):(r[0].x=r[3].x=g(n,e.left,t),r[1].x=r[2].x=g(n,e.right,t))}}),q=R.extend({options:{easing:Ui,duration:1e3},setup:function(){var t,i,n,e=this,o=e.element,r=o.points,a=o.options.animation,s=a.vertical,l=a.reverse,c=e.axis=s?"y":"x",u=e.options.endPosition,f=e.initialState={top:r[0].y,right:r[1].x,bottom:r[3].y,left:r[0].x},d=!v(e.options.endPosition);s?(n=l?"y2":"y1",t=f[d&&!l?hi:Mi],i=d?f[l?hi:Mi]:u[n]):(n=l?"x1":"x2",t=f[d&&!l?ji:Vi],i=d?f[l?ji:Vi]:u[n]),e.start=t,e.end=i,d?b(r,c,e.start):a.speed&&(e.options.duration=ri.max(1e3*(ri.abs(e.start-e.end)/a.speed),1))},step:function(t){var i=this,n=i.start,e=i.end,o=i.element,r=o.points,a=i.axis;o.options.animation.vertical?r[0][a]=r[1][a]=g(n,e,t):r[1][a]=r[2][a]=g(n,e,t)}}),W=R.extend({options:{easing:Ui,duration:1e3},setup:function(){var t,i,n,e=this,o=e.element,r=o.points,a=o.options.animation,s=a.vertical,l=a.reverse,c=s?"y":"x",u=c+(l?"1":"2"),f=c+(l?"2":"1"),d=a.startPosition[s?u:f],h=a.size/2,p=r.length,x=!v(e.options.endPosition),m=h;for(e.axis=c,e.endPositions=[],e.startPositions=[],x||(d=r[1][c],i=e.options.endPosition[s?f:u],a.speed&&(e.options.duration=ri.max(1e3*(ri.abs(d-i)/a.speed),1))),n=0;p>n;n++)t=ai({},r[n]),x?(e.endPositions[n]=t[c],r[n][c]=d-m):e.endPositions[n]=i-m,e.startPositions[n]=r[n][c],m-=h},step:function(t){var i,n=this,e=n.startPositions,o=n.endPositions,r=n.element,a=r.points,s=n.axis,l=a.length;for(i=0;l>i;i++)a[i][s]=g(e[i],o[i],t)}}),H=e(ki,O),X=function(t){var i,n,e,o,r,a=this,s=X.formats;if(1===arguments.length)for(t=a.resolveColor(t),o=0;s.length>o;o++)i=s[o].re,n=s[o].process,e=i.exec(t),e&&(r=n(e),a.r=r[0],a.g=r[1],a.b=r[2]);else a.r=arguments[0],a.g=arguments[1],a.b=arguments[2];a.r=a.normalizeByte(a.r),a.g=a.normalizeByte(a.g),a.b=a.normalizeByte(a.b)},X.prototype={toHex:function(){var t=this,i=t.padDigit,n=t.r.toString(16),e=t.g.toString(16),o=t.b.toString(16);return"#"+i(n)+i(e)+i(o)},resolveColor:function(t){return t=t||di,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase(),t=X.namedColors[t]||t},normalizeByte:function(t){return 0>t||isNaN(t)?0:t>255?255:t},padDigit:function(t){return 1===t.length?"0"+t:t},brightness:function(t){var i=this,n=ri.round;return i.r=n(i.normalizeByte(i.r*t)),i.g=n(i.normalizeByte(i.g*t)),i.b=n(i.normalizeByte(i.b*t)),i},percBrightness:function(){var t=this;return ri.sqrt(.241*t.r*t.r+.691*t.g*t.g+.068*t.b*t.b)}},X.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],X.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},$=ti.extend({init:function(t,i,n){this._pool=[],this._freed={},this._size=t,this._id=n,this._prefix=i},alloc:function(){var t,i=this,n=i._pool;return n.length>0?(t=n.pop(),i._freed[t]=!1):t=i._prefix+i._id++,t},free:function(t){var i=this,n=i._pool,e=i._freed;n.length<i._size&&!e[t]&&(n.push(t),e[t]=!0)}}),$.current=new $(_i,Ii,zi),K=ti.extend({init:function(t){this._size=t,this._length=0,this._map={}},put:function(t,i){var n=this,e=n._map,o={key:t,value:i};e[t]=o,n._head?(n._tail.newer=o,o.older=n._tail,n._tail=o):n._head=n._tail=o,n._length>=n._size?(e[n._head.key]=null,n._head=n._head.newer,n._head.older=null):n._length++},get:function(t){var n=this,e=n._map[t];return e?(e===n._head&&e!==n._tail&&(n._head=e.newer,n._head.older=null),e!==n._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=n._tail,e.newer=null,n._tail.newer=e,n._tail=e),e.value):i}}),o.cache=new K(1e3),o.baselineMarker=t("<div class='"+li+"baseline-marker' "+"style='display: inline-block; vertical-align: baseline;"+"width: "+fi+"px; height: "+fi+"px;"+"overflow: hidden;' />")[0],Q=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,ci)},J.requestFrame=function(t,i){return Q(t,i)},ai(Z.dataviz,{init:function(t){Z.init(t,Z.dataviz.ui)},ui:{roles:{},themes:{},views:[],defaultView:function(){var t,i=J.ui.views,n=i.length;for(t=0;n>t;t++)if(i[t].available())return i[t];Z.logToConsole("Warning: KendoUI DataViz cannot render. Possible causes:\n- The browser does not support SVG or VML. User agent: "+navigator.userAgent+"\n"+"- The kendo.dataviz.svg.js or kendo.dataviz.vml.js scripts are not loaded")},registerView:function(t){var i=J.ui.views[0];!i||t.preference>i.preference?J.ui.views.unshift(t):J.ui.views.push(t)},plugin:function(t){Z.ui.plugin(t,J.ui)}},AXIS_LABEL_CLICK:ui,COORD_PRECISION:xi,DEFAULT_PRECISION:yi,DEFAULT_WIDTH:bi,DEFAULT_HEIGHT:vi,DEFAULT_FONT:gi,INITIAL_ANIMATION_DURATION:Bi,CLIP:mi,Axis:D,AxisLabel:E,Box2D:A,BoxElement:L,ChartElement:B,Color:X,ElementAnimation:R,ExpandAnimation:F,ArrowAnimation:W,BarAnimation:N,BarIndicatorAnimatin:q,FadeAnimation:O,FadeAnimationDecorator:H,IDPool:$,LRUCache:K,NumericAxis:V,Point2D:Hi,Ring:I,Pin:z,RootElement:j,RotationAnimation:G,Sector:_,Text:P,TextBox:C,Title:S,ViewBase:M,ViewElement:U,animationDecorator:e,append:h,autoFormat:w,autoMajorUnit:r,boxDiff:c,defined:v,getElement:k,getSpacing:n,inArray:f,interpolateValue:g,last:d,measureText:o,rotatePoint:l,round:m,ceil:p,floor:x,supportsSVG:u,renderTemplate:si,uniqueId:s})})(window.kendo.jQuery);;(function(){function t(t){this.view=t}function e(t){this.view=t}function n(t){return T.round(t)+.5}function i(t,e){var n,i,r=[];if(t=t?t.toLowerCase():null,t&&t!=N){for(n=Q[t],i=0;n.length>i;i++)r.push(n[i]*(e||1));return"stroke-dasharray='"+r.join(" ")+"' "}return""}var r,o,a,s,d,l,p,c,f,u,h,m,y,x,v,w=jQuery,g=document,T=Math,P=window.kendo,A=P.Class,G=P.dataviz,D=G.Box2D,O=G.ExpandAnimation,S=G.Point2D,C=G.ViewBase,k=G.ViewElement,I=P.deepExtend,V=G.defined,b=G.round,E=G.renderTemplate,L=G.rotatePoint,M=G.uniqueId,R="butt",U=G.CLIP,z=G.COORD_PRECISION,F=G.DEFAULT_WIDTH,B=G.DEFAULT_HEIGHT,H=G.DEFAULT_FONT,_="none",W="radial",N="solid",j="square",q="http://www.w3.org/2000/svg",Q={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},J="transparent",K="undefined",X=C.extend({init:function(n){var i=this;C.fn.init.call(i,n),i.decorators.push(new t(i),new e(i)),G.ui.Chart&&i.decorators.push(new G.BarAnimationDecorator(i),new G.PieAnimationDecorator(i),new G.BubbleAnimationDecorator(i)),i.decorators.push(new x(i),new G.FadeAnimationDecorator(i)),G.Gauge&&i.decorators.push(new G.RadialPointerAnimationDecorator(i),new G.ArrowPointerAnimationDecorator(i),new G.BarIndicatorAnimationDecorator(i)),i.defsId=M(),i.template=X.template,i.display=i.options.inline?"inline":"block",i.template||(i.template=X.template=E("<?xml version='1.0' ?><svg xmlns='"+q+"' version='1.1' "+"width='#= d.options.width #px' height='#= d.options.height #px' "+"style='position: relative; display: #= d.display #;'>"+"#= d.renderDefinitions() #"+"#= d.renderContent() #</svg>"))},options:{width:F,height:B},renderTo:function(t){var e,n=this;return n.setupAnimations(),G.renderSVG(t,n.render()),e=t.firstElementChild,n.alignToScreen(e),n.playAnimations(),e},renderDefinitions:function(){var t=this,e=t.defsId,n=C.fn.renderDefinitions.call(t);return"<defs id='"+e+"'>"+n+"</defs>"},renderElement:function(t){var e,n,i=this,r=g.createElement("div"),o=g.getElementById(i.defsId);return G.renderSVG(r,"<?xml version='1.0' ?><svg xmlns='"+q+"' version='1.1'>"+i.renderDefinitions()+t.render()+"</svg>"),e=r.firstElementChild.firstChild,n=r.firstElementChild.lastChild,o&&o.textContent!==e.textContent&&o.parentNode.replaceChild(e,o),n},createGroup:function(t){return this.decorate(new c(t))},createText:function(t,e){return this.decorate(new r(t,e))},createRect:function(t,e){return this.decorate(new a(t.points(),!0,this.setDefaults(e)))},createLine:function(t,e,n,i,r){return this.decorate(new a([new S(t,e),new S(n,i)],!1,this.setDefaults(r)))},createPolyline:function(t,e,n){return this.decorate(new a(t,e,this.setDefaults(n)))},createCircle:function(t,e,n){return this.decorate(new p(t,e,n))},createSector:function(t,e){return this.decorate(new l(t,e))},createRing:function(t,e){return this.decorate(new s(t,e))},createPin:function(t,e){return this.decorate(new d(t,e))},createGradient:function(t){return t.type===W?V(t.ir)?new y(t):new m(t):new h(t)},alignToScreen:function(t){var e,n,i,r;try{e=t.getScreenCTM?t.getScreenCTM():null}catch(o){}e&&(n=-e.e%1,i=-e.f%1,r=t.style,(0!==n||0!==i)&&(r.left=n+"px",r.top=i+"px"))}});X.fromModel=function(t){var e=new X(t.options);return[].push.apply(e.children,t.getViewElements(e)),e},X.available=G.supportsSVG,X.preference=100,G.ui.registerView(X),r=k.extend({init:function(t,e){var n=this;k.fn.init.call(n,e),n.content=t,n.template=r.template,n.template||(n.template=r.template=E("<text #= d.renderId() # #= d.renderDataAttributes() # x='#= Math.round(d.options.x) #' y='#= Math.round(d.options.y + d.options.baseline) #' fill-opacity='#= d.options.fillOpacity #' #= d.options.rotation ? d.renderRotation() : '' # style='font: #= d.options.font #; #= d.renderCursor() #' fill='#= d.options.color #'>#= d.content #</text>"))},options:{x:0,y:0,baseline:0,font:H,size:{width:0,height:0},fillOpacity:1,cursor:{}},refresh:function(t){var e=this.options;w(t).attr({"fill-opacity":e.fillOpacity})},clone:function(){var t=this;return new r(t.content,I({},t.options))},renderCursor:function(){var t=this.options,e="";return V(t.cursor.style)&&(e+="cursor: "+t.cursor.style+";"),e},renderRotation:function(){var t=this,e=t.options,n=e.size,i=b(e.x+n.normalWidth/2,z),r=b(e.y+n.normalHeight/2,z),o=b(e.x+n.width/2,z),a=b(e.y+n.height/2,z),s=b(o-i,z),d=b(a-r,z);return"transform='translate("+s+","+d+") "+"rotate("+e.rotation+","+i+","+r+")'"}}),o=k.extend({init:function(t){var e=this;k.fn.init.call(e,t),e.template=o.template,e.template||(e.template=o.template=E("<path #= d.renderId() #style='display: #= d.renderDisplay() #; #= d.renderCursor() #' #= d.renderDataAttributes() # d='#= d.renderPoints() #' #= d.renderAttr(\"stroke\", d.options.stroke) # #= d.renderAttr(\"stroke-width\", d.options.strokeWidth) ##= d.renderDashType() # stroke-linecap='#= d.renderLinecap() #' stroke-linejoin='round' fill-opacity='#= d.options.fillOpacity #' stroke-opacity='#= d.options.strokeOpacity #' fill='#= d.renderFill() #'></path>"))},options:{fill:"",fillOpacity:1,strokeOpacity:1,rotation:[0,0,0],strokeLineCap:j,visible:!0,cursor:{}},refresh:function(t){var e=this.options;w(t).attr({d:this.renderPoints(),"fill-opacity":e.fillOpacity,"stroke-opacity":e.strokeOpacity}).css("display",this.renderDisplay())},clone:function(){return new o(I({},this.options))},renderPoints:function(){},renderCursor:function(){var t=this.options,e="";return V(t.cursor.style)&&(e+="cursor: "+t.cursor.style+";"),e},renderDashType:function(){var t=this,e=t.options;return i(e.dashType,e.strokeWidth)},renderLinecap:function(){var t=this.options,e=t.dashType,n=t.strokeLineCap;return e&&e!=N?R:n},renderFill:function(){var t=this.options.fill;return t&&t!==J?t:_},renderDisplay:function(){return this.options.visible?"block":"none"},destroy:function(){}}),a=o.extend({init:function(t,e,n){var i=this;o.fn.init.call(i,n),i.points=t,i.closed=e},renderPoints:function(){var t,e=this,n=e.points,i=n.length,r=function(t){var n=e.options.rotation;return L(t.x,t.y,n[1],n[2],-n[0])},o="M"+e._print(r(n[0]));for(t=1;i>t;t++)o+=" "+e._print(r(n[t]));return e.closed&&(o+=" z"),o},clone:function(){var t=this;return new a(I([],t.points),t.closed,I({},t.options))},_print:function(t){var e=this,i=e.options,r=i.strokeWidth,o=i.align!==!1&&r&&0!==r%2,a=o?n:b;return a(t.x,z)+" "+a(t.y,z)}}),s=o.extend({init:function(t,e){var n=this;o.fn.init.call(n,e),n.pathTemplate=s.pathTemplate,n.pathTemplate||(n.pathTemplate=s.pathTemplate=E("M #= d.firstOuterPoint.x # #= d.firstOuterPoint.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,1 #= d.secondOuterPoint.x # #= d.secondOuterPoint.y # L #= d.secondInnerPoint.x # #= d.secondInnerPoint.y # A#= d.ir # #= d.ir # 0 #= d.isReflexAngle ? '1' : '0' #,0 #= d.firstInnerPoint.x # #= d.firstInnerPoint.y # z")),n.config=t||{}},renderPoints:function(){var t,e,n=this,i=n.config,r=i.startAngle,o=i.angle+r,a=o-r>180,s=T.max(i.r,0),d=T.max(i.ir,0),l=i.c,p=i.point(r),c=i.point(r,!0);return b(r)%360===b(o)%360&&(o-=.05),t=i.point(o),e=i.point(o,!0),n.pathTemplate({firstOuterPoint:p,secondOuterPoint:t,isReflexAngle:a,r:s,ir:d,cx:l.x,cy:l.y,firstInnerPoint:c,secondInnerPoint:e})},clone:function(){var t=this;return new s(I({},t.config),I({},t.options))}}),d=o.extend({init:function(t,e){var n=this;o.fn.init.call(n,e),n.pathTemplate=d.pathTemplate,n.pathTemplate||(n.pathTemplate=d.pathTemplate=E("M #= d.origin.x # #= d.origin.y # #= d.as.x # #= d.as.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,0 #= d.ae.x # #= d.ae.y # z")),n.config=t||new G.Pin},renderPoints:function(){var t=this,e=t.config,n=e.radius,i=T.PI/180,r=e.arcAngle,o=n*T.sin(r*i/2),a=e.height-n*(1-T.cos(r*i/2)),s=e.origin,d={x:s.x+o,y:s.y-a},l={x:s.x-o,y:s.y-a},p=function(n,i){var r=t.options.rotation,o=e.rotation;return n=L(n.x,n.y,r[1],r[2],-r[0]),i&&(n=L(n.x,n.y,s.x,s.y,o)),n};return s=p(s),t.pathTemplate({origin:s,as:p(d,!0),ae:p(l,!0),r:n,isReflexAngle:r>180})}}),l=s.extend({init:function(t,e){var n=this;s.fn.init.call(n,t,e),n.pathTemplate=l.pathTemplate,n.pathTemplate||(n.pathTemplate=l.pathTemplate=E("M #= d.firstOuterPoint.x # #= d.firstOuterPoint.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,1 #= d.secondOuterPoint.x # #= d.secondOuterPoint.y # L #= d.cx # #= d.cy # z"))},options:{fill:"",fillOpacity:1,strokeOpacity:1,strokeLineCap:j},clone:function(){var t=this;return new l(I({},t.config),I({},t.options))}}),p=k.extend({init:function(t,e,n){var i=this;k.fn.init.call(i,n),i.c=t,i.r=e,i.template=p.template,i.template||(i.template=p.template=E("<circle #= d.renderId() # #= d.renderDataAttributes() #cx='#= d.c.x #' cy='#= d.c.y #' r='#= d.r #' #= d.renderAttr(\"stroke\", d.options.stroke) # #= d.renderAttr(\"stroke-width\", d.options.strokeWidth) #fill-opacity='#= d.options.fillOpacity #' stroke-opacity='#= d.options.strokeOpacity #'  fill='#= d.options.fill || \"none\" #'></circle>"))},options:{fill:"",fillOpacity:1,strokeOpacity:1},refresh:function(t){w(t).attr({r:T.max(0,this.r),"fill-opacity":this.options.fillOpacity})},clone:function(){var t=this;return new p(I({},t.c),t.r,I({},t.options))}}),c=k.extend({init:function(t){var e=this;k.fn.init.call(e,t),e.template=c.template,e.template||(e.template=c.template=E('<g#= d.renderId() ##= d.renderDataAttributes() ##= d.renderAttr("clip-path", d.options.clipPath) #>#= d.renderContent() #</g>'))}}),f=k.extend({init:function(t){var e=this;k.fn.init.call(e,t),e.template=f.template,e.template||(e.template=f.template=E('<clipPath#= d.renderAttr("id", d.options.id) #>#= d.renderContent() #</clipPath>'))}}),u=k.extend({init:function(t){var e=this;k.fn.init.call(e,t)},options:{id:""},renderStops:function(){var t,e,n=this,i=n.options.stops,r=n.stopTemplate,o=i.length,a="";for(t=0;o>t;t++)e=i[t],a+=r(e);return a}}),h=u.extend({init:function(t){var e=this;u.fn.init.call(e,t),e.template=h.template,e.stopTemplate=h.stopTemplate,e.template||(e.template=h.template=E("<linearGradient id='#= d.options.id #' gradientTransform='rotate(#= d.options.rotation #)'> #= d.renderStops() #</linearGradient>"),e.stopTemplate=h.stopTemplate=E("<stop offset='#= Math.round(d.offset * 100) #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))},options:{rotation:0}}),m=u.extend({init:function(t){var e=this;u.fn.init.call(e,t),e.template=m.template,e.stopTemplate=m.stopTemplate,e.template||(e.template=m.template=E("<radialGradient id='#= d.options.id #' cx='#= d.options.cx #' cy='#= d.options.cy #' fx='#= d.options.cx #' fy='#= d.options.cy #' r='#= d.options.r #' gradientUnits='userSpaceOnUse'>#= d.renderStops() #</radialGradient>"),e.stopTemplate=m.stopTemplate=E("<stop offset='#= Math.round(d.offset * 100) #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))}}),y=k.extend({init:function(t){var e=this;k.fn.init.call(e,t),e.template=y.template,e.stopTemplate=y.stopTemplate,e.template||(e.template=y.template=E("<radialGradient id='#= d.options.id #' cx='#= d.options.cx #' cy='#= d.options.cy #' fx='#= d.options.cx #' fy='#= d.options.cy #' r='#= d.options.r #' gradientUnits='userSpaceOnUse'>#= d.renderStops() #</radialGradient>"),e.stopTemplate=y.stopTemplate=E("<stop offset='#= d.offset #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))},options:{id:""},renderStops:function(){var t,e,n=this,i=n.options,r=i.stops,o=n.stopTemplate,a=100*(i.ir/i.r),s=r.length,d="";for(e=I({},r[0]),e.offset=a,d+=o(e),t=1;s>t;t++)e=I({},r[t]),e.offset=e.offset*(100-a)+a,d+=o(e);return d}}),t.prototype={decorate:function(t){var e,n,i=this,r=i.view,o=t.options,a=o.id;return o.overlay?(t.options.id=M(),e=r.createGroup(),n=t.clone(),e.children.push(t,n),n.options.id=a,n.options.fill=o.overlay,e):t}},e.prototype={decorate:function(t){var e=this,n=t.options;return n.fill=e.getPaint(n.fill),t},getPaint:function(t){var e,n,i,r=this,o=r.view,a=o.definitions;return t&&V(t.gradient)?(e=o.buildGradient(t),e?(n=e.id,i=a[n],i||(i=o.createGradient(e),a[n]=i),"url("+r.baseUrl()+"#"+i.options.id+")"):_):t},baseUrl:function(){var t=g.getElementsByTagName("base")[0],e="",n=g.location.href,i=n.indexOf("#");return t&&!P.support.browser.msie&&(-1!==i&&(n=n.substring(0,i)),e=n),e}},x=A.extend({init:function(t){this.view=t},decorate:function(t){var e,n,i=this,r=i.view,o=i.clipId,a=r.options,s=t.options.animation,d=r.definitions;return s&&s.type===U&&a.transitions&&(o||(i.clipId=o=M()),e=d[o],e||(e=new f({id:o}),n=r.createRect(new D(0,0,a.width,a.height),{id:M()}),e.children.push(n),d[o]=e,r.animations.push(new O(n,{size:a.width}))),t.options.clipPath="url(#"+o+")"),t}}),v=function(t,e){t.innerHTML=e},function(){var t="<svg xmlns='"+q+"'></svg>",e=g.createElement("div"),n=typeof DOMParser!=K;e.innerHTML=t,n&&e.firstChild.namespaceURI!=q&&(v=function(t,e){var n=new DOMParser,i=n.parseFromString(e,"text/xml"),r=g.adoptNode(i.documentElement);t.innerHTML="",t.appendChild(r)})}(),I(G,{renderSVG:v,SVGCircle:p,SVGClipAnimationDecorator:x,SVGClipPath:f,SVGGradientDecorator:e,SVGGroup:c,SVGLine:a,SVGLinearGradient:h,SVGOverlayDecorator:t,SVGPath:o,SVGRadialGradient:m,SVGDonutGradient:y,SVGRing:s,SVGSector:l,SVGText:r,SVGView:X})})(window.kendo.jQuery);;(function(e,t){function i(e,t,i){function n(e,t,n){var o,r=typeof t;return o=r===Xn?Vt[t](e):"function"===r?t(e,n,i):Vt.max(e)}function o(e,t,i){var o,r,a,s=C(i.type),l=s.length,c=e.length,h=[],d=[];for(o=0;l>o;o++){for(a=s[o],r=0;c>r;r++)d.push(e[r][a]);h.push(n(d,t[a],i)),d=[]}return h}var r,a=t.aggregate;return r="object"==typeof a?o(e,a,t):n(e,a,t)}function n(e){return r(e).min}function o(e){return r(e).max}function r(e){var i,n,o=vn,r=mn,a=e.length;for(i=0;a>i;i++)n=e[i],null!==n&&isFinite(n)&&(o=Lt.min(o,n),r=Lt.max(r,n));return{min:o===vn?t:o,max:r===mn?t:r}}function a(e,t,i,n){var o,r,a=(n.x-i.x)*(e.y-i.y)-(n.y-i.y)*(e.x-i.x),s=(n.y-i.y)*(t.x-e.x)-(n.x-i.x)*(t.y-e.y);return 0!==s&&(r=a/s,o=new ii(e.x+r*(t.x-e.x),e.y+r*(t.y-e.y))),o}function s(e,t){var i,n,o=e.series,r=o.length,a=e.seriesDefaults,s=Wt({},e.seriesDefaults),c=t?Wt({},t.seriesDefaults):{},h=Wt({},c);for(l(s),l(h),i=0;r>i;i++)n=o[i].type||e.seriesDefaults.type,o[i]=Wt({},h,c[n],{tooltip:e.tooltip},s,a[n],o[i])}function l(e){delete e.bar,delete e.column,delete e.line,delete e.verticalLine,delete e.pie,delete e.donut,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc,delete e.bullet,delete e.verticalBullet}function c(e){var t,i=e.series,n=i.length,o=e.seriesColors||[];for(t=0;n>t;t++)i[t].color=i[t].color||o[t%o.length]}function h(e){var t;Bt([Li,lo,fo,xo],function(){t=this+"Axes",e[t]&&(e[this+"Axis"]=e[t],delete e[t])})}function d(t,i){var n=(i||{}).axisDefaults||{};Bt([Li,lo,fo,xo],function(){var i=this+"Axis",o=[].concat(t[i]),r=t.axisDefaults||{};o=e.map(o,function(e){var t=(e||{}).color,o=Wt({},n,n[i],r,r[i],{line:{color:t},labels:{color:t},title:{color:t}},e);return delete o[i],o}),t[i]=o.length>1?o:o[0]})}function u(e,t,i){e[t]=(e[t]||0)+i}function p(e){var t,i=e.length,n=0;for(t=0;i>t;t++)n=Lt.max(n,e[t].data.length);return n}function g(e){return e*e}function f(e,t){if(null===t)return t;var i=Yt(e,!0);return i(t)}function x(e){var t,i,n;if(e instanceof Date)t=e;else if(typeof e===Xn)i=Xi.exec(e),t=new Date(i?parseInt(i[1],10):e);else if(e)if(e.length)for(t=[],n=0;e.length>n;n++)t.push(x(e[n]));else t=new Date(e);return t}function v(e){return Et(e)?Rt(e,v):e?x(e).getTime():t}function m(e,t,i,n){var o=e;return e&&(e=x(e),i===vo?o=new Date(e.getFullYear()+t,0,1):i===bn?o=new Date(e.getFullYear(),e.getMonth()+t,1):i===po?o=m(y(e,n),7*t,Gi):i===Gi?o=new Date(e.getFullYear(),e.getMonth(),e.getDate()+t):i===sn?(o=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+t),t>0&&R(e,o)&&(o=m(e,t+1,i,n))):i===yn&&(o=new Date(e.getTime()+t*Gn),o.setSeconds(0))),o}function y(e,t){var i=e.getDay(),n=0;for(t=t||0;i!==t;)0===i?i=6:i--,n++;return A(e,-n*Jn)}function b(e,t,i){return e=x(e),m(e,0,t,i)}function w(e,t,i){return e=x(e),e&&b(e,t,i).getTime()===e.getTime()?e:m(e,1,t,i)}function _(e,t){var i=e.getTime()-t,n=e.getTimezoneOffset()-t.getTimezoneOffset();return i-n*Gn}function A(e,t){var i=e.getTimezoneOffset(),n=new Date(e.getTime()+t),o=n.getTimezoneOffset()-i;return new Date(n.getTime()+o*Gn)}function k(e,t,i){var n;return n=i===vo?t.getFullYear()-e.getFullYear():i===bn?12*k(e,t,vo)+t.getMonth()-e.getMonth():i===Gi?Lt.floor(_(t,e)/Jn):Lt.floor((t-e)/Zn[i])}function C(e){var t=[lo];return gi(e,[Ri,Tn])?t=["open","high","low","close"]:gi(e,[Ei,ho])?t=["current","target"]:gi(e,ko)&&(t=[fo,xo],e===Bi&&t.push("size")),t}function I(e,t,i){var n,o,r,a,s=e.data[t],l={},c=C(e.type),h={value:s};return di(s)?Et(s)?(n=s.slice(c.length),a=S(s,c),l=S(n,i)):"object"==typeof s&&(o=T(e,c),r=T(e,i),a=P(s,c,o),l=P(s,i,r)):a=P({},c),di(a)&&(1===c.length&&(a=a[c[0]]),h.value=a),h.fields=l,h}function S(e,t){var i,n,o={};if(t)for(n=Lt.min(t.length,e.length),i=0;n>i;i++)o[t[i]]=e[i];return o}function P(e,t,i){var n,o,r,a,s={};if(t)for(o=t.length,i=i||t,n=0;o>n;n++)r=t[n],a=i[n],s[r]=f(a,e);return s}function T(e,t){var i,n,o,r,a;if(t)for(n=t.length,r=[],i=0;n>i;i++)o=t[i],a=o===lo?"field":o+"Field",r.push(e[a]||o);return r}function V(e){return 1===e.length?e[0]:e}function D(e,t,i){return Lt.max(Lt.min(e,i),t)}function B(e){var t,i,n,o=e.length;if(o>0)for(i=0;o>i;i++)n=e[i].box,t?t.wrap(n):t=n.clone();return t||Kt()}function E(e,t){return e&&t?e.toLowerCase()===t.toLowerCase():e===t}function R(e,t){return e&&t?v(e)===v(t):e===t}function L(e){for(var t,i=e.length;i--;)if(t=e[i],di(t)&&null!==t)return t}function H(e,t){null!==t&&e.push(t)}function O(e,t){for(var i,n,o=0,r=e.length-1;r>=o;)if(i=Lt.floor((o+r)/2),n=e[i],t>n)o=i+1;else{if(!(n>t))return i;r=i-1}return t>=e[i]?i:i-1}function z(e){var t,i,n=!0,o=e.length;for(t=0;o>t;t++)if(i=e[t],"number"!=typeof i||isNaN(i)){n=!1;break}return n}function U(e){var t,i,n,o={};for(t=0;e.length>t;t++)i=e[t],n=i.options.name,n&&(o[n]=i.range());return o}function M(e){var t=e.originalEvent,i=0;return t.wheelDelta&&(i=-t.wheelDelta/120,i=i>0?Lt.ceil(i):Lt.floor(i)),t.detail&&(i=vi(t.detail/3)),i}function N(e,i){var n,o,r,a=[],s=i.length;for(e.groupNameTemplate&&(n=jt(e.groupNameTemplate)),o=0;s>o;o++)r=Wt({},e),r.color=t,r._groupIx=o,a.push(r),n&&(r.name=n({series:r,group:i[o]}));return a}var F,j,W,Y,X,G,q,J,K,Q,$,Z,et,tt,it,nt,ot,rt,at,st,lt,ct,ht,dt,ut,pt,gt,ft,xt,vt,mt,yt,bt,wt,_t,At,kt,Ct,It,St,Pt,Tt,Vt,Dt,Bt=e.each,Et=e.isArray,Rt=e.map,Lt=Math,Ht=e.extend,Ot=e.proxy,zt=window.kendo,Ut=zt.Class,Mt=zt.Observable,Nt=zt.data.DataSource,Ft=zt.ui.Widget,jt=zt.template,Wt=zt.deepExtend,Yt=zt.getter,Xt=zt.dataviz,Gt=Xt.Axis,qt=Xt.AxisLabel,Jt=Xt.BarAnimation,Kt=Xt.Box2D,Qt=Xt.BoxElement,$t=Xt.ChartElement,Zt=Xt.Color,ei=Xt.ElementAnimation,ti=Xt.NumericAxis,ii=Xt.Point2D,ni=Xt.RootElement,oi=Xt.Ring,ri=Xt.Text,ai=Xt.TextBox,si=Xt.Title,li=Xt.animationDecorator,ci=Xt.append,hi=Xt.autoFormat,di=Xt.defined,ui=Xt.getElement,pi=Xt.getSpacing,gi=Xt.inArray,fi=Xt.interpolateValue,xi=Xt.last,vi=Xt.round,mi=Xt.renderTemplate,yi=Xt.uniqueId,bi=".kendoChart",wi="above",_i="area",Ai="auto",ki="fit",Ci=Xt.AXIS_LABEL_CLICK,Ii="bar",Si=.8,Pi="below",Ti="#000",Vi="both",Di="bottom",Bi="bubble",Ei="bullet",Ri="candlestick",Li="category",Hi="center",Oi="change",zi="circle",Ui="click"+bi,Mi=Xt.CLIP,Ni="column",Fi=Xt.COORD_PRECISION,ji="k-",Wi="dataBound",Yi="date",Xi=/^\/Date\((.*?)\)\/$/,Gi="days",qi=Xt.DEFAULT_FONT,Ji=Xt.DEFAULT_HEIGHT,Ki=Xt.DEFAULT_PRECISION,Qi=Xt.DEFAULT_WIDTH,$i=Lt.PI/180,Zi="donut",en=50,tn="drag",nn="dragEnd",on="dragStart",rn="fadeIn",an="glass",sn="hours",ln=Xt.INITIAL_ANIMATION_DURATION,cn="insideBase",hn="insideEnd",dn="interpolate",un="left",pn="legendItemClick",gn="legendItemHover",fn="line",xn=8,vn=Number.MAX_VALUE,mn=-Number.MAX_VALUE,yn="minutes",bn="months",wn="mouseleave"+bi,_n="mousemove.tracking",An="mouseover"+bi,kn="mouseout"+bi,Cn="mousemove"+bi,In=20,Sn=150,Pn="DOMMouseScroll"+bi+" mousewheel"+bi,Tn="ohlc",Vn="outsideEnd",Dn="_outline",Bn="pie",En=70,Rn="plotAreaClick",Ln="pointer",Hn="right",On="roundedBevel",zn="roundedGlass",Un="scatter",Mn="scatterLine",Nn="selectStart",Fn="select",jn="selectEnd",Wn="seriesClick",Yn="seriesHover",Xn="string",Gn=6e4,qn=60*Gn,Jn=24*qn,Kn=7*Jn,Qn=31*Jn,$n=365*Jn,Zn={years:$n,months:Qn,weeks:Kn,days:Jn,hours:qn,minutes:Gn},eo="top",to=150,io=5,no=100,oo=100,ro="tooltip-inverse",ao="touchstart"+bi,so="triangle",lo="value",co="verticalArea",ho="verticalBullet",uo="verticalLine",po="weeks",go="#fff",fo="x",xo="y",vo="years",mo="zero",yo=3,bo="zoomStart",wo="zoom",_o="zoomEnd",Ao=[Ii,Ni,fn,uo,_i,co,Ri,Tn,Ei,ho],ko=[Un,Mn,Bi],Co=[yn,sn,Gi,po,bn,vo],Io={minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},So=Ft.extend({init:function(e,t){var i,n,o,r,a=this,s=Xt.ui.themes||{};zt.destroy(e),Ft.fn.init.call(a,e),i=Wt({},a.options,t),a.element.addClass(ji+i.name.toLowerCase()).css("position","relative"),a._originalOptions=Wt({},i),r=i.theme,o=s[r]||s[r.toLowerCase()],n=r&&o?o.chart:{},h(i),a._applyDefaults(i,n),a.options=Wt({},n,i),c(a.options),a.bind(a.events,a.options),a.wrapper=a.element,a._initDataSource(t),zt.notify(a,Xt.ui)},_initDataSource:function(e){var t=this,i=(e||{}).dataSource;t._dataChangeHandler=Ot(t._onDataChanged,t),t.dataSource=Nt.create(i).bind(Oi,t._dataChangeHandler),t._redraw(),t._attachEvents(),i&&t.options.autoBind&&t.dataSource.fetch()},setDataSource:function(e){var t=this;t.dataSource.unbind(Oi,t._dataChangeHandler),t.dataSource=e,e.bind(Oi,t._dataChangeHandler),t.options.autoBind&&e.fetch()},events:[Wi,Wn,Yn,Ci,pn,gn,Rn,on,tn,nn,bo,wo,_o,Nn,Fn,jn],items:function(){return e()},options:{name:"Chart",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:Ni,data:[],highlight:{visible:!0},groupNameTemplate:"#= group.value + (kendo.dataviz.defined(series.name) ? ': ' + series.name : '') #",labels:{}},series:[],tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{}},refresh:function(){var e=this;e._applyDefaults(e.options),c(e.options),e._bindSeries(),e._bindCategories(),e.trigger(Wi),e._redraw()},redraw:function(e){var t,i,n=this;n._applyDefaults(n.options),e?(i=n._model._plotArea,t=i.findPane(e),i.redraw(t)):n._redraw()},_redraw:function(){var e,t=this,i=t._getModel(),n=Xt.ui.defaultView();t._destroyView(),t._model=i,t._plotArea=i._plotArea,n&&(e=t._view=n.fromModel(i),t._viewElement=t._renderView(e),t._tooltip=t._createTooltip(),t._highlight=new kt(e,t._viewElement),t._setupSelection())},_sharedTooltip:function(){var e=this,t=e.options;return e._plotArea instanceof gt&&t.tooltip.shared},_createTooltip:function(){var e,t=this,i=t.options,n=t.element;return e=t._sharedTooltip()?new St(n,t._plotArea,i.tooltip):new It(n,i.tooltip)},_renderView:function(){var e=this;return e._view.renderTo(e.element[0])},svg:function(){var e=this._getModel(),t=Xt.SVGView.fromModel(e);return t.render()},_applyDefaults:function(e,t){d(e,t),s(e,t)},_getModel:function(){var e,t=this,i=t.options,n=new ni(t._modelOptions());return n.parent=t,si.buildTitle(i.title,n),e=n._plotArea=t._createPlotArea(),i.legend.visible&&n.append(new Vo(e.options.legend)),n.append(e),n.reflow(),n},_modelOptions:function(){var e=this,t=e.options,i=e.element,n=Lt.floor(i.height()),o=Lt.floor(i.width());return Wt({width:o||Qi,height:n||Ji,transitions:t.transitions},t.chartArea)},_createPlotArea:function(){var e,t,i,n=this,o=n.options,r=o.series,a=r.length,s=[],l=[],c=[],h=[],d=[];for(e=0;a>e;e++)t=r[e],gi(t.type,Ao)?s.push(t):gi(t.type,ko)?l.push(t):t.type===Bn?c.push(t):t.type===Zi?h.push(t):t.type===Ei&&d.push(t);return i=c.length>0?new vt(c,o):h.length>0?new mt(h,o):l.length>0?new xt(l,o):new gt(s,o)},_setupSelection:function(){var e,t,i,n,o,r,a=this,s=a._plotArea,l=s.axes,c=a._selections=[];for(a._selectStartHandler||(a._selectStartHandler=Ot(a._selectStart,a),a._selectHandler=Ot(a._select,a),a._selectEndHandler=Ot(a._selectEnd,a)),t=0;l.length>t;t++)i=l[t],r=i.options,i instanceof Do&&r.select&&!r.vertical&&(n=0,o=r.categories.length-1,i instanceof Eo&&(n=r.categories[n],o=r.categories[o]),r.justified||(i instanceof Eo?o=m(o,1,r.baseUnit,r.weekStartDay):o++),e=new Dt(a,i,Wt({min:n,max:o},r.select)),e.bind(Nn,a._selectStartHandler),e.bind(Fn,a._selectHandler),e.bind(jn,a._selectEndHandler),c.push(e))},_selectStart:function(e){return this.trigger(Nn,e)},_select:function(e){return this.trigger(Fn,e)},_selectEnd:function(e){return this.trigger(jn,e)},_attachEvents:function(){var e=this,t=e.element;t.on(Ui,Ot(e._click,e)),t.on(An,Ot(e._mouseover,e)),t.on(kn,Ot(e._mouseout,e)),t.on(Pn,Ot(e._mousewheel,e)),t.on(ao,Ot(e._tap,e)),t.on(wn,Ot(e._mouseleave,e)),(e._plotArea.crosshairs.length||e._tooltip&&e._sharedTooltip())&&t.on(Cn,Ot(e._mousemove,e)),zt.UserEvents&&(e._userEvents=new zt.UserEvents(t,{global:!0,threshold:5,filter:":not(.k-selector)",multiTouch:!1,start:Ot(e._start,e),move:Ot(e._move,e),end:Ot(e._end,e)}))},_mouseout:function(e){var t=this,i=t._model.modelMap[e.target.getAttribute("data-model-id")];i&&i.leave&&i.leave(t,e)},_start:function(e){var t=this,i=t._events;di(i[on]||i[tn]||i[nn])&&t._startNavigation(e,on)},_move:function(e){var t,i,n,o,r,a,s=this,l=s._navState,c={};if(l){for(e.preventDefault(),t=l.axes,i=0;t.length>i;i++)n=t[i],o=n.options.name,o&&(r=n.options.vertical?e.y:e.x,a=r.startLocation-r.location,0!==a&&(c[n.options.name]=n.translateRange(a)));l.axisRanges=c,s.trigger(tn,{axisRanges:c,originalEvent:e})}},_end:function(e){this._endNavigation(e,nn)},_mousewheel:function(e){var t,i,n,o,r,a,s=this,l=e.originalEvent,c=M(e),h=s._navState,d={};if(h||(t=s._startNavigation(l,bo),t||(h=s._navState)),h){for(i=h.totalDelta||c,h.totalDelta=i+c,n=s._navState.axes,o=0;n.length>o;o++)r=n[o],a=r.options.name,a&&(d[a]=r.scaleRange(i));s.trigger(wo,{delta:c,axisRanges:d,originalEvent:e}),s._mwTimeout&&clearTimeout(s._mwTimeout),s._mwTimeout=setTimeout(function(){s._endNavigation(e,_o)},Sn)}},_startNavigation:function(e,t){var i,n,o,r=this,a=r._eventCoordinates(e),s=r._model._plotArea,l=s.findPointPane(a),c=s.axes.slice(0),h=!1;if(l){for(i=0;c.length>i;i++)if(n=c[i],n.box.containsPoint(a)){h=!0;break}!h&&s.backgroundBox().containsPoint(a)&&(o=r.trigger(t,{axisRanges:U(c),originalEvent:e}),o?r._userEvents.cancel():(r._suppressHover=!0,r._unsetActivePoint(),r._navState={pane:l,axes:c}))}},_endNavigation:function(e,t){var i=this;i._navState&&(i.trigger(t,{axisRanges:i._navState.axisRanges,originalEvent:e}),i._suppressHover=!1,i._navState=null)},_getChartElement:function(t){var i,n=this,o=e(t.target).data("modelId"),r=n._model;return o&&(i=r.modelMap[o]),i&&i.aliasFor&&(i=i.aliasFor(t,n._eventCoordinates(t))),i},_eventCoordinates:function(e){var t=this,i=di((e.x||{}).client),n=i?e.x.client:e.clientX,o=i?e.y.client:e.clientY;return t._toModelCoordinates(n,o)},_toModelCoordinates:function(t,i){var n=this.element,o=n.offset(),r=parseInt(n.css("paddingLeft"),10),a=parseInt(n.css("paddingTop"),10),s=e(window);return new ii(t-o.left-r+s.scrollLeft(),i-o.top-a+s.scrollTop())},_click:function(e){for(var t=this,i=t._getChartElement(e);i;)i.click&&i.click(t,e),i=i.parent},_startHover:function(e){var i,n=this,o=n._tooltip,r=n._highlight,a=n.options.tooltip;if(!n._suppressHover&&r&&!gi(e.target,r._overlays)&&!n._sharedTooltip())return i=n._getChartElement(e),i&&i.hover&&(i.hover(n,e),!e.isDefaultPrevented())?(n._activePoint=i,a=Wt({},a,i.options.tooltip),a.visible&&o.show(i),r.show(i),!0):t},_mouseover:function(t){var i=this;i._startHover(t)&&e(document).on(_n,Ot(i._mouseMoveTracking,i))},_mouseMoveTracking:function(t){var i,n,o,r=this,a=r.options,s=r._tooltip,l=r._highlight,c=r._eventCoordinates(t),h=r._activePoint;r._plotArea.box.containsPoint(c)?h&&h.series&&(h.series.type===fn||h.series.type===_i)&&(n=h.parent,o=n.getNearestPoint(c.x,c.y,h.seriesIx),o&&o!=h&&(o.hover(r,t),r._activePoint=o,i=Wt({},a.tooltip,h.options.tooltip),i.visible&&s.show(o),l.show(o))):(e(document).off(_n),r._unsetActivePoint())},_mousemove:function(e){var t,i=this,n=new Date,o=i._mousemove.timestamp;(!o||n-o>In)&&(t=i._eventCoordinates(e),i._trackCrosshairs(t),i._sharedTooltip()&&i._trackSharedTooltip(t),i._mousemove.timestamp=n)},_trackCrosshairs:function(e){var t,i,n=this._plotArea.crosshairs;for(t=0;n.length>t;t++)i=n[t],i.box.containsPoint(e)?i.showAt(e):i.hide()},_trackSharedTooltip:function(e){var t,i,n=this,o=n.options,r=n._plotArea,a=r.categoryAxis,s=n._tooltip,l=o.tooltip,c=n._highlight;t=a.getCategoryIndex(e),t!==n._tooltipCategoryIx&&(i=r.pointsByCategoryIndex(t),i.length>0?(l.visible&&s.showAt(i,e),c.show(i)):s.hide(),n._tooltipCategoryIx=t)},_mouseleave:function(){var e,t=this,i=t._plotArea,n=i.crosshairs,o=t._tooltip,r=t._highlight;for(e=0;n.length>e;e++)n[e].hide();setTimeout(Ot(o.hide,o),oo),r.hide(),t._tooltipCategoryIx=null},_unsetActivePoint:function(){var e=this,t=e._tooltip,i=e._highlight;e._activePoint=null,t&&t.hide(),i&&i.hide()},_onDataChanged:function(){var e,t,i=this,n=i.options,o=i._sourceSeries||n.series,r=o.length,a=i.dataSource.view(),s=(i.dataSource.group()||[]).length>0,l=[];for(e=0;r>e;e++)t=o[e],i._isBindable(t)&&s?ci(l,N(t,a)):l.push(t||[]);i._sourceSeries=o,n.series=l,c(i.options),i._bindSeries(),i._bindCategories(),i.trigger(Wi),i._redraw()},_bindSeries:function(){var e,t,i,n,o=this,r=o.dataSource.view(),a=o.options.series,s=a.length;for(e=0;s>e;e++)t=a[e],o._isBindable(t)&&(i=t._groupIx,n=di(i)?(r[i]||{}).items:r,t.autoBind!==!1&&(t.data=n))},_bindCategories:function(){var e,t,i=this,n=i.dataSource.view(),o=(i.dataSource.group()||[]).length>0,r=(o?n[0].items:n)||[],a=i.options,s=[].concat(a.categoryAxis);for(e=0;s.length>e;e++)t=s[e],t.autoBind!==!1&&i._bindCategoryAxis(t,r)},_bindCategoryAxis:function(e,t){var i,n,o;if(e.field)for(e.categories=[],i=0;t.length>i;i++)o=t[i],n=f(e.field,o),0===i?(e.categories=[n],e.dataItems=[o]):(e.categories.push(n),e.dataItems.push(o))},_isBindable:function(e){var t,i,n=C(e.type),o=!0;for(i=0;n.length>i;i++)if(t=n[i],t===lo?t="field":t+="Field",!e[t]){o=!1;break}return o},_tap:function(e){var t=this;t._startHover(e)||t._unsetActivePoint(),t._click(e)},_legendItemClick:function(e,t){var i,n,o=this,r=o._plotArea,a=(r.srcSeries||r.series)[e];gi(a.type,[Bn,Zi])?(i=a.data[t],i.visible=di(i.visible)?!i.visible:!1):a.visible=!a.visible,o.options.transitions&&(o.options.transitions=!1,n=!0),o.redraw(),n&&(o.options.transitions=!0)},_legendItemHover:function(e,t){var i,n=this,o=n._plotArea,r=n._highlight,a=(o.srcSeries||o.series)[e];i=gi(a.type,[Bn,Zi])?o.charts[0].segments[t]:o.pointsBySeriesIndex(e),r.show(i)},destroy:function(){var t=this,i=t.dataSource;t.element.off(bi),i.unbind(Oi,t._dataChangeHandler),e(document).off(_n),t._userEvents&&t._userEvents.destroy(),t._destroyView(),Ft.fn.destroy.call(t)},_destroyView:function(){var t=this,i=Xt.IDPool.current,n=t._model,o=t._view,r=t._viewElement,a=t._selections;if(n&&n.destroy(),o&&o.destroy(),r&&e("[id]",r).each(function(){i.free(e(this).attr("id"))}),a)for(;a.length>0;)a.shift().destroy()}}),Po=$t.extend({init:function(e,t){var i=this;$t.fn.init.call(i,t),i.append(new ai(e,i.options))},options:{position:Vn,margin:pi(3),padding:pi(4),color:Ti,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:rn,delay:ln},zIndex:1},reflow:function(e){var t=this,i=t.options,n=i.vertical,o=i.aboveAxis,r=t.children[0],a=r.box,s=r.options.padding;r.options.align=n?Hi:un,r.options.vAlign=n?eo:Hi,i.position==hn?n?(r.options.vAlign=eo,!o&&a.height()<e.height()&&(r.options.vAlign=Di)):r.options.align=o?Hn:un:i.position==Hi?(r.options.vAlign=Hi,r.options.align=Hi):i.position==cn?n?r.options.vAlign=o?Di:eo:r.options.align=o?un:Hn:i.position==Vn&&(n?e=o?new Kt(e.x1,e.y1-a.height(),e.x2,e.y1):new Kt(e.x1,e.y2,e.x2,e.y2+a.height()):(r.options.align=Hi,e=o?new Kt(e.x2+a.width(),e.y1,e.x2,e.y2):new Kt(e.x1-a.width(),e.y1,e.x1,e.y2))),n?s.left=s.right=(e.width()-r.contentBox.width())/2:s.top=s.bottom=(e.height()-r.contentBox.height())/2,r.reflow(e)}}),To=ri.extend({init:function(e,t){var i=this;i.item=e,ri.fn.init.call(i,e.text,Wt({id:yi(),cursor:{style:Ln}},t)),i.enableDiscovery()},click:function(t,i){var n=this.item;i.preventDefault(),t.trigger(pn,{element:e(i.target),text:n.text,series:n.series,seriesIndex:n.series.index,pointIndex:n.pointIndex}),t._legendItemClick(n.series.index,n.pointIndex)},hover:function(t,i){var n=this.item;i.preventDefault(),t.trigger(gn,{element:e(i.target),text:n.text,series:n.series,seriesIndex:n.series.index,pointIndex:n.pointIndex}),t._legendItemHover(n.series.index,n.pointIndex)},leave:function(e){e._unsetActivePoint()}}),Vo=$t.extend({init:function(e){var t=this;$t.fn.init.call(t,e),t.createLabels()},options:{position:Hn,items:[],labels:{},offsetX:0,offsetY:0,margin:pi(10),padding:pi(5),border:{color:Ti,width:0},background:"",zIndex:1,markers:{border:{width:1}}},createLabels:function(){var e,t,i=this,n=i.options.items,o=n.length;for(e=0;o>e;e++)t=n[e],i.append(new To(t,Wt({},i.options.labels,{color:t.labelColor})))},reflow:function(e){var i=this,n=i.options,o=i.children.length;return 0===o?(i.box=e.clone(),t):"custom"==n.position?(i.customLayout(e),t):(n.position==eo||n.position==Di?i.horizontalLayout(e):i.verticalLayout(e),t)},getViewElements:function(e){var t,i,n,o,r,a,s,l=this,c=l.children,h=l.options,d=h.items,u=d.length,p=l.markerSize(),g=e.createGroup({zIndex:h.zIndex}),f=h.border||{};for(ci(g.children,$t.fn.getViewElements.call(l,e)),s=0;u>s;s++)o=d[s].markerColor,r=c[s],i=Kt(),a=r.box,n=n?n.wrap(a):a.clone(),i.x1=a.x1-2*p,i.x2=i.x1+p,i.y1=h.position==eo||h.position==Di?a.y1+p/2:a.y1+(a.height()-p)/2,i.y2=i.y1+p,g.children.push(e.createRect(i,{fill:o,stroke:o,strokeWidth:h.markers.border.width,data:{modelId:r.options.modelId},cursor:{style:Ln}}));return c.length>0&&(t=pi(h.padding),t.left+=2*p,n.pad(t),g.children.unshift(e.createRect(n,{stroke:f.width?f.color:"",strokeWidth:f.width,dashType:f.dashType,fill:h.background}))),[g]},verticalLayout:function(e){var t,i,n,o,r,a=this,s=a.options,l=a.children,c=l.length,h=l[0].box.clone(),d=pi(s.margin),u=2*a.markerSize();for(o=1;c>o;o++)n=a.children[o],n.box.alignTo(a.children[o-1].box,Di),h.wrap(n.box);s.position==un?(t=e.x1+u+d.left,i=(e.y2-h.height())/2,h.x2+=u+d.left+d.right):(t=e.x2-h.width()-d.right,i=(e.y2-h.height())/2,h.translate(t,i),h.x1-=u+d.left),a.translateChildren(t+s.offsetX,i+s.offsetY),r=h.width(),h.x1=Lt.max(e.x1,h.x1),h.x2=h.x1+r,h.y1=e.y1,h.y2=e.y2,a.box=h},horizontalLayout:function(e){var t,i,n,o,r=this,a=r.options,s=r.children,l=s.length,c=s[0].box.clone(),h=3*r.markerSize(),d=pi(a.margin),u=s[0].box.width()+h,p=e.width(),g=0;for(o=1;l>o;o++)n=s[o],u+=n.box.width()+h,u>p-h?(n.box=Kt(c.x1,c.y2,c.x1+n.box.width(),c.y2+n.box.height()),u=n.box.width()+h,g=n.box.y1):(n.box.alignTo(s[o-1].box,Hn),n.box.y2=g+n.box.height(),n.box.y1=g,n.box.translate(h,0)),c.wrap(n.box);t=(e.width()-c.width()+h)/2,a.position===eo?(i=e.y1+d.top,c.y2=e.y1+c.height()+d.top+d.bottom,c.y1=e.y1):(i=e.y2-c.height()-d.bottom,c.y1=e.y2-c.height()-d.top-d.bottom,c.y2=e.y2),r.translateChildren(t+a.offsetX,i+a.offsetY),c.x1=e.x1,c.x2=e.x2,r.box=c},customLayout:function(e){var t,i=this,n=i.options,o=i.children,r=o.length,a=o[0].box.clone(),s=2*i.markerSize();for(t=1;r>t;t++)a=i.children[t].box,a.alignTo(i.children[t-1].box,Di),a.wrap(a);i.translateChildren(n.offsetX+s,n.offsetY),i.box=e},markerSize:function(){var e=this,t=e.children;return t.length>0?t[0].box.height()/2:0}}),Do=Gt.extend({init:function(e){var t=this;Gt.fn.init.call(t,e),e=t.options,e.categories=e.categories.slice(0),t._ticks={}},options:{type:Li,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:Ti},zIndex:1,justified:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(e){var t,i=this,n=i.options,o=n.vertical,r=n.justified,a=i.lineBox(),s=o?a.height():a.width(),l=e-(r?1:0),c=s/l,h=o?xo:fo,d=a[h+1],u=[];for(t=0;e>t;t++)u.push(vi(d,Fi)),d+=c;return r||u.push(a[h+2]),n.reverse?u.reverse():u},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getTicks:function(){var e,t=this,i=t._ticks,n=t.options,o=n.categories.length,r=n.reverse,a=n.justified,s=t.lineBox();return e=s.getHash()+o+r+a,i._hash!==e&&(i._hash=e,i.majorTicks=t.getTickPositions(o),i.minorTicks=t.getTickPositions(2*o)),i},getSlot:function(e,t){var i,n,o,r=this,a=r.options,s=r.getMajorTickPositions(),l=a.reverse,c=a.justified,h=a.vertical?xo:fo,d=r.lineBox(),u=d[h+(l?2:1)],p=d[h+(l?1:2)],g=d.clone(),f=Lt.max(1,s.length-(c?0:1));return e=di(e)?e:0,t=di(t)?t:e,e=D(e,0,f),t=D(t-1,e,f),t=Lt.max(e,t),i=0===e?u:s[e],n=c?i:s[t],o=t-e,(o>0||e===t)&&(n=s[t+1]||p),c&&(e===f?i=n:n=i),g[h+1]=l?n:i,g[h+2]=l?i:n,g},getCategoryIndex:function(e){var t,i,n,o,r=this,a=r.options,s=a.reverse,l=a.vertical,c=l?xo:fo,h=r.lineBox(),d=h[c+1],u=h[c+2],p=e[c],g=r.getMajorTickPositions(),f=vn;if(d>p||p>u)return null;for(n=0;g.length>n;n++)if(t=g[n],i=g[n+1],di(i)||(i=s?d:u),s&&(t=i,i=g[n]),a.justified){if(p===i){o=Lt.max(0,l?g.length-n-1:n+1);break}f>Lt.abs(p-t)&&(f=p-t,o=n)}else if(p>=t&&i>=p){o=n;break}return o},getCategory:function(e){var t=this.getCategoryIndex(e);return null===t?null:this.options.categories[t]},translateRange:function(e){var t=this,i=t.options,n=t.lineBox(),o=i.vertical?n.height():n.width(),r=i.categories.length,a=o/r,s=vi(e/a,Ki);return{min:s,max:r+s}},scaleRange:function(e){var t=this,i=t.options,n=i.categories.length,o=e*n;return{min:-o,max:n+o}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(e,t){var i=this,n=i.options,o=n.dataItems?n.dataItems[e]:null,r=di(n.categories[e])?n.categories[e]:"";return new qt(r,e,o,t)}}),Bo=qt.extend({formatValue:function(e,t){return zt.toString(e,t.format,t.culture)}}),Eo=Do.extend({init:function(e){var t,i,n=this;e=e||{},e=Wt({roundToBaseUnit:!0},e,{min:x(e.min),max:x(e.max)}),e.categories&&e.categories.length>0&&(t=(e.baseUnit||"").toLowerCase(),i=t!==ki&&!gi(t,Co),i&&(e.baseUnit=n.defaultBaseUnit(e)),(t===ki||e.baseUnitStep===Ai)&&n.autoBaseUnit(e),n.groupCategories(e)),Do.fn.init.call(n,e)},options:{type:Yi,labels:{dateFormats:Io},autoBaseUnitSteps:{minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},translateRange:function(e){var t=this,i=Do.fn.translateRange.call(t,e),n=t.options,o=n.baseUnit,r=Lt.round(i.min),a=n.weekStartDay;return{min:m(n.min,r,o,a),max:m(n.max,r,o,a)}},scaleRange:function(e){for(var t,i,n=this,o=n.options,r=Lt.abs(e),a=o.min,s=o.max;r--;)t=_(a,s),i=Lt.round(.1*t),0>e?(a=A(a,i),s=A(s,-i)):(a=A(a,-i),s=A(s,i));return{min:a,max:s}},defaultBaseUnit:function(e){var t,i,n,o,r,a=e.categories,s=di(a)?a.length:0,l=vn;for(t=0;s>t;t++)i=x(a[t]),i&&o&&(n=_(i,o),n>0&&(l=Lt.min(l,n),r=l>=$n?vo:l>=Qn-3*Jn?bn:l>=Kn?po:l>=Jn?Gi:l>=qn?sn:yn)),o=i;return r||Gi},range:function(e){e=e||this.options;var t=x(e.categories),i=e.baseUnit===ki,n=i?Co[0]:e.baseUnit,o=v(e.min),a=v(e.max),s=r(t),l=v(s.min),c=v(s.max);return e.roundToBaseUnit?{min:m(o||l,0,n,e.weekStartDay),max:m(a||c,1,n,e.weekStartDay)}:{min:x(o||l),max:x(a||c)}},autoBaseUnit:function(e){for(var t,i,n,o=this,r=o.range(e),a=e.baseUnit===ki,s=0,l=a?Co[s++]:e.baseUnit,c=r.max-r.min,h=c/Zn[l],d=h,u=e.maxDateGroups||o.options.maxDateGroups,p=Wt({},o.options.autoBaseUnitSteps,e.autoBaseUnitSteps);!i||h>u;)if(t=t||p[l].slice(0),n=t.shift())i=n,h=d/i;else{if(l===xi(Co)){i=Lt.ceil(d/u);break}if(!a){h>u&&(i=Lt.ceil(d/u));break}l=Co[s++]||xi(Co),d=c/Zn[l],t=null}e.baseUnitStep=i,e.baseUnit=l},getMajorTickPositions:function(){var e,t,i,n,o,r,a,s,l,c,h,d,u,p,g,f,x,v=this,m=v.options,y=m.categories,b=[];if(m.roundToBaseUnit||0===y.length)b=Do.fn.getMajorTickPositions.call(v);else{for(i=m.vertical,n=m.reverse,o=v.lineBox(),r=i?o.height():o.width(),a=y[0].getTime(),s=v.range(v.options),l=s.max-s.min,c=r/l,h=y.length,d=(i?-1:1)*(n?-1:1),u=1===d?1:2,p=1===d?2:1,g=o[(i?xo:fo)+u],f=o[(i?xo:fo)+p],x=g,e=0;h>e;e++)t=y[e]-a,x=g+t*c*d,b.push(vi(x,Fi));xi(b)!==f&&b.push(f)}return b},groupCategories:function(e){var t,i,n,o,r,a,s=this,l=x(e.categories),c=e.baseUnit,h=e.baseUnitStep||1,d=s.range(e),u=e.roundToBaseUnit,p=[],g=s.categoryMap=[],f=[];for(t=u?m(d.max,h-1,c,e.weekStartDay):d.max,R(d.min,d.max)&&(t=x(v(t)+1)),i=d.min;t>i;i=n){for(n=m(i,h,c,e.weekStartDay),p.push(i),o=[],r=O(l,i);l.length>r;r++)if(a=l[r],a&&a>=i)if(n>a)e.justified&&R(a,t)?f.push(r):o.push(r);else{if(u||!R(n,t))break;f.push(r)}g.push(o)}f.length&&(p.push(t),g.push(f)),e.max||0!==(xi(g)||[]).length||(g.pop(),p.pop()),e.min=p[0],e.max=u?xi(p):t,e.categories=p},createAxisLabel:function(e,t){var i,n=this.options,o=n.dataItems?n.dataItems[e]:null,r=n.categories[e],a=n.baseUnit,s=!0,l=t.dateFormats[a];return n.justified&&(i=b(r,a,n.weekStartDay),s=R(i,r)),t=Wt({format:l},t,{visible:s}),new Bo(r,e,o,t)}}),Ro=Gt.extend({init:function(e,t,i){var n=this;i=i||{},Wt(i,{min:x(i.min),max:x(i.max),axisCrossingValue:x(i.axisCrossingValues||i.axisCrossingValue)}),i=n.applyDefaults(x(e),x(t),i),Gt.fn.init.call(n,i)},options:{type:Yi,labels:{dateFormats:Io}},applyDefaults:function(e,i,n){var o=this,r=n.min||e,a=n.max||i,s=n.baseUnit||o.timeUnits(a-r),l=Zn[s],c=b(v(r)-1,s)||x(a),h=w(v(a)+1,s),d=n.majorUnit?n.majorUnit:t,u=d||Xt.ceil(Xt.autoMajorUnit(c.getTime(),h.getTime()),l)/l,p=k(c,h,s),g=Xt.ceil(p,u),f=g-p,y=Lt.floor(f/2),_=f-y;return n.baseUnit||delete n.baseUnit,Wt({baseUnit:s,min:m(c,-y,s),max:m(h,_,s),minorUnit:u/5},n,{majorUnit:u})},range:function(){var e=this.options;return{min:e.min,max:e.max}},getDivisions:function(e){var t=this.options;return Lt.floor(k(t.min,t.max,t.baseUnit)/e+1)},getTickPositions:function(e){var t,i=this,n=i.options,o=n.vertical,r=n.reverse,a=i.lineBox(),s=o?a.height():a.width(),l=k(n.min,n.max,n.baseUnit),c=s/l,h=e*c,d=i.getDivisions(e),u=(o?-1:1)*(r?-1:1),p=1===u?1:2,g=a[(o?xo:fo)+p],f=[];for(t=0;d>t;t++)f.push(vi(g,Fi)),g+=h*u;return f},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.majorUnit)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(e.options.minorUnit)},getSlot:function(e,t){return ti.fn.getSlot.call(this,x(e),x(t))},getValue:function(e){var t=ti.fn.getValue.call(this,e);return null!==t?x(t):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(e,t){var i=this.options,n=e*i.majorUnit,o=m(i.min,n,i.baseUnit),r=t.dateFormats[i.baseUnit];return t.format=t.format||r,new Bo(o,e,null,t)},timeUnits:function(e){var t=sn;return e>=$n?t=vo:e>=Qn?t=bn:e>=Kn?t=po:e>=Jn&&(t=Gi),t},translateRange:function(e){var t=this,i=t.options,n=i.baseUnit,o=i.weekStartDay,r=t.lineBox(),a=i.vertical?r.height():r.width(),s=t.range(),l=a/(s.max-s.min),c=vi(e/l,Ki),h=A(i.min,c),d=A(i.max,c);return{min:m(h,0,n,o),max:m(d,0,n,o)}},scaleRange:function(e){for(var t,i,n=this,o=n.options,r=o.baseUnit,a=o.weekStartDay,s=Lt.abs(e),l=o.min,c=o.max;s--;)t=_(l,c),i=Lt.round(.1*t),0>e?(l=A(l,i),c=A(c,-i)):(l=A(l,-i),c=A(c,i)),l=m(l,0,r,a),c=m(c,1,r,a);return{min:l,max:c}}}),Lo=$t.extend({init:function(e){var t=this;$t.fn.init.call(t,e)},options:{vertical:!1,gap:0,spacing:0},reflow:function(e){var t,i,n=this,o=n.options,r=o.vertical,a=r?xo:fo,s=n.children,l=o.gap,c=o.spacing,h=s.length,d=h+l+c*(h-1),u=(r?e.height():e.width())/d,p=e[a+1]+u*(l/2);for(i=0;h>i;i++)t=(s[i].box||e).clone(),t[a+1]=p,t[a+2]=p+u,s[i].reflow(t),h-1>i&&(p+=u*c),p+=u}}),Ho=$t.extend({init:function(e){var t=this;$t.fn.init.call(t,e)},options:{vertical:!0,isReversed:!1},reflow:function(e){var t,i,n,o,r=this,a=r.options,s=a.vertical,l=s?fo:xo,c=s?xo:fo,h=e[c+2],d=r.children,u=r.box=new Kt,p=d.length;for(t=a.isReversed?s?Di:un:s?eo:Hn,i=0;p>i;i++)n=d[i],o=n.box.clone(),o.snapTo(e,l),n.options&&(n.options.stackBase=h),0===i?u=r.box=o.clone():o.alignTo(d[i-1].box,t),n.reflow(o),u.wrap(o)}}),Oo={click:function(t,i){var n=this;t.trigger(Wn,{value:n.value,category:n.category,series:n.series,dataItem:n.dataItem,element:e(i.target)})},hover:function(t,i){var n=this;t.trigger(Yn,{value:n.value,category:n.category,series:n.series,dataItem:n.dataItem,element:e(i.target)})}},zo=$t.extend({init:function(e,t){var i=this;$t.fn.init.call(i,t),i.value=e,0>e&&t.negativeColor&&(i.options.color=t.negativeColor),i.options.id=yi(),i.enableDiscovery()},options:{color:go,border:{width:1},vertical:!0,overlay:{gradient:an},aboveAxis:!0,labels:{visible:!1},animation:{type:Ii},opacity:1},render:function(){var e,t=this,i=t.value,n=t.options,o=n.labels,r=i;t._rendered||(t._rendered=!0,o.visible&&i&&(o.template?(e=jt(o.template),r=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):o.format&&(r=hi(o.format,r)),t.append(new Po(r,Wt({vertical:n.vertical,id:yi()},n.labels)))))},reflow:function(e){this.render();var t=this,i=t.options,n=t.children,o=n[0];t.box=e,o&&(o.options.aboveAxis=i.aboveAxis,o.reflow(e))},getViewElements:function(e){var t=this,i=t.options,n=i.vertical,o=i.border.width>0?{stroke:t.getBorderColor(),strokeWidth:i.border.width,strokeOpacity:i.border.opacity,dashType:i.border.dashType}:{},r=t.box,a=Wt({id:i.id,fill:i.color,fillOpacity:i.opacity,strokeOpacity:i.opacity,vertical:i.vertical,aboveAxis:i.aboveAxis,stackBase:i.stackBase,animation:i.animation,data:{modelId:i.modelId}},o),s=[];
return r.width()>0&&r.height()>0&&(i.overlay&&(a.overlay=Wt({rotation:n?0:90},i.overlay)),s.push(e.createRect(r,a))),ci(s,$t.fn.getViewElements.call(t,e)),s},highlightOverlay:function(e,t){var i=this,n=i.box;return t=Wt({data:{modelId:i.options.modelId}},t),t.id=null,e.createRect(n,t)},getBorderColor:function(){var e=this,t=e.options,i=t.color,n=t.border,o=n.color,r=n._brightness||Si;return di(o)||(o=new Zt(i).brightness(r).toHex()),o},tooltipAnchor:function(e,t){var i,n,o=this,r=o.options,a=o.box,s=r.vertical,l=r.aboveAxis;return s?(i=a.x2+io,n=l?a.y1:a.y2-t):r.isStacked?(i=l?a.x2-e:a.x1,n=a.y1-t-io):(i=l?a.x2+io:a.x1-e-io,n=a.y1),new ii(i,n)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});Wt(zo.fn,Oo),F=$t.extend({init:function(e,t){var i=this;$t.fn.init.call(i,t),i.plotArea=e,i.categoryAxis=e.seriesCategoryAxis(t.series[0]),i.valueAxisRanges={},i.points=[],i.categoryPoints=[],i.seriesPoints=[],i.render()},options:{series:[],invertAxes:!1,isStacked:!1},render:function(){var e=this;e.traverseDataPoints(Ot(e.addValue,e))},addValue:function(e,t,i,n,o){var r,a=this,s=e.value,l=a.categoryPoints[i],c=a.seriesPoints[o];l||(a.categoryPoints[i]=l=[]),c||(a.seriesPoints[o]=c=[]),a.updateRange(s,i,n),r=a.createPoint(e,t,i,n,o),r&&(r.category=t,r.series=n,r.seriesIx=o,r.owner=a,r.dataItem=n.data[i]),a.points.push(r),c.push(r),l.push(r)},updateRange:function(e,t,i){var n=this,o=i.axis,r=n.valueAxisRanges[o];di(e)&&!isNaN(e)&&(r=n.valueAxisRanges[o]=r||{min:vn,max:mn},r.min=Lt.min(r.min,e),r.max=Lt.max(r.max,e))},seriesValueAxis:function(e){var t=this.plotArea,i=e.axis,n=i?t.namedValueAxes[i]:t.valueAxis;if(!n)throw Error("Unable to locate value axis with name "+i);return n},reflow:function(e){var t,i,n,o,r=this,a=r.options,s=a.invertAxes,l=0,c=r.categorySlots=[],h=r.points,d=r.categoryAxis;r.traverseDataPoints(function(e,a,u,p){if(p.visible!==!1){t=r.pointValue(e),i=r.seriesValueAxis(p),n=r.categoryAxisCrossingValue(i),o=h[l++],o&&o.plotValue&&(t=o.plotValue);var g=r.categorySlot(d,u,i),f=r.valueSlot(i,t,n),x=s?f:g,v=s?g:f,m=new Kt(x.x1,v.y1,x.x2,v.y2),y=i.options.reverse?n>t:t>=n;o&&(o.options.aboveAxis=y,o.reflow(m)),c[u]||(c[u]=g)}}),r.reflowCategories(c),r.box=e},categoryAxisCrossingValue:function(e){var t=this.categoryAxis,i=e.options,n=[].concat(i.axisCrossingValues||i.axisCrossingValue);return n[t.axisIndex||0]||0},reflowCategories:function(){},valueSlot:function(e,t,i){return e.getSlot(t,i)},categorySlot:function(e,t){return e.getSlot(t)},traverseDataPoints:function(e){var t,i,n,o,r,a=this,s=a.options,l=s.series,c=a.categoryAxis.options.categories||[],h=p(l),d=a.bindableFields(),u=l.length;for(t=0;h>t;t++)for(i=0;u>i;i++)r=l[i],o=c[t],n=I(r,t,d),e(n,o,t,r,i)},bindableFields:function(){return[]},formatPointValue:function(e,t){return hi(t,e.value)},pointValue:function(e){return e.value}}),j=F.extend({init:function(e,t){var i=this;i._groupTotals={},i._groups=[],F.fn.init.call(i,e,t)},render:function(){var e=this;F.fn.render.apply(e),e.computeAxisRanges()},createPoint:function(e,i,n,o){var r,a,s,l,c,h=this,d=e.value,u=h.options,p=h.children,g=h.options.isStacked,f=Wt({},o.labels);return g&&f.position==Vn&&(f.position=hn),r=new zo(d,Wt({},{vertical:!u.invertAxes,overlay:o.overlay,labels:f,isStacked:g},o,{color:e.fields.color||t})),a=p[n],a||(a=new Lo({vertical:u.invertAxes,gap:u.gap,spacing:u.spacing}),h.append(a)),g?(c=h.getStackWrap(o,a),0===c.children.length?(s=new Ho({vertical:!u.invertAxes}),l=new Ho({vertical:!u.invertAxes,isReversed:!0}),c.append(s,l)):(s=c.children[0],l=c.children[1]),d>0?s.append(r):l.append(r)):a.append(r),r},getStackWrap:function(e,t){var i,n,o=t.children,r=e.stack,a=o.length;if(typeof r===Xn){for(n=0;a>n;n++)if(o[n]._stackGroup===r){i=o[n];break}}else i=o[0];return i||(i=new $t,i._stackGroup=r,t.append(i)),i},updateRange:function(e,t,i){var n,o=this,r=o.options.isStacked;di(e)&&(r?(n=o.groupTotals(i.stack),u(e>0?n.positive:n.negative,t,e)):F.fn.updateRange.apply(o,arguments))},computeAxisRanges:function(){var e,t,i=this,r=i.options.isStacked;r&&(e=i.options.series[0].axis,t=i.categoryTotals(),i.valueAxisRanges[e]={min:n(t.negative.concat(0)),max:o(t.positive.concat(0))})},seriesValueAxis:function(e){var t=this,i=t.options;return F.fn.seriesValueAxis.call(t,i.isStacked?t.options.series[0]:e)},valueSlot:function(e,t,i){return e.getSlot(t,this.options.isStacked?0:i)},categorySlot:function(e,t,i){var n,o,r=this,a=r.options,s=e.getSlot(t);return a.isStacked&&(o=i.getSlot(0,0),n=a.invertAxes?fo:xo,s[n+1]=s[n+2]=o[n+1]),s},reflow:function(e){var t=this;t.setStacksDirection(),F.fn.reflow.call(t,e)},setStacksDirection:function(){var e,t,i,n,o,r,a,s,l,c=this,h=c.options,d=h.series,u=p(d),g=c.children,f=d.length;for(t=0;f>t;t++)for(i=d[t],n=c.seriesValueAxis(i),e=0;u>e;e++)o=g[e],r=c.getStackWrap(i,o),a=r.children,s=a[0],l=a[1],s&&l&&(s.options.isReversed=n.options.reverse,l.options.isReversed=!n.options.reverse)},reflowCategories:function(e){var t,i=this,n=i.children,o=n.length;for(t=0;o>t;t++)n[t].reflow(e[t])},groupTotals:function(e){var t,i,n=this;return t=typeof e===Xn?e:n._groups[0]||"default",i=n._groupTotals[t],i||(i=n._groupTotals[t]={positive:[],negative:[]},n._groups.push(t)),i},categoryTotals:function(){var e,t,i,n=this,o=n._groups,r=n._groupTotals,a={positive:[],negative:[]},s=o.length;for(i=0;s>i;i++)e=o[i],t=r[e],ci(a.positive,t.positive),ci(a.negative,t.negative);return a},bindableFields:function(){return["color"]}}),W=F.extend({init:function(e,t){var i=this;i.wrapData(t),F.fn.init.call(i,e,t)},wrapData:function(e){var t,i,n,o=e.series;for(t=0;o.length>t;t++)n=o[t],i=n.data,i&&!Et(i[0])&&"object"!=typeof i[0]&&(n.data=[i])},addValue:function(e,t,i,n,o){var r,a=this,s=a.categoryPoints[i],l=a.seriesPoints[o];s||(a.categoryPoints[i]=s=[]),l||(a.seriesPoints[o]=l=[]),a.updateRange(e.value,i,n),r=a.createPoint(e.value,i,n),r&&(r.category=t,r.series=n,r.seriesIx=o,r.owner=a,r.dataItem=n.data[i]),a.points.push(r),l.push(r),s.push(r)},reflowCategories:function(e){var t,i=this,n=i.children,o=n.length;for(t=0;o>t;t++)n[t].reflow(e[t])},createPoint:function(e,t,i){var n,o,r=this,a=r.options,s=r.children;return n=new Y(e,Wt({},{vertical:!a.invertAxes,overlay:i.overlay,categoryIx:t,invertAxes:a.invertAxes},i)),o=s[t],o||(o=new Lo({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing}),r.append(o)),o.append(n),n},updateRange:function(e,t,i){var n=this,o=i.axis,r=e.current,a=e.target,s=n.valueAxisRanges[o];di(r)&&!isNaN(r)&&di(a&&!isNaN(a))&&(s=n.valueAxisRanges[o]=s||{min:vn,max:mn},s.min=Lt.min.apply(Lt,[s.min,r,a]),s.max=Lt.max.apply(Lt,[s.max,r,a]))},formatPointValue:function(e,t){return hi(t,e.value.current,e.value.target)},pointValue:function(e){return e.value.current}}),Y=$t.extend({init:function(e,t){var i=this;$t.fn.init.call(i,t),i.value=e,i.options.id=yi(),i.enableDiscovery(),i.render()},options:{color:go,border:{width:1},vertical:!1,animation:{type:Ii},opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}</br>Target: {1}"}},render:function(){var e=this,t=e.options;e.target=new G({id:e.options.id,type:t.target.shape,background:t.target.color||t.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:eo,align:Hn}),e.append(e.target)},reflow:function(e){var t=this,i=t.options,n=t.owner,o=t.target,r=i.invertAxes,a=n.seriesValueAxis(t.options),s=n.categorySlot(n.categoryAxis,i.categoryIx,a),l=n.valueSlot(a,t.value.target,t.value.target),c=r?l:s,h=r?s:l,d=new Kt(c.x1,h.y1,c.x2,h.y2);o.options.height=r?d.height():i.target.line.width,o.options.width=r?i.target.line.width:d.width(),o.reflow(d),t.box=e},getViewElements:function(e){var t=this,i=t.options,n=i.vertical,o=i.border.width>0?{stroke:i.border.color||i.color,strokeWidth:i.border.width,dashType:i.border.dashType}:{},r=t.box,a=Wt({id:i.id,fill:i.color,fillOpacity:i.opacity,strokeOpacity:i.opacity,vertical:i.vertical,aboveAxis:i.aboveAxis,animation:i.animation,data:{modelId:i.modelId}},o),s=[];return r.width()>0&&r.height()>0&&(i.overlay&&(a.overlay=Wt({rotation:n?0:90},i.overlay)),s.push(e.createRect(r,a))),ci(s,$t.fn.getViewElements.call(t,e)),s},tooltipAnchor:function(e,t){var i,n,o=this,r=o.options,a=o.box,s=r.vertical,l=r.aboveAxis;return s?(i=a.x2+io,n=l?a.y1:a.y2-t):r.isStacked?(i=l?a.x2-e:a.x1,n=a.y1-t-io):(i=l?a.x2+io:a.x1-e-io,n=a.y1),new ii(i,n)},highlightOverlay:function(e,t){var i=this,n=i.box;return t=Wt({data:{modelId:i.options.modelId}},t),t.id=null,e.createRect(n,t)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),Wt(Y.fn,Oo),X=Qt.extend({options:{type:zi,align:Hi,vAlign:Hi},getViewElements:function(e,t){var i,n,o=this,r=o.options,a=r.type,s=o.paddingBox,l=s.width()/2;return r.visible&&o.hasBox()?(n=Wt(o.elementStyle(),t),i=a===so?e.createPolyline([new ii(s.x1+l,s.y1),new ii(s.x1,s.y2),new ii(s.x2,s.y2)],!0,n):a===zi?e.createCircle(new ii(vi(s.x1+l,Fi),vi(s.y1+s.height()/2,Fi)),l,n):e.createRect(s,n),[i]):[]}}),G=X.extend(),Wt(G.fn,Oo),q=$t.extend({init:function(e,t){var i=this;$t.fn.init.call(i,t),i.value=e,i.options.id=yi(),i.enableDiscovery()},options:{aboveAxis:!0,vertical:!0,markers:{visible:!0,background:go,size:xn,type:zi,border:{width:2},opacity:1},labels:{visible:!1,position:wi,margin:pi(3),padding:pi(4),animation:{type:rn,delay:ln}}},render:function(){var e,t=this,i=t.options,n=i.markers,o=i.labels,r=n.background,a=Wt({},n.border),s=t.value;t._rendered||(t._rendered=!0,di(a.color)||(a.color=new Zt(r).brightness(Si).toHex()),t.marker=new X({id:t.options.id,visible:n.visible&&n.size,type:n.type,width:n.size,height:n.size,background:r,border:a,opacity:n.opacity,zIndex:n.zIndex,animation:n.animation}),t.append(t.marker),o.visible&&(o.template?(e=jt(o.template),s=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):o.format&&(s=t.formatValue(o.format)),t.label=new ai(s,Wt({id:yi(),align:Hi,vAlign:Hi,margin:{left:5,right:5}},o)),t.append(t.label)))},markerBox:function(){return this.marker.box},reflow:function(e){var t,i=this,n=i.options,o=n.vertical,r=n.aboveAxis;i.render(),i.box=e,t=e.clone(),o?r?t.y1-=t.height():t.y2+=t.height():r?t.x1+=t.width():t.x2-=t.width(),i.marker.reflow(t),i.reflowLabel(t)},reflowLabel:function(e){var t=this,i=t.options,n=t.marker,o=t.label,r=i.labels.position;o&&(r=r===wi?eo:r,r=r===Pi?Di:r,o.reflow(e),o.box.alignTo(n.box,r),o.reflow(o.box))},highlightOverlay:function(e,t){var i=this,n=i.marker;return t=Wt({data:{modelId:i.options.modelId}},t),n.getViewElements(e,Wt(t,{id:null,fill:n.options.border.color,fillOpacity:1,strokeOpacity:0}))[0]},tooltipAnchor:function(e,t){var i=this,n=i.marker.box,o=i.options.aboveAxis;return new ii(n.x2+io,o?n.y1-t:n.y2)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),Wt(q.fn,Oo),J=q.extend({init:function(e,t){var i=this;q.fn.init.call(i,e,t),i.category=e.category},options:{labels:{position:Hi},highlight:{opacity:1,border:{width:1,opacity:1}}},highlightOverlay:function(e){var t=this,i=t.options,n=i.highlight,o=n.border.width,r=i.markers,a=t.box.center(),s=r.size/2-o/2,l=n.border.color||new Zt(r.background).brightness(Si).toHex();return e.createCircle(a,s,{id:null,data:{modelId:t.options.modelId},stroke:l,strokeWidth:o,strokeOpacity:n.border.opacity})},toggleHighlight:function(e){var i,n=this,o=n.options.highlight.opacity;n.highlighted=!n.highlighted,i=n.marker.getViewElements(e,{fillOpacity:n.highlighted?o:t})[0],i.refresh(ui(this.options.id))}}),K=$t.extend({init:function(e,t,i){var n=this;$t.fn.init.call(n),n.linePoints=e,n.series=t,n.seriesIx=i,n.options.id=yi(),n.enableDiscovery()},options:{},points:function(e){var t,i,n=this,o=n.linePoints.concat(e||[]),r=[],a=o.length;for(t=0;a>t;t++)i=o[t].markerBox().center(),r.push(new ii(i.x,i.y));return r},getViewElements:function(e){var t=this,i=t.series;return $t.fn.getViewElements.call(t,e),[e.createPolyline(t.points(),!1,{id:t.options.id,stroke:i.color,strokeWidth:i.width,strokeOpacity:i.opacity,fill:"",dashType:i.dashType,data:{modelId:t.options.modelId},zIndex:-1})]},aliasFor:function(e,t){var i=this,n=i.seriesIx;return i.parent.getNearestPoint(t.x,t.y,n)}}),Q={renderSegments:function(){var e,t,i,n,o,r,a,s=this,l=s.options,c=l.series,h=s.seriesPoints,d=h.length,u=[];for(t=0;d>t;t++){for(e=c[t],i=h[t],a=i.length,n=[],r=0;a>r;r++)o=i[r],o?n.push(o):s.seriesMissingValues(e)!==dn&&(n.length>1&&u.push(s.createSegment(n,e,t,xi(u))),n=[]);n.length>1&&u.push(s.createSegment(n,e,t,xi(u)))}s._segments=u,s.append.apply(s,u)},seriesMissingValues:function(e){var t=e.missingValues,i=!t&&this.options.isStacked;return i?mo:t},createSegment:function(e,t,i){return new K(e,t,i)},getNearestPoint:function(e,t,i){var n,o,r,a,s,l=this,c=l.options.invertAxes,h=c?xo:fo,d=c?t:e,u=l.seriesPoints[i],p=vn,g=u.length;for(s=0;g>s;s++)n=u[s],n&&di(n.value)&&null!==n.value&&(o=n.box,r=Lt.abs(o.center()[h]-d),p>r&&(a=n,p=r));return a}},$=F.extend({init:function(e,t){var i=this;i._stackAxisRange={min:vn,max:mn},i._categoryTotals=[],i.enableDiscovery(),F.fn.init.call(i,e,t)},render:function(){var e=this;F.fn.render.apply(e),e.computeAxisRanges(),e.renderSegments()},createPoint:function(e,t,i,n){var o,r,a=this,s=e.value,l=a.options,c=l.isStacked,h=a.categoryPoints[i],d=a.seriesMissingValues(n),u=0,p=e.fields;if(!di(s)||null===s){if(d!==mo)return null;s=0}return r=new q(s,Wt({vertical:!l.invertAxes,markers:{border:{color:n.color}}},n,{color:p.color,markers:{border:{color:p.color}}})),c&&(o=L(h),o&&(u=o.plotValue),r.plotValue=s+u),a.append(r),r},updateRange:function(e,t){var i,n=this,o=n.options.isStacked,a=n._stackAxisRange,s=n._categoryTotals;di(e)&&(o?(u(s,t,e),i=r(s),a.min=Lt.min(a.min,i.min),a.max=Lt.max(a.max,i.max)):F.fn.updateRange.apply(n,arguments))},computeAxisRanges:function(){var e,t=this,i=t.options.isStacked;i&&(e=t.options.series[0].axis,t.valueAxisRanges[e]=t._stackAxisRange)},getViewElements:function(e){var t=this,i=F.fn.getViewElements.call(t,e),n=e.createGroup({animation:{type:Mi}});return n.children=i,[n]},bindableFields:function(){return["color"]}}),Wt($.fn,Q),Z=K.extend({init:function(e,t,i,n){var o=this;o.stackPoints=t,K.fn.init.call(o,e,i,n)},points:function(){var e,t,i=this,n=i.parent,o=n.plotArea,r=n.options.invertAxes,a=n.seriesValueAxis(i.series),s=a.lineBox(),l=o.seriesCategoryAxis(i.series),c=l.lineBox(),h=r?c.x1:c.y1,d=i.stackPoints,u=K.fn.points.call(i,d),p=r?fo:xo;return h=D(h,s[p+1],s[p+2]),!i.stackPoints&&u.length>1&&(e=u[0],t=xi(u),r?(u.unshift(ii(h,e.y)),u.push(ii(h,t.y))):(u.unshift(ii(e.x,h)),u.push(ii(t.x,h)))),u},getViewElements:function(e){var t=this,i=t.series,n=Wt({color:i.color,opacity:i.opacity},i.line),o=K.fn.points.call(t),r=t.points();return $t.fn.getViewElements.call(t,e),[e.createPolyline(r,!1,{id:t.options.id,fillOpacity:i.opacity,fill:i.color,stack:i.stack,data:{modelId:t.options.modelId},zIndex:-1}),e.createPolyline(o,!1,{stroke:n.color,strokeWidth:n.width,strokeOpacity:n.opacity,dashType:n.dashType,data:{modelId:t.options.modelId},strokeLineCap:"butt",zIndex:-1})]}}),et=$.extend({createSegment:function(e,t,i,n){var o,r=this,a=r.options;return a.isStacked&&i>0&&n&&(o=n.linePoints.slice(0).reverse()),new Z(e,o,t,i)},seriesMissingValues:function(e){return e.missingValues||mo}}),tt=$t.extend({init:function(e,t){var i=this;$t.fn.init.call(i,t),i.plotArea=e,i.xAxisRanges={},i.yAxisRanges={},i.points=[],i.seriesPoints=[],i.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"}},render:function(){var e=this;e.traverseDataPoints(Ot(e.addValue,e))},addValue:function(e,t){var i,n=this,o=e.x,r=e.y,a=t.seriesIx,s=n.seriesPoints[a];n.updateRange(e,t.series),di(o)&&null!==o&&di(r)&&null!==r&&(i=n.createPoint(e,t.series,a,t),i&&Ht(i,t)),n.points.push(i),s.push(i)},updateRange:function(e,t){var i=this,n=e.x,o=e.y,r=t.xAxis,a=t.yAxis,s=i.xAxisRanges[r],l=i.yAxisRanges[a];di(n)&&null!==n&&(s=i.xAxisRanges[r]=s||{min:vn,max:mn},typeof n===Xn&&(n=x(n)),s.min=Lt.min(s.min,n),s.max=Lt.max(s.max,n)),di(o)&&null!==o&&(l=i.yAxisRanges[a]=l||{min:vn,max:mn},typeof o===Xn&&(o=x(o)),l.min=Lt.min(l.min,o),l.max=Lt.max(l.max,o))},createPoint:function(e,t,i,n){var o,r=this;return o=new q(e,Wt({markers:{border:{color:t.color},opacity:t.opacity},tooltip:{format:r.options.tooltip.format},labels:{format:r.options.labels.format}},t,{color:n.color,markers:{border:{color:n.color}}})),r.append(o),o},seriesAxes:function(e){var t=this.plotArea,i=e.xAxis,n=i?t.namedXAxes[i]:t.axisX,o=e.yAxis,r=o?t.namedYAxes[o]:t.axisY;if(!n)throw Error("Unable to locate X axis with name "+i);if(!r)throw Error("Unable to locate Y axis with name "+o);return{x:n,y:r}},reflow:function(e){var t,i,n=this,o=n.points,r=0;n.traverseDataPoints(function(e,a){t=o[r++],i=n.seriesAxes(a.series);var s=i.x.getSlot(e.x,e.x),l=i.y.getSlot(e.y,e.y),c=new Kt(s.x1,l.y1,s.x2,l.y2);t&&t.reflow(c)}),n.box=e},getViewElements:function(e){var t=this,i=$t.fn.getViewElements.call(t,e),n=e.createGroup({animation:{type:Mi}});return n.children=i,[n]},traverseDataPoints:function(e){var t,i,n,o,r,a,s,l=this,c=l.options,h=c.series,d=l.seriesPoints,u=l.bindableFields();for(i=0;h.length>i;i++)for(n=h[i],o=d[i],o||(d[i]=[]),t=0;n.data.length>t;t++)r=I(n,t,u),a=r.value,s=r.fields,e(a,Wt({pointIx:t,series:n,seriesIx:i,dataItem:n.data[t],owner:l},s))},bindableFields:function(){return["color"]},formatPointValue:function(e,t){var i=e.value;return hi(t,i.x,i.y)}}),it=tt.extend({render:function(){var e=this;tt.fn.render.call(e),e.renderSegments()}}),Wt(it.fn,Q),nt=tt.extend({options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(e,t){var i,n=this,o=t.series,r=o.negativeValues,a=n.plotArea.options.seriesColors||[],s=!0;i=t.color||o.color||a[t.pointIx%a.length],0>e.size&&(i=r.color||i,s=r.visible),t.color=i,s&&tt.fn.addValue.call(this,e,t)},reflow:function(e){var t=this;t.updateBubblesSize(e),tt.fn.reflow.call(t,e)},createPoint:function(e,t,i,n){var o,r=this,a=t.data.length,s=n.pointIx*(ln/a),l={delay:s,duration:ln-s,type:Bi};return o=new J(e,Wt({tooltip:{format:r.options.tooltip.format},labels:{format:r.options.labels.format,animation:l}},t,{color:n.color,markers:{type:zi,background:n.color,border:t.border,opacity:t.opacity,animation:l}})),r.append(o),o},updateBubblesSize:function(e){var t,i,n,o,r,a,s,l,c,h,d,u,p,g,f,x,v=this,m=v.options,y=m.series,b=Lt.min(e.width(),e.height());for(t=0;y.length>t;t++)for(n=y[t],o=v.seriesPoints[t],r=v.maxSize(o),a=n.minSize||Lt.max(.02*b,10),s=n.maxSize||.2*b,l=a/2,c=s/2,h=Lt.PI*l*l,d=Lt.PI*c*c,u=d-h,p=u/r,i=0;o.length>i;i++)g=o[i],f=Lt.abs(g.value.size)*p,x=Lt.sqrt((h+f)/Lt.PI),Wt(g.options,{markers:{size:2*x,zIndex:c-x},labels:{zIndex:c-x+1}})},maxSize:function(e){var t,i,n=e.length,o=0;for(t=0;n>t;t++)i=e[t].value.size,o=Lt.max(o,Lt.abs(i));return o},bindableFields:function(){return["color","category","visibleInLegend"]},getViewElements:function(e){var t=this,i=$t.fn.getViewElements.call(t,e),n=e.createGroup();return n.children=i,[n]},formatPointValue:function(e,t){var i=e.value;return hi(t,i.x,i.y,i.size,e.category)}}),ot=$t.extend({init:function(e,t){var i=this;$t.fn.init.call(i,t),i.value=e,i.options.id=yi(),i.enableDiscovery()},options:{border:{_brightness:.8},line:{width:2},overlay:{gradient:an},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}}},reflow:function(e){var t,i,n,o=this,r=o.options,a=o.owner,s=o.value,l=a.seriesValueAxis(r),c=[];i=l.getSlot(s.open,s.close),n=l.getSlot(s.low,s.high),i.x1=n.x1=e.x1,i.x2=n.x2=e.x2,o.realBody=i,t=n.center().x,c.push([new ii(t,n.y1),new ii(t,i.y1)]),c.push([new ii(t,i.y2),new ii(t,n.y2)]),o.lowHighLinePoints=c,o.box=n.clone().wrap(i)},getViewElements:function(e){var t=this,i=t.options,n=[],o=i.border.width>0?{stroke:t.getBorderColor(),strokeWidth:i.border.width,dashType:i.border.dashType,strokeOpacity:di(i.border.opacity)?i.border.opacity:i.opacity}:{},r=Wt({fill:i.color,fillOpacity:i.opacity},o),a={strokeOpacity:di(i.line.opacity)?i.line.opacity:i.opacity,strokeWidth:i.line.width,stroke:i.line.color||i.color,dashType:i.line.dashType,strokeLineCap:"butt"},s=e.createGroup({animation:{type:Mi}});return i.overlay&&(r.overlay=Wt({rotation:0},i.overlay)),n.push(e.createRect(t.realBody,r)),n.push(e.createPolyline(t.lowHighLinePoints[0],!1,a)),n.push(e.createPolyline(t.lowHighLinePoints[1],!1,a)),n.push(t.createOverlayRect(e,i)),ci(n,$t.fn.getViewElements.call(t,e)),s.children=n,[s]},getBorderColor:function(){var e=this,t=e.options,i=t.border,n=i.color;return di(n)||(n=new Zt(t.color).brightness(i._brightness).toHex()),n},createOverlayRect:function(e,t){return e.createRect(this.box,{data:{modelId:t.modelId},fill:"#fff",fillOpacity:0})},highlightOverlay:function(e,t){var i=this,n=i.options,o=n.highlight,r=o.border,a=i.getBorderColor(),s=o.line,l={data:{modelId:n.modelId}},c=Wt({},l,t,{stroke:a,strokeOpacity:r.opacity,strokeWidth:r.width}),h=Wt({},l,{stroke:s.color||a,strokeWidth:s.width,strokeOpacity:s.opacity,strokeLineCap:"butt"}),d=e.createGroup();return d.children.push(e.createRect(i.realBody,c)),d.children.push(e.createPolyline(i.lowHighLinePoints[0],!1,h)),d.children.push(e.createPolyline(i.lowHighLinePoints[1],!1,h)),d},tooltipAnchor:function(){var e=this,t=e.box;return new ii(t.x2+io,t.y1+io)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),Wt(ot.fn,Oo),rt=F.extend({options:{},bindableFields:function(){return["color","downColor"]},reflowCategories:function(e){var t,i=this,n=i.children,o=n.length;for(t=0;o>t;t++)n[t].reflow(e[t])},addValue:function(e,t,i,n,o){var r,a,s=this,l=s.options,c=e.value,h=s.children,d=e.fields.color||n.color,u=this.splitValue(c),p=z(u),g=s.categoryPoints[i];g||(s.categoryPoints[i]=g=[]),p&&(n.type==Ri&&c.open>c.close&&(d=e.fields.downColor||n.downColor),r=s.createPoint(c,Wt({},n,{color:d}))),a=h[i],a||(a=new Lo({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing}),s.append(a)),r&&(s.updateRange(c,i,n),a.append(r),r.categoryIx=i,r.category=t,r.series=n,r.seriesIx=o,r.owner=s,r.dataItem=n.data[i]),s.points.push(r),g.push(r)},createPoint:function(e,t){return new ot(e,t)},splitValue:function(e){return[e.low,e.open,e.close,e.high]},updateRange:function(e,t,i){var n=this,o=i.axis,r=n.valueAxisRanges[o],a=n.splitValue(e);r=n.valueAxisRanges[o]=r||{min:vn,max:mn},r=n.valueAxisRanges[o]={min:Lt.min.apply(Lt,a.concat([r.min])),max:Lt.max.apply(Lt,a.concat([r.max]))}},formatPointValue:function(e,t){var i=e.value;return hi(t,i.open,i.high,i.low,i.close,e.category)}}),at=ot.extend({reflow:function(e){var t,i,n,o,r=this,a=r.options,s=r.owner,l=r.value,c=s.seriesValueAxis(a),h=[],d=[],u=[];o=c.getSlot(l.low,l.high),i=c.getSlot(l.open,l.open),n=c.getSlot(l.close,l.close),i.x1=n.x1=o.x1=e.x1,i.x2=n.x2=o.x2=e.x2,t=o.center().x,h.push(new ii(i.x1,i.y1)),h.push(new ii(t,i.y1)),d.push(new ii(t,n.y1)),d.push(new ii(n.x2,n.y1)),u.push(new ii(t,o.y1)),u.push(new ii(t,o.y2)),r.oPoints=h,r.cPoints=d,r.lhPoints=u,r.box=o.clone().wrap(i.clone().wrap(n))},getViewElements:function(e){var t=this,i=t.options,n=[],o={strokeOpacity:i.opacity,zIndex:-1,strokeWidth:i.width,stroke:i.color,dashType:i.dashType},r=e.createGroup({animation:{type:Mi}});return n.push(t.createOverlayRect(e,i)),n.push(e.createPolyline(t.oPoints,!0,o)),n.push(e.createPolyline(t.cPoints,!0,o)),n.push(e.createPolyline(t.lhPoints,!0,o)),ci(n,$t.fn.getViewElements.call(t,e)),r.children=n,[r]},highlightOverlay:function(e){var t=this,i=t.options,n=i.highlight,o={data:{modelId:i.modelId}},r=Wt(o,{strokeWidth:n.line.width,strokeOpacity:n.line.opacity,stroke:n.line.color||t.color}),a=e.createGroup();return a.children.push(e.createPolyline(t.oPoints,!0,r)),a.children.push(e.createPolyline(t.cPoints,!0,r)),a.children.push(e.createPolyline(t.lhPoints,!0,r)),a}}),st=rt.extend({createPoint:function(e,t){return new at(e,t)},bindableFields:function(){return["color"]}}),lt=$t.extend({init:function(e,t,i){var n=this;n.value=e,n.sector=t,n.enableDiscovery(),$t.fn.init.call(n,i)},options:{color:go,overlay:{gradient:On},border:{width:.5},labels:{visible:!1,distance:35,font:qi,margin:pi(.5),align:zi,zIndex:1,position:Vn},animation:{type:Bn},highlight:{visible:!0,border:{width:1}},visible:!0},render:function(){var e,t=this,i=t.options,n=i.labels,o=t.value;t._rendered||t.visible===!1||(t._rendered=!0,n.template?(e=jt(n.template),o=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series,percentage:t.percentage})):n.format&&(o=hi(n.format,o)),n.visible&&o&&(t.label=new ai(o,Wt({},n,{id:yi(),align:Hi,vAlign:"",animation:{type:rn,delay:t.animationDelay}})),t.append(t.label)))},reflow:function(e){var t=this;t.render(),t.box=e,t.reflowLabel()},reflowLabel:function(){var e,t,i,n,o=this,r=o.sector.clone(),a=o.options,s=o.label,l=a.labels,c=l.distance,h=r.middle();s&&(n=s.box.height(),i=s.box.width(),l.position==Hi?(r.r=Lt.abs((r.r-n)/2)+n,e=r.point(h),s.reflow(Kt(e.x,e.y-n/2,e.x,e.y))):l.position==hn?(r.r=r.r-n/2,e=r.point(h),s.reflow(Kt(e.x,e.y-n/2,e.x,e.y))):(e=r.clone().expand(c).point(h),e.x>=r.c.x?(t=e.x+i,s.orientation=Hn):(t=e.x-i,s.orientation=un),s.reflow(Kt(t,e.y-n,e.x,e.y))))},getViewElements:function(e){var t=this,i=t.sector,n=t.options,o=n.border||{},r=o.width>0?{stroke:o.color,strokeWidth:o.width,strokeOpacity:o.opacity,dashType:o.dashType}:{},a=[],s=n.overlay;return s&&(s=Wt({},n.overlay,{r:i.r,ir:i.ir,cx:i.c.x,cy:i.c.y,bbox:i.getBBox()})),t.value&&a.push(t.createSegment(e,i,Wt({id:n.id,fill:n.color,overlay:s,fillOpacity:n.opacity,strokeOpacity:n.opacity,animation:Wt(n.animation,{delay:t.animationDelay}),data:{modelId:n.modelId},zIndex:n.zIndex,singleSegment:1===(t.options.data||[]).length},r))),ci(a,$t.fn.getViewElements.call(t,e)),a},createSegment:function(e,t,i){return i.singleSegment?e.createCircle(t.c,t.r,i):e.createSector(t,i)},highlightOverlay:function(e,t){var i,n=this,o=n.options.highlight||{},r=o.border||{},a=n.options.id+Dn;return t=Wt({},t,{id:a}),0!==n.value&&(i=n.createSegment(e,n.sector,Wt({},t,{fill:o.color,fillOpacity:o.opacity,strokeOpacity:r.opacity,strokeWidth:r.width,stroke:r.color,id:null,data:{modelId:n.options.modelId}}))),i},tooltipAnchor:function(e,t){var i=this,n=i.sector.clone().expand(io),o=e/2,r=t/2,a=n.middle(),s=a*$i,l=n.point(a),c=l.x-o,h=l.y-r,d=Lt.sin(s),u=Lt.cos(s);return.9>Lt.abs(d)&&(c+=o*-u/Lt.abs(u)),.9>Lt.abs(u)&&(h+=r*-d/Lt.abs(d)),new ii(c,h)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),Wt(lt.fn,Oo),ct=$t.extend({init:function(e,t){var i=this;$t.fn.init.call(i,t),i.plotArea=e,i.segments=[],i.legendItems=[],i.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4},inactiveItems:{markers:{},labels:{}}},render:function(){var e=this;e.traverseDataPoints(Ot(e.addValue,e))},traverseDataPoints:function(e){var t,i,n,o,r,a,s,l,c,h,d,u,p=this,g=p.options,f=p.plotArea.options.seriesColors||[],x=f.length,v=g.series,m=v.length,y=yi(),b=p.bindableFields(),w=0;for(o=0;m>o;o++){for(t=v[o],a=t.data,h=p.pointsTotal(t,b),s=360/h,d=di(t.startAngle)?t.startAngle:g.startAngle,o!=m-1&&t.labels.position==Vn&&(t.labels.position=Hi),u=0;a.length>u;u++)i=I(t,u,b),l=i.value,n=i.fields,r=vi(l*s,Ki),c=1!=a.length&&!!n.explode,t.color=n.color||f[u%x],e(l,new oi(null,0,0,d,r),{owner:p,category:n.category||"",index:w,series:t,seriesIx:o,dataItem:a[u],percentage:l/h,explode:c,visibleInLegend:n.visibleInLegend,visible:n.visible,overlay:{id:y+o},zIndex:m-o,animationDelay:p.animationDelay(u,o,m)}),i.fields.visible!==!1&&(d+=r),w++;w=0}},bindableFields:function(){return["category","color","explode","visibleInLegend","visible"]},addValue:function(e,t,i){var n,o=this;o.createLegendItem(e,i),i.visible!==!1&&(n=new lt(e,t,i.series),n.options.id=yi(),Ht(n,i),o.append(n),o.segments.push(n))},createLegendItem:function(e,t){var i,n,o,r,a=this,s=(a.options.legend||{}).labels||{},l=(a.options.legend||{}).inactiveItems||{};t&&t.visibleInLegend!==!1&&(i=t.category||"",(s||{}).template&&(n=jt(s.template),i=n({text:i,series:t.series,dataItem:t.dataItem,percentage:t.percentage,value:e})),t.visible===!1?(o=(l.markers||{}).color,r=(l.labels||{}).color):(o=(t.series||{}).color,r=s.color),a.legendItems.push({pointIndex:t.index,text:i,series:t.series,markerColor:o,labelColor:r}))},pointsTotal:function(e,t){var i,n,o,r=e.data,a=r.length,s=0;for(n=0;a>n;n++)o=I(e,n,t),i=o.value,i&&o.fields.visible!==!1&&(s+=i);return s},reflow:function(e){var t,i,n,o,r,a,s,l,c=this,h=c.options,d=e.clone(),u=5,p=Lt.min(d.width(),d.height()),g=p/2,f=p-.85*p,x=di(h.padding)?h.padding:f,v=Kt(d.x1,d.y1,d.x1+p,d.y1+p),m=v.center(),y=c.seriesConfigs||[],b=d.center(),w=c.segments,_=w.length,A=h.series.length,k=[],C=[];for(x=x>g-u?g-u:x,v.translate(b.x-m.x,b.y-m.y),a=g-x,l=ii(a+v.x1+x,a+v.y1+x),s=0;_>s;s++)o=w[s],r=o.sector,r.r=a,r.c=l,i=o.seriesIx,y.length&&(t=y[i],r.ir=t.ir,r.r=t.r),i==A-1&&o.explode&&(r.c=r.clone().radius(.15*r.r).point(r.middle())),o.reflow(v),n=o.label,n&&n.options.position===Vn&&i==A-1&&(n.orientation===Hn?C.push(n):k.push(n));k.length>0&&(k.sort(c.labelComparator(!0)),c.leftLabelsReflow(k)),C.length>0&&(C.sort(c.labelComparator(!1)),c.rightLabelsReflow(C)),c.box=v},leftLabelsReflow:function(e){var t=this,i=t.distanceBetweenLabels(e);t.distributeLabels(i,e)},rightLabelsReflow:function(e){var t=this,i=t.distanceBetweenLabels(e);t.distributeLabels(i,e)},distanceBetweenLabels:function(e){var t,i,n,o=this,r=o.segments,a=r[r.length-1],s=a.sector,l=e[0].box,c=e.length-1,h=s.r+a.options.labels.distance,d=[];for(i=vi(l.y1-(s.c.y-h-l.height()-l.height()/2)),d.push(i),n=0;c>n;n++)l=e[n].box,t=e[n+1].box,i=vi(t.y1-l.y2),d.push(i);return i=vi(s.c.y+h-e[c].box.y2-e[c].box.height()/2),d.push(i),d},distributeLabels:function(e,t){var i,n,o,r,a=this,s=e.length;for(r=0;s>r;r++)for(n=o=r,i=-e[r];i>0&&(n>=0||s>o);)i=a._takeDistance(e,r,--n,i),i=a._takeDistance(e,r,++o,i);a.reflowLabels(e,t)},_takeDistance:function(e,t,i,n){if(e[i]>0){var o=Lt.min(e[i],n);n-=o,e[i]-=o,e[t]+=o}return n},reflowLabels:function(e,t){var i,n,o,r,a=this,s=a.segments,l=s[s.length-1],c=l.sector,h=t.length,d=l.options.labels,u=d.distance,p=c.c.y-(c.r+u)-t[0].box.height();for(e[0]+=2,r=0;h>r;r++)i=t[r],p+=e[r],o=i.box,n=a.hAlignLabel(o.x2,c.clone().expand(u),p,p+o.height(),i.orientation==Hn),i.orientation==Hn?(d.align!==zi&&(n=c.r+c.c.x+u),i.reflow(new Kt(n+o.width(),p,n,p))):(d.align!==zi&&(n=c.c.x-c.r-u),i.reflow(new Kt(n-o.width(),p,n,p))),p+=o.height()},getViewElements:function(e){var t,i,n,o,r,s,l,c,h,d,u,p,g,f,x,v=this,m=v.options,y=m.connectors,b=v.segments,w=[],_=b.length,A=4;for(c=0;_>c;c++)r=b[c],i=r.sector,n=i.middle(),l=r.label,s={seriesId:r.seriesIx},l&&(o=[],l.options.position===Vn&&0!==r.value&&(p=l.box,g=i.c,f=i.point(n),x=ii(p.x1,p.center().y),f=i.clone().expand(y.padding).point(n),o.push(f),l.orientation==Hn?(d=ii(p.x1-y.padding,p.center().y),u=a(g,f,x,d),x=ii(d.x-A,d.y),u=u||x,u.x=Lt.min(u.x,x.x),v.pointInCircle(u,i.c,i.r+A)||u.x<i.c.x?(h=i.c.x+i.r+A,r.options.labels.align!==Ni?x.x>h?o.push(ii(h,f.y)):o.push(ii(f.x+2*A,f.y)):o.push(ii(h,f.y)),o.push(ii(x.x,d.y))):(u.y=d.y,o.push(u))):(d=ii(p.x2+y.padding,p.center().y),u=a(g,f,x,d),x=ii(d.x+A,d.y),u=u||x,u.x=Lt.max(u.x,x.x),v.pointInCircle(u,i.c,i.r+A)||u.x>i.c.x?(h=i.c.x-i.r-A,r.options.labels.align!==Ni?h>x.x?o.push(ii(h,f.y)):o.push(ii(f.x-2*A,f.y)):o.push(ii(h,f.y)),o.push(ii(x.x,d.y))):(u.y=d.y,o.push(u))),o.push(d),t=e.createPolyline(o,!1,{id:yi(),stroke:y.color,strokeWidth:y.width,animation:{type:rn,delay:r.animationDelay},data:{modelId:r.options.modelId}}),w.push(t)));return ci(w,$t.fn.getViewElements.call(v,e)),w},labelComparator:function(e){return e=e?-1:1,function(t,i){return t=(t.parent.sector.middle()+270)%360,i=(i.parent.sector.middle()+270)%360,(t-i)*e}},hAlignLabel:function(e,t,i,n,o){var r=t.c.x,a=t.c.y,s=t.r,l=Lt.min(Lt.abs(a-i),Lt.abs(a-n));return l>s?e:r+Lt.sqrt(s*s-l*l)*(o?1:-1)
},pointInCircle:function(e,t,i){return g(t.x-e.x)+g(t.y-e.y)<g(i)},formatPointValue:function(e,t){return hi(t,e.value)},animationDelay:function(e){return e*En}}),ht=lt.extend({options:{overlay:{gradient:zn},labels:{position:Hi},animation:{type:Bn}},reflowLabel:function(){var e,t,i=this,n=i.sector.clone(),o=i.options,r=i.label,a=o.labels,s=n.middle();r&&(t=r.box.height(),a.position==Hi?(n.r-=(n.r-n.ir)/2,e=n.point(s),r.reflow(new Kt(e.x,e.y-t/2,e.x,e.y))):lt.fn.reflowLabel.call(i))},createSegment:function(e,t,i){return e.createRing(t,i)}}),Wt(ht.fn,Oo),dt=ct.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(e,t,i){var n,o=this;o.createLegendItem(e,i),e&&i.visible!==!1&&(n=new ht(e,t,i.series),n.options.id=yi(),Ht(n,i),o.append(n),o.segments.push(n))},reflow:function(e){var t,i,n,o,r,a,s=this,l=s.options,c=e.clone(),h=5,d=Lt.min(c.width(),c.height()),u=d/2,p=d-.85*d,g=di(l.padding)?l.padding:p,f=l.series,x=f.length,v=0,m=0,y=0,b=0;for(s.seriesConfigs=[],g=g>u-h?u-h:g,n=u-g,r=0;x>r;r++)t=f[r],0===r&&di(t.holeSize)&&(i=t.holeSize,n-=t.holeSize),di(t.size)?n-=t.size:v++,di(t.margin)&&r!=x-1&&(n-=t.margin);for(di(i)||(b=(u-g)/(x+.75),i=.75*b,n-=i),y=i,r=0;x>r;r++)t=f[r],o=di(t.size)?t.size:n/v,y+=m,a=y+o,s.seriesConfigs.push({ir:y,r:a}),m=t.margin||0,y=a;ct.fn.reflow.call(s,e)},animationDelay:function(e,t,i){return e*en+ln*(t+1)/(i+1)}}),ut=Qt.extend({init:function(e){var t=this;Qt.fn.init.call(t,e),e=t.options,e.id=yi(),t.title=si.buildTitle(e.title,t,ut.fn.options.title),t.content=new $t,t.append(t.content),t.axes=[],t.charts=[]},options:{zIndex:-1,shrinkToFit:!0,title:{align:un},visible:!0},appendAxis:function(e){var t=this;t.content.append(e),t.axes.push(e),e.pane=t},appendChart:function(e){var t=this;t.charts.push(e),t.content.append(e),e.pane=t},empty:function(){var e,t=this,i=t.parent;if(i){for(e=0;t.axes.length>e;e++)i.removeAxis(t.axes[e]);for(e=0;t.charts.length>e;e++)i.removeChart(t.charts[e])}t.axes=[],t.charts=[],t.content.destroy(),t.content.children=[]},reflow:function(e){var t=this;xi(t.children)===t.content&&t.children.pop(),Qt.fn.reflow.call(t,e),t.title&&(t.contentBox.y1+=t.title.box.height())},getViewElements:function(e){var t=this,i=F.fn.getViewElements.call(t,e),n=e.createGroup({id:t.options.id}),o=[];return n.children=i.concat(t.renderGridLines(e),t.content.getViewElements(e)),t.view=e,t.options.visible&&(o=[n]),o},renderGridLines:function(e){var t,i,n,o,r,a,s=this,l=s.axes,c=l.concat(s.parent.axes),h=[],d=[];for(i=0;l.length>i;i++)for(o=l[i],r=o.options.vertical,t=r?h:d,n=0;c.length>n;n++)0===t.length&&(a=c[n],r!==a.options.vertical&&ci(t,o.renderGridLines(e,a,o)));return h.concat(d)},refresh:function(){var e=this,t=e.view,i=ui(e.options.id);t&&i&&i.parentNode.replaceChild(t.renderElement(e.getViewElements(t)[0]),i)}}),pt=$t.extend({init:function(e,t){var i=this;$t.fn.init.call(i,t),i.series=e,i.setSeriesIndexes(),i.charts=[],i.options.legend.items=[],i.axes=[],i.crosshairs=[],i.options.id=yi(),i.enableDiscovery(),i.createPanes(),i.render(),i.createCrosshairs()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:Ti,width:0},legend:{}},setSeriesIndexes:function(){var e,t,i=this.series;for(e=0;i.length>e;e++)t=i[e],t.index=e},createPanes:function(){var e,t,i=this,n=[],o=i.options.panes||[],r=Lt.max(o.length,1);for(e=0;r>e;e++)t=new ut(o[e]),t.paneIndex=e,n.push(t),i.append(t);i.panes=n},destroy:function(){var e,t=this,i=t.charts,n=t.axes;for(e=0;i.length>e;e++)i[e].destroy();for(e=0;n.length>e;e++)n[e].destroy();$t.fn.destroy.call(t)},createCrosshairs:function(){var e,t,i,n,o,r=this,a=r.panes;for(e=0;a.length>e;e++)for(i=a[e],t=0;i.axes.length>t;t++)n=i.axes[t],n.options.crosshair&&n.options.crosshair.visible&&(o=new Pt(n,n.options.crosshair),r.crosshairs.push(o),r.append(o))},findPane:function(e){var t,i,n=this,o=n.panes;for(t=0;o.length>t;t++)if(o[t].options.name===e){i=o[t];break}return i||o[0]},findPointPane:function(e){var t,i,n=this,o=n.panes;for(t=0;o.length>t;t++)if(o[t].box.containsPoint(e)){i=o[t];break}return i},appendAxis:function(e){var t=this,i=t.findPane(e.options.pane);i.appendAxis(e),t.axes.push(e),e.plotArea=t},removeAxis:function(e){var t,i,n=this,o=[];for(t=0;n.axes.length>t;t++)i=n.axes[t],e!==i&&o.push(i);n.axes=o},appendChart:function(e,t){var i=this;i.charts.push(e),t?t.appendChart(e):i.append(e)},removeChart:function(e){var t,i,n=this,o=[];for(t=0;n.charts.length>t;t++)i=n.charts[t],i!==e&&o.push(i);n.charts=o},addToLegend:function(e){var t,i,n,o,r,a=e.length,s=[],l=this.options.legend,c=l.labels||{},h=l.inactiveItems||{};for(t=0;a>t;t++)i=e[t],i.visibleInLegend!==!1&&(n=i.name||"",c.template&&(n=jt(c.template)({text:n,series:i})),i.visible===!1?(o=h.labels.color,r=h.markers.color):(o=c.color,r=i.color),s.push({text:n,labelColor:o,markerColor:r,series:i,active:i.visible}));ci(l.items,s)},groupAxes:function(e){var t,i,n,o,r=[],a=[];for(n=0;e.length>n;n++)for(t=e[n].axes,o=0;t.length>o;o++)i=t[o],i.options.vertical?a.push(i):r.push(i);return{x:r,y:a,any:r.concat(a)}},groupSeriesByPane:function(){var e,t,i,n=this,o=n.series,r={};for(e=0;o.length>e;e++)i=o[e],t=n.seriesPaneName(i),r[t]?r[t].push(i):r[t]=[i];return r},filterSeriesByType:function(e,t){var i,n,o=[];for(t=[].concat(t),i=0;e.length>i;i++)n=e[i],gi(n.type,t)&&o.push(n);return o},filterVisibleSeries:function(e){var t,i,n=[];for(t=0;e.length>t;t++)i=e[t],i.visible!==!1&&n.push(i);return n},reflow:function(e){var t=this,i=t.options.plotArea,n=t.panes,o=pi(i.margin);t.box=e.clone().unpad(o),t.reflowPanes(),t.reflowAxes(n),t.reflowCharts(n)},redraw:function(e){var t,i=this;for(e=[].concat(e),t=0;e.length>t;t++)e[t].empty();for(i.render(e),i.reflowAxes(i.panes),i.reflowCharts(e),t=0;e.length>t;t++)e[t].refresh()},axisCrossingValues:function(e,t){var i,n=e.options,o=[].concat(n.axisCrossingValues||n.axisCrossingValue),r=t.length-o.length,a=o[0]||0;for(i=0;r>i;i++)o.push(a);return o},alignAxisTo:function(e,t,i,n){var o=e.getSlot(i,i),r=e.options.reverse?2:1,a=t.getSlot(n,n),s=t.options.reverse?2:1,l=e.box.translate(a[fo+s]-o[fo+r],a[xo+s]-o[xo+r]);e.pane!==t.pane&&l.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(l)},alignAxes:function(e,t){var i,n,o,r,a=this,s=e[0],l=t[0],c=a.axisCrossingValues(s,t),h=a.axisCrossingValues(l,e),d={},u={},p={},g={};for(r=0;t.length>r;r++)o=t[r],i=o.pane,n=i.options.id,a.alignAxisTo(o,s,h[r],c[r]),o.options._overlap||(vi(o.lineBox().x1)===vi(s.lineBox().x1)&&(d[n]&&o.reflow(o.box.alignTo(d[n].box,un).translate(-o.options.margin,0)),d[n]=o),vi(o.lineBox().x2)===vi(s.lineBox().x2)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),a.alignAxisTo(o,s,h[r],c[r]),u[n]&&o.reflow(o.box.alignTo(u[n].box,Hn).translate(o.options.margin,0)),u[n]=o),0!==r&&l.pane===o.pane&&o.alignTo(l));for(r=0;e.length>r;r++)o=e[r],i=o.pane,n=i.options.id,a.alignAxisTo(o,l,c[r],h[r]),o.options._overlap||(vi(o.lineBox().y1)===vi(l.lineBox().y1)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),a.alignAxisTo(o,l,c[r],h[r]),p[n]&&o.reflow(o.box.alignTo(p[n].box,eo).translate(0,-o.options.margin)),p[n]=o),vi(o.lineBox().y2,Fi)===vi(l.lineBox().y2,Fi)&&(g[n]&&o.reflow(o.box.alignTo(g[n].box,Di).translate(0,o.options.margin)),g[n]=o),0!==r&&o.alignTo(s))},shrinkAxisWidth:function(e){var t,i,n,o=this,r=o.groupAxes(e).any,a=B(r),s=0;for(t=0;e.length>t;t++)i=e[t],i.axes.length>0&&(s=Lt.max(s,a.width()-i.contentBox.width()));for(t=0;r.length>t;t++)n=r[t],n.options.vertical||n.reflow(n.box.shrink(s,0))},shrinkAxisHeight:function(e){var t,i,n,o,r,a;for(t=0;e.length>t;t++)for(i=e[t],n=i.axes,o=Lt.max(0,B(n).height()-i.contentBox.height()),r=0;n.length>r;r++)a=n[r],a.options.vertical&&a.reflow(a.box.shrink(0,o))},fitAxes:function(e){var t,i,n,o,r,a,s,l,c=this,h=c.groupAxes(e).any,d=0;for(s=0;e.length>s;s++)if(r=e[s],t=r.axes,i=r.contentBox,t.length>0)for(n=B(t),d=Lt.max(d,i.x1-n.x1),o=Lt.max(i.y1-n.y1,i.y2-n.y2),l=0;t.length>l;l++)a=t[l],a.reflow(a.box.translate(0,o));for(s=0;h.length>s;s++)a=h[s],a.reflow(a.box.translate(d,0))},reflowAxes:function(e){var t,i=this,n=i.groupAxes(e);for(t=0;e.length>t;t++)i.reflowPaneAxes(e[t]);n.x.length>0&&n.y.length>0&&(i.alignAxes(n.x,n.y),i.shrinkAxisWidth(e),i.alignAxes(n.x,n.y),i.shrinkAxisHeight(e),i.alignAxes(n.x,n.y),i.fitAxes(e))},reflowPaneAxes:function(e){var t,i=e.axes,n=i.length;if(n>0)for(t=0;n>t;t++)i[t].reflow(e.contentBox)},reflowCharts:function(e){var t,i,n=this,o=n.charts,r=o.length,a=n.box;for(i=0;r>i;i++)t=o[i].pane,(!t||gi(t,e))&&o[i].reflow(a)},reflowPanes:function(){var e,t,i,n,o,r=this,a=r.box,s=r.panes,l=s.length,c=a.height(),h=l,d=0,u=a.y1;for(e=0;l>e;e++)t=s[e],n=t.options.height,t.options.width=a.width(),t.options.height?(n.indexOf&&n.indexOf("%")&&(o=parseInt(n,10)/100,t.options.height=o*a.height()),t.reflow(a.clone()),c-=t.options.height):d++;for(e=0;l>e;e++)t=s[e],t.options.height||(t.options.height=c/d);for(e=0;l>e;e++)t=s[e],i=a.clone().move(a.x1,u),t.reflow(i),h--,u+=t.options.height},backgroundBox:function(){var e,t,i,n,o,r,a=this,s=a.axes,l=s.length;for(i=0;l>i;i++)for(o=s[i],n=0;l>n;n++)r=s[n],o.options.vertical!==r.options.vertical&&(e=o.lineBox().clone().wrap(r.lineBox()),t=t?t.wrap(e):e);return t||a.box},getViewElements:function(e){var t=this,i=t.backgroundBox(),n=t.options,o=n.plotArea,r=o.border||{},a=$t.fn.getViewElements.call(t,e);return ci(a,[e.createRect(i,{fill:o.background,fillOpacity:o.opacity,zIndex:-2,strokeWidth:.1}),e.createRect(i,{id:n.id,data:{modelId:n.modelId},stroke:r.width?r.color:"",strokeWidth:r.width,fill:go,fillOpacity:0,zIndex:-1,dashType:r.dashType})]),a},pointsByCategoryIndex:function(e){var t,i,n,o,r,a=this.charts,s=[];if(null!==e)for(t=0;a.length>t;t++)if(r=a[t],"_navigator"!==r.pane.options.name&&(n=a[t].categoryPoints[e],n&&n.length))for(i=0;n.length>i;i++)o=n[i],o&&di(o.value)&&null!==o.value&&s.push(o);return s},pointsBySeriesIndex:function(e){var t,i,n,o,r,a=this.charts,s=[];for(n=0;a.length>n;n++)for(r=a[n],t=r.points,o=0;t.length>o;o++)i=t[o],i.options.index===e&&s.push(i);return s},paneByPoint:function(e){var t,i,n=this,o=n.panes;for(i=0;o.length>i;i++)if(t=o[i],t.box.containsPoint(e))return t}}),gt=pt.extend({init:function(e,t){var i=this;i.namedCategoryAxes={},i.namedValueAxes={},i.valueAxisRangeTracker=new ft,e.length>0&&(i.invertAxes=gi(e[0].type,[Ii,Ei,uo,co])),pt.fn.init.call(i,e,t)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(e){var t=this;e=e||t.panes,t.createCategoryAxes(e),t.aggregateDateSeries(e),t.createCharts(e),t.createValueAxes(e)},removeAxis:function(e){var t=this,i=e.options.name;pt.fn.removeAxis.call(t,e),e instanceof Do?delete t.namedCategoryAxes[i]:(t.valueAxisRangeTracker.reset(i),delete t.namedValueAxes[i]),e===t.categoryAxis&&delete t.categoryAxis,e===t.valueAxis&&delete t.valueAxis},createCharts:function(e){var t,i,n,o,r=this,a=r.groupSeriesByPane();for(t=0;e.length>t;t++)i=e[t],n=a[i.options.name||"default"]||[],r.addToLegend(n),o=r.filterVisibleSeries(n),o&&(r.createAreaChart(r.filterSeriesByType(o,[_i,co]),i),r.createBarChart(r.filterSeriesByType(o,[Ni,Ii]),i),r.createLineChart(r.filterSeriesByType(o,[fn,uo]),i),r.createCandlestickChart(r.filterSeriesByType(o,Ri),i),r.createOHLCChart(r.filterSeriesByType(o,Tn),i),r.createBulletChart(r.filterSeriesByType(o,[Ei,ho]),i))},aggregateDateSeries:function(e){var t,n,o,r,a,s,l,c,h,d,u,p,g,f,x,v,m,y=this,b=y.srcSeries||y.series,w=[];for(l=0;b.length>l;l++){if(c=b[l],h=Wt({},c),t=y.seriesCategoryAxis(c),n=y.findPane(t.options.pane),gi(n,e)&&E(t.options.type,Yi))for(o=t.options.categories,r=t.categoryMap,d=h.data,h.data=u=[],a=0;o.length>a;a++){for(s=r[a],p=[],m=[],g=0;s.length>g;g++)f=s[g],x=I(c,f),v=x.value,di(v)&&p.push(x.value),m.push(c.data[f]);u[a]=p.length>1?i(p,c,m):d[s[0]]}w.push(h)}y.srcSeries=b,y.series=w},appendChart:function(e,t){for(var i=this,n=e.options.series,o=i.seriesCategoryAxis(n[0]),r=o.options.categories,a=Lt.max(0,p(n)-r.length);a--;)r.push("");i.valueAxisRangeTracker.update(e.valueAxisRanges),pt.fn.appendChart.call(i,e,t)},seriesPaneName:function(t){var i=this,n=i.options,o=t.axis,r=[].concat(n.valueAxis),a=e.grep(r,function(e){return e.name===o})[0],s=n.panes||[{}],l=(s[0]||{}).name||"default",c=(a||{}).pane||l;return c},seriesCategoryAxis:function(e){var t=this,i=e.categoryAxis,n=i?t.namedCategoryAxes[i]:t.categoryAxis;if(!n)throw Error("Unable to locate category axis with name "+i);return n},createBarChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new j(i,{series:e,invertAxes:i.invertAxes,isStacked:n.stack&&e.length>1,gap:n.gap,spacing:n.spacing});i.appendChart(o,t)}},createBulletChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new W(i,{series:e,invertAxes:i.invertAxes,gap:n.gap,spacing:n.spacing});i.appendChart(o,t)}},createLineChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new $(i,{invertAxes:i.invertAxes,isStacked:n.stack&&e.length>1,series:e});i.appendChart(o,t)}},createAreaChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new et(i,{invertAxes:i.invertAxes,isStacked:n.stack&&e.length>1,series:e});i.appendChart(o,t)}},createOHLCChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new st(i,{invertAxes:i.invertAxes,gap:n.gap,series:e,spacing:n.spacing});i.appendChart(o,t)}},createCandlestickChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new rt(i,{invertAxes:i.invertAxes,gap:n.gap,series:e,spacing:n.spacing});i.appendChart(o,t)}},axisRequiresRounding:function(e,t){var i,n,o=this,r=o.filterSeriesByType(o.series,[Ii,Ni,Tn,Ri]);for(i=0;r.length>i;i++)if(n=r[i].categoryAxis||"",n===e||!n&&0===t)return!0},createCategoryAxes:function(e){var t,i,n,o,r,a,s,l,c,h=this,d=h.invertAxes,u=[].concat(h.options.categoryAxis),p=[];for(t=0;u.length>t;t++)if(i=u[t],n=h.findPane(i.pane),gi(n,e)){if(a=i.name,o=i.categories||[],s=o[0]instanceof Date,r=i.type||"",i=Wt({vertical:d,axisCrossingValue:d?vn:0},i),di(i.justified)||(i.justified=h.inJustified()),h.axisRequiresRounding(a,t)&&(i.justified=!1,i.roundToBaseUnit=!0),l=!r&&s||E(r,Yi)?new Eo(i):new Do(i),a){if(h.namedCategoryAxes[a])throw Error("Category axis with name "+a+" is already defined");h.namedCategoryAxes[a]=l}l.axisIndex=t,p.push(l),h.appendAxis(l)}c=h.categoryAxis||p[0],h.categoryAxis=c,d?h.axisY=c:h.axisX=c},inJustified:function(){var e,t,i=this,n=i.series;for(e=0;n.length>e;e++)if(t=n[e],t.type!==_i)return!1;return!0},createValueAxes:function(e){var t,i,n,o,r,a,s,l=this,c=l.valueAxisRangeTracker,h=c.query(),d=[].concat(l.options.valueAxis),u=l.invertAxes,p={vertical:!u},g=[];for(s=0;d.length>s;s++)if(t=d[s],i=l.findPane(t.pane),gi(i,e)){if(a=t.name,r=c.query(a)||h||{min:0,max:1},0===s&&r&&h&&(r.min=Lt.min(r.min,h.min),r.max=Lt.max(r.max,h.max)),n=new ti(r.min,r.max,Wt({},p,t)),a){if(l.namedValueAxes[a])throw Error("Value axis with name "+a+" is already defined");l.namedValueAxes[a]=n}n.axisIndex=s,g.push(n),l.appendAxis(n)}o=l.valueAxis||g[0],l.valueAxis=o,u?l.axisX=o:l.axisY=o},click:function(t,i){var n,o,r,a=this,s=t._eventCoordinates(i),l=new ii(s.x,s.y),c=a.pointPane(l),h=[],d=[];if(c){for(n=c.axes,o=0;n.length>o;o++)r=n[o],r.getValue?H(d,r.getValue(l)):H(h,r.getCategory(l));0===h.length&&H(h,a.categoryAxis.getCategory(l)),h.length>0&&d.length>0&&t.trigger(Rn,{element:e(i.target),category:V(h),value:V(d)})}},pointPane:function(e){var t,i,n=this,o=n.panes;for(i=0;o.length>i;i++)if(t=o[i],t.contentBox.containsPoint(e))return t}}),ft=Ut.extend({init:function(){var e=this;e.axisRanges={}},update:function(e){var t,i,n,o=this,r=o.axisRanges;for(n in e)t=r[n],i=e[n],r[n]=t=t||{min:vn,max:mn},t.min=Lt.min(t.min,i.min),t.max=Lt.max(t.max,i.max)},reset:function(e){this.axisRanges[e]=t},query:function(e){return this.axisRanges[e]}}),xt=pt.extend({init:function(e,t){var i=this;i.namedXAxes={},i.namedYAxes={},i.xAxisRangeTracker=new ft,i.yAxisRangeTracker=new ft,pt.fn.init.call(i,e,t)},options:{xAxis:{},yAxis:{}},render:function(e){var t,i,n,o,r=this,a=r.groupSeriesByPane();for(e=e||r.panes,t=0;e.length>t;t++)i=e[t],n=a[i.options.name||"default"]||[],r.addToLegend(n),o=r.filterVisibleSeries(n),o&&(r.createScatterChart(r.filterSeriesByType(o,Un),i),r.createScatterLineChart(r.filterSeriesByType(o,Mn),i),r.createBubbleChart(r.filterSeriesByType(o,Bi),i));r.createAxes(e)},appendChart:function(e,t){var i=this;i.xAxisRangeTracker.update(e.xAxisRanges),i.yAxisRangeTracker.update(e.yAxisRanges),pt.fn.appendChart.call(i,e,t)},removeAxis:function(e){var t=this,i=e.options.name;pt.fn.removeAxis.call(t,e),e.options.vertical?(t.yAxisRangeTracker.reset(i),delete t.namedYAxes[i]):(t.xAxisRangeTracker.reset(i),delete t.namedXAxes[i]),e===t.axisX&&delete t.axisX,e===t.axisY&&delete t.axisY},seriesPaneName:function(t){var i=this,n=i.options,o=t.xAxis,r=[].concat(n.xAxis),a=e.grep(r,function(e){return e.name===o})[0],s=t.yAxis,l=[].concat(n.yAxis),c=e.grep(l,function(e){return e.name===s})[0],h=n.panes||[{}],d=h[0].name||"default",u=(a||{}).pane||(c||{}).pane||d;return u},createScatterChart:function(e,t){var i=this;e.length>0&&i.appendChart(new tt(i,{series:e}),t)},createScatterLineChart:function(e,t){var i=this;e.length>0&&i.appendChart(new it(i,{series:e}),t)},createBubbleChart:function(e,t){var i=this;e.length>0&&i.appendChart(new nt(i,{series:e}),t)},createXYAxis:function(e,t,i){var n,o,r,a,s,l,c,h=this,d=e.name,u=t?h.namedYAxes:h.namedXAxes,p=t?h.yAxisRangeTracker:h.xAxisRangeTracker,g=p.query(),f=p.query(d)||g||{min:0,max:1},x=Wt({},e,{vertical:t}),v=h.series,m=[x.min,x.max];for(o=0;v.length>o;o++)if(r=v[o],a=r[t?"yAxis":"xAxis"],a==x.name||0===i&&!a){s=I(r,0).value,m.push(s[t?"y":"x"]);break}for(0===i&&g&&(f.min=Lt.min(f.min,g.min),f.max=Lt.max(f.max,g.max)),c=0;m.length>c;c++)if(m[c]instanceof Date){l=!0;break}if(n=E(x.type,Yi)||!x.type&&l?new Ro(f.min,f.max,x):new ti(f.min,f.max,x),d){if(u[d])throw Error((t?"Y":"X")+" axis with name "+d+" is already defined");u[d]=n}return h.appendAxis(n),n},createAxes:function(e){var t,i=this,n=i.options,o=[].concat(n.xAxis),r=[],a=[].concat(n.yAxis),s=[];Bt(o,function(n){t=i.findPane(this.pane),gi(t,e)&&r.push(i.createXYAxis(this,!1,n))}),Bt(a,function(n){t=i.findPane(this.pane),gi(t,e)&&s.push(i.createXYAxis(this,!0,n))}),i.axisX=i.axisX||r[0],i.axisY=i.axisY||s[0]},click:function(t,i){var n,o,r,a,s=this,l=t._eventCoordinates(i),c=new ii(l.x,l.y),h=s.axes,d=h.length,u=[],p=[];for(n=0;d>n;n++)o=h[n],a=o.options.vertical?p:u,r=o.getValue(c),null!==r&&a.push(r);u.length>0&&p.length>0&&t.trigger(Rn,{element:e(i.target),x:V(u),y:V(p)})}}),vt=pt.extend({render:function(){var e=this,t=e.series;e.createPieChart(t)},createPieChart:function(e){var t=this,i=e[0],n=new ct(t,{series:e,padding:i.padding,startAngle:i.startAngle,connectors:i.connectors,legend:t.options.legend});t.appendChart(n)},appendChart:function(e,t){pt.fn.appendChart.call(this,e,t),ci(this.options.legend.items,e.legendItems)}}),mt=vt.extend({render:function(){var e=this,t=e.series;e.createDonutChart(t)},createDonutChart:function(e){var t=this,i=e[0],n=new dt(t,{series:e,padding:i.padding,connectors:i.connectors,legend:t.options.legend});t.appendChart(n)}}),yt=ei.extend({options:{easing:"easeOutElastic",duration:ln},setup:function(){var e,t=this.element,i=t.config;t.options.singleSegment&&(i=t),this.endRadius=i.r,e=this.startRadius=i.ir||0,i.r=e},step:function(e){var t=this,i=t.element,n=t.endRadius,o=i.config,r=t.startRadius;i.options.singleSegment&&(o=i),o.r=fi(r,n,e)}}),bt=ei.extend({options:{easing:"easeOutElastic",duration:ln},setup:function(){var e=this.element;e.endRadius=e.radius,e.radius=0},step:function(e){var t=this.element,i=t.endRadius;t.radius=fi(0,i,e)}}),wt=li(Ii,Jt),_t=li(Bn,yt),At=li(Bi,bt),kt=Ut.extend({init:function(e,t,i){var n=this;n.options=Wt({},n.options,i),n.view=e,n.viewElement=t,n._overlays=[]},options:{fill:go,fillOpacity:.2,stroke:go,strokeWidth:1,strokeOpacity:.2},show:function(e){var t,i,n,o,r,a=this,s=a.view,l=a.viewElement,c=a._overlays;for(a.hide(),a._points=e=[].concat(e),n=0;e.length>n;n++)o=e[n],o&&(r=o.options,(!r||(r.highlight||{}).visible)&&(o.highlightOverlay&&(t=o.highlightOverlay(s,a.options),t&&(i=s.renderElement(t),l.appendChild(i),c.push(i))),o.toggleHighlight&&o.toggleHighlight(s)))},hide:function(){for(var e,t,i,n,o=this,r=o._points,a=o._overlays;a.length;)e=o._overlays.pop(),e.parentNode.removeChild(e);if(r)for(t=0;r.length>t;t++)i=r[t],i&&(n=i.options,(!n||(n.highlight||{}).visible)&&i.toggleHighlight&&i.toggleHighlight(o.view));o._points=[]}}),Ct=Ut.extend({init:function(t,i){var n=this;n.options=Wt({},n.options,i),n.chartElement=t,n.chartPadding={top:parseInt(t.css("paddingTop"),10),left:parseInt(t.css("paddingLeft"),10)},n.template=Ct.template,n.template||(n.template=Ct.template=mi("<div class='"+ji+"tooltip' "+"style='display:none; position: absolute; font: #= d.font #;"+"border: #= d.border.width #px solid;"+"opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'>"+"</div>")),n.element=e(n.template(n.options)).appendTo(t),n._moveProxy=Ot(n.move,n)},options:{border:{width:1},opacity:1,animation:{duration:to}},move:function(){var e=this,t=e.options,i=e.element,n=e._offset();e.visible||i.css({top:n.top,left:n.left}),i.stop(!0,!0).show().animate({left:n.left,top:n.top},t.animation.duration),e.visible=!0},_offset:function(){var t=this,i=t.element,n=t.anchor,o=t.chartPadding,r=vi(n.y+o.top),a=vi(n.x+o.left),s=zt.support.zoomLevel(),l=e(window),c=window.pageYOffset||document.documentElement.scrollTop||0,h=window.pageXOffset||document.documentElement.scrollLeft||0;return c=t.chartElement.offset().top-c,h=t.chartElement.offset().left-h,r+=t._currentPosition(r+c,i.outerHeight(),l.outerHeight()/s),a+=t._currentPosition(a+h,i.outerWidth(),l.outerWidth()/s),{top:r,left:a}},setStyle:function(e){this.element.css({backgroundColor:e.background,borderColor:e.border.color||e.background,font:e.font,color:e.color,opacity:e.opacity,borderWidth:e.border.width})},show:function(){var e=this;e.showTimeout=setTimeout(e._moveProxy,no)},hide:function(){var e=this;clearTimeout(e.showTimeout),e.visible&&(e._hideElement(),e.point=null,e.visible=!1,e.index=null)},_hideElement:function(){this.element.fadeOut()},_pointContent:function(e){var t,i,n=this,o=Wt({},n.options,e.options.tooltip);return di(e.value)&&(t=""+e.value),o.template?(i=jt(o.template),t=i({value:e.value,category:e.category,series:e.series,dataItem:e.dataItem,percentage:e.percentage})):o.format&&(t=e.formatValue(o.format)),t},_pointAnchor:function(e){var t=this,i=t.element;return e.tooltipAnchor(i.outerWidth(),i.outerHeight())},_currentPosition:function(e,t,i){var n=0;return e+t>i&&(n=i-(e+t)),0>e&&(n=-e),n},_updateStyle:function(e,t){if(di(e.background)||(e.background=t.color),!di(e.color)){var i=this,n=i.element,o=new Zt(e.background).percBrightness();o>180?n.addClass(ji+ro):n.removeClass(ji+ro)}}}),It=Ct.extend({show:function(e){var t=this,i=Wt({},t.options,e.options.tooltip);e&&(t.element.html(t._pointContent(e)),t.anchor=t._pointAnchor(e),t._updateStyle(i,e.options),t.setStyle(i),Ct.fn.show.call(t,e))}}),St=Ct.extend({init:function(e,t,i){var n=this;Ct.fn.init.call(n,e,i),n.plotArea=t},options:{sharedTemplate:"<table><th colspan='2'>#= categoryText #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(point.series.name) { #<td>#= point.series.name #:</td> # } #<td>#= content(point) #</td></tr># } #</table>",categoryFormat:"{0:d}"},showAt:function(e,t){var i,n=this,o=n.options,r=n.plotArea,a=r.categoryAxis,s=a.getCategoryIndex(t),l=a.getCategory(t),c=a.getSlot(s);i=n._content(e,l),n.element.html(i),n.anchor=n._slotAnchor(t,c),n._updateStyle(o,e[0].options),n.setStyle(o),Ct.fn.show.call(n)},_slotAnchor:function(e,t){var i,n=this,o=n.plotArea,r=o.categoryAxis,a=e.y-n.element.height()/2;return i=r.options.vertical?ii(e.x,a):ii(t.center().x,a)},_content:function(e,t){var i,n,o=this;return i=zt.template(o.options.sharedTemplate),n=i({points:e,category:t,categoryText:hi(o.options.categoryFormat,t),content:o._pointContent})}}),Pt=$t.extend({init:function(e,t){var i=this;$t.fn.init.call(i,t),i.axis=e,i.options.id||(i.options.id=yi()),i._visible=!1,i.stickyMode=e instanceof Do},options:{color:Ti,width:1,zIndex:-1,tooltip:{visible:!1}},repaint:function(){var e=this,t=e.element;e.getViewElements(e._view),t=e.element,t.refresh(ui(e.options.id))},showAt:function(e){var t=this;t.updateAxisReference(),t._visible=!0,t.point=e,t.repaint(),t.options.tooltip.visible&&(t.tooltip||(t.tooltip=new Tt(t,Wt({},t.options.tooltip,{stickyMode:t.stickyMode}))),t.tooltip.showAt(e))},hide:function(){var e=this;e._visible&&(e._visible=!1,e.repaint(),e.tooltip&&e.tooltip.hide())},linePoints:function(){var e,t,i,n=this,o=n.axis,r=o.options.vertical,a=n.getBox(),s=n.point,l=r?xo:fo;return t=ii(a.x1,a.y1),i=r?ii(a.x2,a.y1):ii(a.x1,a.y2),s&&(n.stickyMode?(e=o.getSlot(o.getCategoryIndex(s)),t[l]=i[l]=e.center()[l]):t[l]=i[l]=s[l]),n.box=a,[t,i]},getBox:function(){var e,t,i,n=this,o=n.axis,r=o.pane.axes,a=r.length,s=o.options.vertical,l=o.lineBox().clone(),c=s?fo:xo;for(i=0;a>i;i++)t=r[i],t.options.vertical!=s&&(e?e.wrap(t.lineBox()):e=t.lineBox().clone());return l[c+1]=e[c+1],l[c+2]=e[c+2],l},getViewElements:function(e){var t=this,i=t.options,n=[];return t.points=t.linePoints(),t.element=e.createPolyline(t.points,!1,{id:i.id,stroke:i.color,strokeWidth:i.width,strokeOpacity:i.opacity,dashType:i.dashType,zIndex:i.zIndex,visible:t._visible}),n.push(t.element),t._view=e,ci(n,$t.fn.getViewElements.call(t,e)),n},updateAxisReference:function(){var e,t,i=this,n=i.axis,o=n.plotArea,r=o.axes;for(t=0;r.length>t;t++)if(e=r[t],di(n.axisIndex)&&n instanceof ti!=e instanceof Do&&n.axisIndex===e.axisIndex){i.axis=e;break}}}),Tt=Ct.extend({init:function(e,t){var i=this,n=e.axis.getRoot().parent.element;i.crosshair=e,Ct.fn.init.call(i,n,Wt({},i.options,{background:e.axis.plotArea.options.seriesColors[0]},t)),i._updateStyle(i.options,{}),i.setStyle(i.options)},options:{padding:10},showAt:function(e){var t=this,i=t.element;t.point=e,t.element.html(t.content(e)),t.anchor=t.getAnchor(i.outerWidth(),i.outerHeight()),t.move()},move:function(){var e=this,t=e.element,i=e._offset();t.css({top:i.top,left:i.left}).show()},content:function(e){var t,i,n,o=this,r=o.options,a=o.crosshair.axis,s=a.options;return i=t=a[r.stickyMode?"getCategory":"getValue"](e),r.template?(n=jt(r.template),t=n({value:i})):r.format?t=hi(r.format,i):s.type===Yi&&(t=hi(s.labels.dateFormats[s.baseUnit],i)),t},getAnchor:function(e,t){var i,n,o=this,r=o.options,a=r.position,s=o.crosshair.axis.options.vertical,l=o.crosshair.points,c=l[0],h=l[1],d=e/2,u=t/2,p=r.padding;return s?a===un?(i=c.x-e-p,n=c.y-u):(i=h.x+p,n=h.y-u):a===Di?(i=h.x-d,n=h.y+p):(i=c.x-d,n=c.y-t-p),ii(i,n)},hide:function(){this.element.hide(),this.point=null}}),Vt={max:function(e){var t=Lt.max.apply(Lt,e);return isNaN(t)?o(e):t},min:function(e){var t=Lt.min.apply(Lt,e);return isNaN(t)?n(e):t},sum:function(e){var t,i,n=e.length,o=0;for(t=0;n>t;t++)i=e[t],di(i)&&!isNaN(i)&&(o+=i);return o},count:function(e){return e.length},avg:function(e){return Vt.sum(e)/Vt.count(e)}},Dt=Mt.extend({init:function(t,i,n){var o,r,a=this,s=t.element,l=i.lineBox(),c=a.getValueAxis(i),h=c.lineBox(),d="."+ji;Mt.fn.init.call(a),a.options=Wt({},a.options,n),n=a.options,a.chart=t,a.chartElement=s,a.categoryAxis=i,a._dateAxis=a.categoryAxis instanceof Eo,a.valueAxis=c,a._dateAxis&&Wt(n,{min:x(n.min),max:x(n.max),from:x(n.from),to:x(n.to)}),a.template=Dt.template,a.template||(a.template=Dt.template=mi("<div class='"+ji+"selector' "+"style='width: #= d.width #px; height: #= d.height #px;"+" top: #= d.offset.top #px; left: #= d.offset.left #px;'>"+"<div class='"+ji+"mask'></div>"+"<div class='"+ji+"mask'></div>"+"<div class='"+ji+"selection'>"+"<div class='"+ji+"selection-bg'></div>"+"<div class='"+ji+"handle "+ji+"leftHandle'><div></div></div>"+"<div class='"+ji+"handle "+ji+"rightHandle'><div></div></div>"+"</div></div>")),r={left:parseInt(s.css("paddingLeft"),10),right:parseInt(s.css("paddingTop"),10)},a.options=Wt({},{width:l.width(),height:h.height(),padding:r,offset:{left:h.x2+r.left,top:h.y1+r.right},from:n.min,to:n.max},n),a.options.visible&&(a.wrapper=o=e(a.template(a.options)).appendTo(s),a.selection=o.find(d+"selection"),a.leftMask=o.find(d+"mask").first(),a.rightMask=o.find(d+"mask").last(),a.leftHandle=o.find(d+"leftHandle"),a.rightHandle=o.find(d+"rightHandle"),a.options.selection={border:{left:parseFloat(a.selection.css("border-left-width"),10),right:parseFloat(a.selection.css("border-right-width"),10)}},a.leftHandle.css("top",(a.selection.height()-a.leftHandle.height())/2),a.rightHandle.css("top",(a.selection.height()-a.rightHandle.height())/2),a.set(a._index(n.from),a._index(n.to)),a.bind(a.events,a.options),a.wrapper[0].style.cssText=a.wrapper[0].style.cssText,a.wrapper.on(Pn,Ot(a._mousewheel,a)),zt.UserEvents?a.userEvents=new zt.UserEvents(a.wrapper,{global:!0,threshold:5,stopPropagation:!0,multiTouch:!0,start:Ot(a._start,a),move:Ot(a._move,a),end:Ot(a._end,a),tap:Ot(a._tap,a),gesturestart:Ot(a._gesturechange,a),gesturechange:Ot(a._gesturechange,a)}):a.leftHandle.add(a.rightHandle).removeClass(ji+"handle"))},events:[Nn,Fn,jn],options:{visible:!0,mousewheel:{zoom:Vi},min:mn,max:vn},destroy:function(){var e=this,t=e.userEvents;t&&t.destroy()},_rangeEventArgs:function(e){var t=this;return{axis:t.categoryAxis.options,from:t._value(e.from),to:t._value(e.to)}},_start:function(t){var i,n=this,o=n.options,r=e(t.event.target);!n._state&&r&&(n.chart._unsetActivePoint(),n._state={moveTarget:r.parents(".k-handle").add(r).first(),startLocation:t.x?t.x.location:0,range:{from:n._index(o.from),to:n._index(o.to)}},i=n._rangeEventArgs({from:n._index(o.from),to:n._index(o.to)}),n.trigger(Nn,i)&&(n.userEvents.cancel(),n._state=null))},_move:function(e){if(this._state){var t=this,i=t._state,n=t.options,o=t.categoryAxis.options.categories,r=t._index(n.from),a=t._index(n.to),s=t._index(n.min),l=t._index(n.max),c=i.startLocation-e.x.location,h=i.range,d={from:h.from,to:h.to},u=h.to-h.from,p=i.moveTarget,g=t.wrapper.width()/(o.length-1),f=Lt.round(c/g);p&&(e.preventDefault(),p.is(".k-selection, .k-selection-bg")?(h.from=Lt.min(Lt.max(s,r-f),l-u),h.to=Lt.min(h.from+u,l)):p.is(".k-leftHandle")?(h.from=Lt.min(Lt.max(s,r-f),l-1),h.to=Lt.max(h.from+1,h.to)):p.is(".k-rightHandle")&&(h.to=Lt.min(Lt.max(s+1,a-f),l),h.from=Lt.min(h.to-1,h.from)),(h.from!==d.from||h.to!==d.to)&&(t.move(h.from,h.to),t.trigger(Fn,t._rangeEventArgs(h))))}},_end:function(){var e=this,t=e._state.range;delete e._state,e.set(t.from,t.to),e.trigger(jn,e._rangeEventArgs(t))},_gesturechange:function(e){if(this._state){var t=this,i=t.chart,n=t._state,o=t.options,r=t.categoryAxis,a=n.range,s=i._toModelCoordinates(e.touches[0].x.location).x,l=i._toModelCoordinates(e.touches[1].x.location).x,c=Lt.min(s,l),h=Lt.max(s,l);e.preventDefault(),n.moveTarget=null,a.from=r.getCategoryIndex(new Xt.Point2D(c))||o.min,a.to=r.getCategoryIndex(new Xt.Point2D(h))||o.max,t.move(a.from,a.to)}},_tap:function(e){var t=this,i=t.options,n=t.chart._eventCoordinates(e),o=t.categoryAxis,r=o.getCategoryIndex(new Xt.Point2D(n.x,o.box.y1)),a=t._index(i.from),s=t._index(i.to),l=t._index(i.min),c=t._index(i.max),h=s-a,d=a+h/2,u=Lt.round(d-r),p={},g=3===e.event.which;t._state||g||(e.preventDefault(),t.chart._unsetActivePoint(),o.options.justified||u--,p.from=Lt.min(Lt.max(l,a-u),c-h),p.to=Lt.min(p.from+h,c),t._start(e),t._state&&(t._state.range=p,t.trigger(Fn,t._rangeEventArgs(p)),t._end()))},_mousewheel:function(e){var t,i=this,n=i.options,o=M(e);i._start({event:{target:i.selection}}),i._state&&(t=i._state.range,e.preventDefault(),e.stopPropagation(),Lt.abs(o)>1&&(o*=yo),n.mousewheel.reverse&&(o*=-1),i.expand(o)&&i.trigger(Fn,{axis:i.categoryAxis.options,delta:o,originalEvent:e,from:i._value(t.from),to:i._value(t.to)}),i._mwTimeout&&clearTimeout(i._mwTimeout),i._mwTimeout=setTimeout(function(){i._end()},Sn))},_index:function(e){var t=this,i=t.categoryAxis,n=i.options.categories,o=e;return e instanceof Date&&(o=O(n,e),!i.options.justified&&e>xi(n)&&(o+=1)),o
},_value:function(e){var t=this,i=this.categoryAxis,n=i.options.categories,o=e;return t._dateAxis&&(o=e>n.length-1?t.options.max:n[e]),o},_slot:function(e){var t=this,i=this.categoryAxis;return i.getSlot(t._index(e))},move:function(e,t){var i,n,o,r,a=this,s=a.options,l=s.offset,c=s.padding,h=s.selection.border;o=a._slot(e),i=vi(o.x1-l.left+c.left),a.leftMask.width(i),a.selection.css("left",i),o=a._slot(t),n=vi(s.width-(o.x1-l.left+c.left)),a.rightMask.width(n),r=s.width-n,r!=s.width&&(r+=h.right),a.rightMask.css("left",r),a.selection.width(Lt.max(s.width-(i+n)-h.right,0))},set:function(e,t){var i=this,n=i.options,o=i._index(n.min),r=i._index(n.max);e=D(i._index(e),o,r),t=D(i._index(t),e+1,r),n.visible&&i.move(e,t),n.from=i._value(e),n.to=i._value(t)},expand:function(e){var i=this,n=i.options,o=i._index(n.min),r=i._index(n.max),a=n.mousewheel.zoom,s=i._index(n.from),l=i._index(n.to),c={from:s,to:l},h=Wt({},c);return i._state&&(c=i._state.range),a!==Hn&&(c.from=D(D(s-e,0,l-1),o,r)),a!==un&&(c.to=D(D(l+e,c.from+1,r),o,r)),c.from!==h.from||c.to!==h.to?(i.set(c.from,c.to),!0):t},getValueAxis:function(e){var t,i,n=e.pane.axes,o=n.length;for(t=0;o>t;t++)if(i=n[t],i.options.vertical!==e.options.vertical)return i}}),Ht(e.easing,{easeOutElastic:function(e,t,i,n){var o=1.70158,r=0,a=n;return 0===e?i:1===e?i+n:(r||(r=.5),Lt.abs(n)>a?(a=n,o=r/4):o=r/(2*Lt.PI)*Lt.asin(n/a),a*Lt.pow(2,-10*e)*Lt.sin((1*e-o)*1.1*Lt.PI/r)+n+i)}}),Xt.ui.plugin(So),Wt(Xt,{Aggregates:Vt,AreaChart:et,Bar:zo,BarAnimationDecorator:wt,BarChart:j,BarLabel:Po,BubbleAnimationDecorator:At,BubbleChart:nt,CandlestickChart:rt,Candlestick:ot,CategoricalPlotArea:gt,CategoryAxis:Do,ClusterLayout:Lo,Crosshair:Pt,CrosshairTooltip:Tt,DateCategoryAxis:Eo,DateValueAxis:Ro,DonutChart:dt,DonutPlotArea:mt,DonutSegment:ht,Highlight:kt,SharedTooltip:St,Legend:Vo,LineChart:$,LinePoint:q,Pane:ut,PieAnimation:yt,PieAnimationDecorator:_t,PieChart:ct,PiePlotArea:vt,PieSegment:lt,ScatterChart:tt,ScatterLineChart:it,Selection:Dt,ShapeElement:X,StackLayout:Ho,Tooltip:It,OHLCChart:st,OHLCPoint:at,XYPlotArea:xt,addDuration:m,axisGroupBox:B,validNumbers:z,bindPoint:I,categoriesCount:p,ceilDate:w,duration:k,floorDate:b,lteDateIndex:O,sparseArrayLimits:r,toDate:x,toTime:v})})(window.kendo.jQuery);;(function(){var e=window.kendo,o=e.dataviz.ui,r=e.deepExtend,l=1.5,a=.4,c="#000",i="Arial,Helvetica,sans-serif",s="11px "+i,f="12px "+i,t="16px "+i,n="#fff",d={title:{font:t},legend:{labels:{font:f}},seriesDefaults:{visible:!0,labels:{font:s},donut:{margin:1},line:{width:4},area:{line:{opacity:1,width:0}},candlestick:{line:{width:1,color:c},border:{width:1,_brightness:.8},gap:1,spacing:.3,downColor:n,aggregate:{open:"max",high:"max",low:"min",close:"max"},highlight:{line:{width:2},border:{width:2,opacity:1}}},ohlc:{line:{width:1},gap:1,spacing:.3,aggregate:{open:"max",high:"max",low:"min",close:"max"},highlight:{line:{width:3,opacity:1}}},bubble:{opacity:.6,border:{width:0},labels:{background:"transparent"}},bar:{gap:l,spacing:a},column:{gap:l,spacing:a},bullet:{gap:l,spacing:a,target:{color:"#ff0000"}},verticalBullet:{gap:l,spacing:a,target:{color:"#ff0000"}}},categoryAxis:{majorGridLines:{visible:!0}},axisDefaults:{labels:{font:f},title:{font:t,margin:5},crosshair:{tooltip:{font:f}}},tooltip:{font:f},navigator:{pane:{height:90,margin:{top:10}}}},b={scale:{labels:{font:f}}},g=o.themes,m=o.registerTheme=function(e,o){var l,a={};a.chart=r({},d,o.chart),a.gauge=r({},b,o.gauge),l=a.chart.seriesDefaults,l.verticalLine=r({},l.line),l.verticalArea=r({},l.area),g[e]=a};m("black",{chart:{title:{color:n},legend:{labels:{color:n},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:n},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#3d3d3d"}},scatter:{markers:{background:"#3d3d3d"}},scatterLine:{markers:{background:"#3d3d3d"}},area:{opacity:.4,markers:{visible:!1,size:6}},candlestick:{downColor:"#555",line:{color:n},border:{_brightness:1.5,opacity:1},highlight:{border:{color:n,opacity:.2}}},ohlc:{line:{color:n}}},chartArea:{background:"#3d3d3d"},seriesColors:["#0081da","#3aafff","#99c900","#ffeb3d","#b20753","#ff4195"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:n},majorGridLines:{color:"#545454"},minorGridLines:{color:"#454545"},title:{color:n},crosshair:{color:"#8e8e8e"}}},gauge:{pointer:{color:"#0070e4"},scale:{rangePlaceholderColor:"#1d1d1d",labels:{color:n},minorTicks:{color:n},majorTicks:{color:n},line:{color:n}}}}),m("blueopal",{chart:{title:{color:"#293135"},legend:{labels:{color:"#293135"},inactiveItems:{labels:{color:"#27A5BA"},markers:{color:"#27A5BA"}}},seriesDefaults:{labels:{color:c,background:n,opacity:.5},area:{opacity:.4,markers:{visible:!1,size:6}},candlestick:{downColor:"#c4d0d5",line:{color:"#9aabb2"}}},seriesColors:["#0069a5","#0098ee","#7bd2f6","#ffb800","#ff8517","#e34a00"],axisDefaults:{line:{color:"#9aabb2"},labels:{color:"#293135"},majorGridLines:{color:"#c4d0d5"},minorGridLines:{color:"#edf1f2"},title:{color:"#293135"},crosshair:{color:"#9aabb2"}}},gauge:{pointer:{color:"#005c83"},scale:{rangePlaceholderColor:"#daecf4",labels:{color:"#293135"},minorTicks:{color:"#293135"},majorTicks:{color:"#293135"},line:{color:"#293135"}}}}),m("highcontrast",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#66465B"},markers:{color:"#66465B"}}},seriesDefaults:{labels:{color:"#ffffff"},pie:{overlay:{gradient:"sharpGlass"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#2c232b"}},scatter:{markers:{background:"#2c232b"}},scatterLine:{markers:{background:"#2c232b"}},area:{opacity:.5,markers:{visible:!1,size:6}},candlestick:{downColor:"#664e62",line:{color:"#ffffff"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#ffffff",opacity:1}}},ohlc:{line:{color:"#ffffff"}}},chartArea:{background:"#2c232b"},seriesColors:["#a7008f","#ffb800","#3aafff","#99c900","#b20753","#ff4195"],axisDefaults:{line:{color:"#ffffff"},labels:{color:"#ffffff"},majorGridLines:{color:"#664e62"},minorGridLines:{color:"#4f394b"},title:{color:"#ffffff"},crosshair:{color:"#ffffff"}}},gauge:{pointer:{color:"#a7008f"},scale:{rangePlaceholderColor:"#2c232b",labels:{color:"#ffffff"},minorTicks:{color:"#2c232b"},majorTicks:{color:"#664e62"},line:{color:"#ffffff"}}}}),m("default",{chart:{title:{color:"#8e8e8e"},legend:{labels:{color:"#232323"},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:c,background:n,opacity:.5},area:{opacity:.4,markers:{visible:!1,size:6}},candlestick:{downColor:"#dedede",line:{color:"#8d8d8d"}}},seriesColors:["#ff6800","#a0a700","#ff8d00","#678900","#ffb53c","#396000"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:"#232323"},minorGridLines:{color:"#f0f0f0"},majorGridLines:{color:"#dfdfdf"},title:{color:"#232323"},crosshair:{color:"#8e8e8e"}}},gauge:{pointer:{color:"#ea7001"},scale:{rangePlaceholderColor:"#dedede",labels:{color:"#2e2e2e"},minorTicks:{color:"#2e2e2e"},majorTicks:{color:"#2e2e2e"},line:{color:"#2e2e2e"}}}}),m("silver",{chart:{title:{color:"#4e5968"},legend:{labels:{color:"#4e5968"},inactiveItems:{labels:{color:"#B1BCC8"},markers:{color:"#B1BCC8"}}},seriesDefaults:{labels:{color:"#293135",background:"#eaeaec",opacity:.5},line:{markers:{background:"#eaeaec"}},scatter:{markers:{background:"#eaeaec"}},scatterLine:{markers:{background:"#eaeaec"}},pie:{connectors:{color:"#A6B1C0"}},donut:{connectors:{color:"#A6B1C0"}},area:{opacity:.4,markers:{visible:!1,size:6}},candlestick:{downColor:"#a6afbe"}},chartArea:{background:"#eaeaec"},seriesColors:["#007bc3","#76b800","#ffae00","#ef4c00","#a419b7","#430B62"],axisDefaults:{line:{color:"#a6b1c0"},labels:{color:"#4e5968"},majorGridLines:{color:"#dcdcdf"},minorGridLines:{color:"#eeeeef"},title:{color:"#4e5968"},crosshair:{color:"#a6b1c0"}}},gauge:{pointer:{color:"#0879c0"},scale:{rangePlaceholderColor:"#f3f3f4",labels:{color:"#515967"},minorTicks:{color:"#515967"},majorTicks:{color:"#515967"},line:{color:"#515967"}}}}),m("metro",{chart:{title:{color:"#777777"},legend:{labels:{color:"#777777"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:c},area:{opacity:.4,markers:{visible:!1,size:6}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#8ebc00","#309b46","#25a0da","#ff6900","#e61e26","#d8e404","#16aba9","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#c7c7c7"},labels:{color:"#777777"},minorGridLines:{color:"#c7c7c7"},majorGridLines:{color:"#c7c7c7"},title:{color:"#777777"},crosshair:{color:"#c7c7c7"}}},gauge:{pointer:{color:"#8ebc00"},scale:{rangePlaceholderColor:"#e6e6e6",labels:{color:"#777"},minorTicks:{color:"#777"},majorTicks:{color:"#777"},line:{color:"#777"}}}}),m("metroblack",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#797979"},markers:{color:"#797979"}}},seriesDefaults:{border:{_brightness:1},labels:{color:"#ffffff"},line:{markers:{background:"#0e0e0e"}},bubble:{opacity:.6},scatter:{markers:{background:"#0e0e0e"}},scatterLine:{markers:{background:"#0e0e0e"}},area:{opacity:.4,markers:{visible:!1,size:6}},candlestick:{downColor:"#828282",line:{color:"#ffffff"}},overlay:{gradient:"none"}},chartArea:{background:"#0e0e0e"},seriesColors:["#00aba9","#309b46","#8ebc00","#ff6900","#e61e26","#d8e404","#25a0da","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#cecece"},labels:{color:"#ffffff"},minorGridLines:{color:"#2d2d2d"},majorGridLines:{color:"#333333"},title:{color:"#ffffff"},crosshair:{color:"#cecece"}}},gauge:{pointer:{color:"#00aba9"},scale:{rangePlaceholderColor:"#2d2d2d",labels:{color:"#ffffff"},minorTicks:{color:"#333333"},majorTicks:{color:"#cecece"},line:{color:"#cecece"}}}}),m("moonlight",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#A1A7AB"},markers:{color:"#A1A7AB"}}},seriesDefaults:{labels:{color:"#ffffff"},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#212a33"}},bubble:{opacity:.6},scatter:{markers:{background:"#212a33"}},scatterLine:{markers:{background:"#212a33"}},area:{opacity:.3,markers:{visible:!1,size:6}},candlestick:{downColor:"#757d87",line:{color:"#ea9d06"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:n,opacity:.2}}},ohlc:{line:{color:"#ea9d06"}}},chartArea:{background:"#212a33"},seriesColors:["#ffca08","#ff710f","#ed2e24","#ff9f03","#e13c02","#a00201"],axisDefaults:{line:{color:"#8c909e"},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},labels:{color:"#ffffff"},majorGridLines:{color:"#3e424d"},minorGridLines:{color:"#2f3640"},title:{color:"#ffffff"},crosshair:{color:"#8c909e"}}},gauge:{pointer:{color:"#f4af03"},scale:{rangePlaceholderColor:"#2f3640",labels:{color:n},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},line:{color:"#8c909e"}}}}),m("uniform",{chart:{title:{color:"#686868"},legend:{labels:{color:"#686868"},inactiveItems:{labels:{color:"#B6B6B6"},markers:{color:"#B6B6B6"}}},seriesDefaults:{labels:{color:"#686868"},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.3,markers:{visible:!1,size:6}},candlestick:{downColor:"#cccccc",line:{color:"#cccccc"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#cccccc",opacity:.2}}},ohlc:{line:{color:"#cccccc"}}},chartArea:{background:"#ffffff"},seriesColors:["#527aa3","#6f91b3","#8ca7c2","#a8bdd1","#c5d3e0","#e2e9f0"],axisDefaults:{line:{color:"#9e9e9e"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},labels:{color:"#686868"},majorGridLines:{color:"#dadada"},minorGridLines:{color:"#e7e7e7"},title:{color:"#686868"},crosshair:{color:"#9e9e9e"}}},gauge:{pointer:{color:"#527aa3"},scale:{rangePlaceholderColor:"#e7e7e7",labels:{color:"#686868"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},line:{color:"#9e9e9e"}}}}),m("bootstrap",{chart:{title:{color:"#343434"},legend:{labels:{color:"#343434"},inactiveItems:{labels:{color:"#9A9A9A"},markers:{color:"#9A9A9A"}}},seriesDefaults:{labels:{color:"#343434"},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.3,markers:{visible:!1,size:6}},candlestick:{downColor:"#d0d0d0",line:{color:"#d0d0d0"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#b8b8b8",opacity:.2}}},ohlc:{line:{color:"#d0d0d0"}}},chartArea:{background:"#ffffff"},seriesColors:["#006dcc","#49AFCD","#5BB75B","#FAA732","#DA4F49","#363636"],axisDefaults:{line:{color:"#b8b8b8"},minorTicks:{color:"#dddddd"},majorTicks:{color:"#b8b8b8"},labels:{color:"#343434"},majorGridLines:{color:"#b8b8b8"},minorGridLines:{color:"#dddddd"},title:{color:"#343434"},crosshair:{color:"#b8b8b8"}}},gauge:{pointer:{color:"#0044cc"},scale:{rangePlaceholderColor:"#b8b8b8",labels:{color:"#343434"},minorTicks:{color:"#dddddd"},majorTicks:{color:"#b8b8b8"},line:{color:"#b8b8b8"}}}})})(window.kendo.jQuery);;