kendo_module({id:"dataviz.chart",name:"Chart",category:"dataviz",description:"The Chart widget uses modern browser technologies to render high-quality data visualizations in the browser.",depends:["data","userevents","dataviz.core","dataviz.svg"]}),function(n,t){function ll(n,t,i){function u(n,t,r){var u=typeof t;return u===yi?ar[t](n):u==="function"?t(n,r,i):ar.max(n)}function f(n,t,i){for(var s=we(i.type),c=s.length,l=n.length,f,e,h=[],o=[],r=0;r<c;r++){for(e=s[r],f=0;f<l;f++)o.push(n[f][e]);h.push(u(o,t[e],i));o=[]}return h}var r=t.aggregate;return typeof r=="object"?f(n,r,t):u(n,r,t)}function ih(n){return vr(n).min}function rh(n){return vr(n).max}function vr(n){for(var u=tt,f=lt,o=n.length,r,e=0;e<o;e++)r=n[e],r!==null&&isFinite(r)&&(u=i.min(u,r),f=i.max(f,r));return{min:u===tt?t:u,max:f===lt?t:f}}function uh(n,t,i,r){var e,s=(r.x-i.x)*(n.y-i.y)-(r.y-i.y)*(n.x-i.x),o=(r.y-i.y)*(t.x-n.x)-(r.x-i.x)*(t.y-n.y),u;return o!==0&&(u=s/o,e=new f(n.x+u*(t.x-n.x),n.y+u*(t.y-n.y))),e}function al(n,t){var u=n.series,i,h=u.length,f,c=n.seriesDefaults,e=r({},n.seriesDefaults),o=t?r({},t.seriesDefaults):{},s=r({},o);for(fh(e),fh(s),i=0;i<h;i++)f=u[i].type||n.seriesDefaults.type,u[i]=r({},s,o[f],{tooltip:n.tooltip},e,c[f],u[i])}function fh(n){delete n.bar;delete n.column;delete n.line;delete n.verticalLine;delete n.pie;delete n.donut;delete n.area;delete n.verticalArea;delete n.scatter;delete n.scatterLine;delete n.bubble;delete n.candlestick;delete n.ohlc;delete n.bullet;delete n.verticalBullet}function ye(n){for(var i=n.series,u=i.length,r=n.seriesColors||[],t=0;t<u;t++)i[t].color=i[t].color||r[t%r.length]}function vl(n){var t;wr([ff,er,l,a],function(){t=this+"Axes";n[t]&&(n[this+"Axis"]=n[t],delete n[t])})}function yl(t,i){var u=(i||{}).axisDefaults||{};wr([ff,er,l,a],function(){var i=this+"Axis",f=[].concat(t[i]),e=t.axisDefaults||{};f=n.map(f,function(n){var t=(n||{}).color,f=r({},u,u[i],e,e[i],{line:{color:t},labels:{color:t},title:{color:t}},n);return delete f[i],f});t[i]=f.length>1?f:f[0]})}function eh(n,t,i){n[t]=(n[t]||0)+i}function vu(n){for(var u=n.length,r=0,t=0;t<u;t++)r=i.max(r,n[t].data.length);return r}function pe(n){return n*n}function oh(n,t){if(t===null)return t;var i=ph(n,!0);return i(t)}function s(n){var t,r,i;if(n instanceof Date)t=n;else if(typeof n===yi)r=ic.exec(n),t=new Date(r?parseInt(r[1],10):n);else if(n)if(n.length)for(t=[],i=0;i<n.length;i++)t.push(s(n[i]));else t=new Date(n);return t}function et(n){return ku(n)?vh(n,et):n?s(n).getTime():void 0}function v(n,t,i,r){var u=n;return n&&(n=s(n),i===pi?u=new Date(n.getFullYear()+t,0,1):i===ir?u=new Date(n.getFullYear(),n.getMonth()+t,1):i===ou?u=v(pl(n,r),t*7,ii):i===ii?u=new Date(n.getFullYear(),n.getMonth(),n.getDate()+t):i===uu?(u=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()+t),t>0&&pr(n,u)&&(u=v(n,t+1,i,r))):i===yf&&(u=new Date(n.getTime()+t*fr),u.setSeconds(0))),u}function pl(n,t){var i=n.getDay(),r=0;for(t=t||0;i!==t;)i===0?i=6:i--,r++;return ot(n,-r*wt)}function yu(n,t,i){return n=s(n),v(n,0,t,i)}function sh(n,t,i){return(n=s(n),n&&yu(n,t,i).getTime()===n.getTime())?n:v(n,1,t,i)}function pu(n,t){var i=n.getTime()-t,r=n.getTimezoneOffset()-t.getTimezoneOffset();return i-r*fr}function ot(n,t){var r=n.getTimezoneOffset(),i=new Date(n.getTime()+t),u=i.getTimezoneOffset()-r;return new Date(i.getTime()+u*fr)}function yr(n,t,r){return r===pi?t.getFullYear()-n.getFullYear():r===ir?yr(n,t,pi)*12+t.getMonth()-n.getMonth():r===ii?i.floor(pu(t,n)/wt):i.floor((t-n)/eu[r])}function we(n){var t=[er];return w(n,[tr,fu])?t=["open","high","low","close"]:w(n,[nr,te])?t=["current","target"]:w(n,is)&&(t=[l,a],n===gi&&t.push("size")),t}function ci(n,t,i){var r=n.data[t],h,e={},c,l,u=we(n.type),f,s={value:r};return o(r)?ku(r)?(h=r.slice(u.length),f=hh(r,u),e=hh(h,i)):typeof r=="object"&&(c=ch(n,u),l=ch(n,i),f=be(r,u,c),e=be(r,i,l)):f=be({},u),o(f)&&(u.length===1&&(f=f[u[0]]),s.value=f),s.fields=e,s}function hh(n,t){var u={},r,f;if(t)for(f=i.min(t.length,n.length),r=0;r<f;r++)u[t[r]]=n[r];return u}function be(n,t,i){var u={},r,f,e,o;if(t)for(f=t.length,i=i||t,r=0;r<f;r++)e=t[r],o=i[r],u[e]=oh(o,n);return u}function ch(n,t){var i,f,r,u,e;if(t)for(f=t.length,u=[],i=0;i<f;i++)r=t[i],e=r===er?"field":r+"Field",u.push(n[e]||r);return u}function wu(n){return n.length===1?n[0]:n}function kt(n,t,r){return i.max(i.min(n,r),t)}function bu(n){var u=n.length,t,i,r;if(u>0)for(i=0;i<u;i++)r=n[i].box,t?t.wrap(r):t=r.clone();return t||y()}function ke(n,t){return n&&t?n.toLowerCase()===t.toLowerCase():n===t}function pr(n,t){return n&&t?et(n)===et(t):n===t}function wl(n){for(var i=n.length,t;i--;)if(t=n[i],o(t)&&t!==null)return t}function de(n,t){t!==null&&n.push(t)}function ge(n,t){for(var u=0,f=n.length-1,r,e;u<=f;){if(r=i.floor((u+f)/2),e=n[r],e<t){u=r+1;continue}if(e>t){f=r-1;continue}return r}return n[r]<=t?r:r-1}function lh(n){for(var r=!0,i,u=n.length,t=0;t<u;t++)if(i=n[t],typeof i!="number"||isNaN(i)){r=!1;break}return r}function bl(n){for(var i,r,u={},t=0;t<n.length;t++)i=n[t],r=i.options.name,r&&(u[r]=i.range());return u}function ah(n){var r=n.originalEvent,t=0;return r.wheelDelta&&(t=-r.wheelDelta/120,t=t>0?i.ceil(t):i.floor(t)),r.detail&&(t=c(r.detail/3)),t}function kl(n,i){var o=[],e,f,s=i.length,u;for(n.groupNameTemplate&&(e=dt(n.groupNameTemplate)),f=0;f<s;f++)u=r({},n),u.color=t,u._groupIx=f,o.push(u),e&&(u.name=e({series:u,group:i[f]}));return o}var wr=n.each,ku=n.isArray,vh=n.map,i=Math,br=n.extend,h=n.proxy,p=window.kendo,du=p.Class,no=p.Observable,yh=p.data.DataSource,gu=p.ui.Widget,dt=p.template,r=p.deepExtend,ph=p.getter,u=p.dataviz,kr=u.Axis,to=u.AxisLabel,wh=u.BarAnimation,y=u.Box2D,dr=u.BoxElement,e=u.ChartElement,bi=u.Color,io=u.ElementAnimation,ki=u.NumericAxis,f=u.Point2D,bh=u.RootElement,kh=u.Ring,ro=u.Text,nf=u.TextBox,uo=u.Title,tf=u.animationDecorator,d=u.append,ut=u.autoFormat,o=u.defined,rf=u.getElement,ft=u.getSpacing,w=u.inArray,fo=u.interpolateValue,st=u.last,c=u.round,eo=u.renderTemplate,b=u.uniqueId,pt=".kendoChart",oo="above",gr="area",dh="auto",nu="fit",gh=u.AXIS_LABEL_CLICK,gt="bar",uf=.8,nc="below",di="#000",ht="bottom",gi="bubble",nr="bullet",tr="candlestick",ff="category",k="center",tu="change",ni="circle",tc="click"+pt,iu=u.CLIP,li="column",ti=u.COORD_PRECISION,g="k-",ef="dataBound",ai="date",ic=/^\/Date\((.*?)\)\/$/,ii="days",rc=u.DEFAULT_FONT,uc=u.DEFAULT_HEIGHT,of=u.DEFAULT_PRECISION,fc=u.DEFAULT_WIDTH,ec=i.PI/180,sf="donut",oc=50,hf="drag",cf="dragEnd",lf="dragStart",ru="fadeIn",so="glass",uu="hours",ri=u.INITIAL_ANIMATION_DURATION,sc="insideBase",af="insideEnd",hc="interpolate",ct="left",ho="legendItemClick",co="legendItemHover",vf="line",tt=Number.MAX_VALUE,lt=-Number.MAX_VALUE,yf="minutes",ir="months",cc="mouseleave"+pt,pf="mousemove.tracking",lc="mouseover"+pt,ac="mouseout"+pt,vc="mousemove"+pt,yc=20,lo=150,ao="DOMMouseScroll"+pt+" mousewheel"+pt,fu="ohlc",ui="outsideEnd",pc="_outline",vi="pie",wc=70,wf="plotAreaClick",vo="pointer",it="right",yo="scatter",po="scatterLine",rr="selectStart",fi="select",ur="selectEnd",wo="seriesClick",bo="seriesHover",yi="string",fr=6e4,bf=60*fr,wt=24*bf,kf=7*wt,df=31*wt,gf=365*wt,eu={years:gf,months:df,weeks:kf,days:wt,hours:bf,minutes:fr},at="top",rt=5,bc=100,kc=100,ko="tooltip-inverse",dc="touchstart"+pt,gc="triangle",er="value",ne="verticalArea",te="verticalBullet",ie="verticalLine",ou="weeks",ei="#fff",l="x",a="y",pi="years",re="zero",nl=3,go="zoomStart",ns="zoom",ts="zoomEnd",tl=[gt,li,vf,ie,gr,ne,tr,fu,nr,te],is=[yo,po,gi],wi=[yf,uu,ii,ou,ir,pi],rs={minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},il=gu.extend({init:function(n,t){var i=this,f,o,h=u.ui.themes||{},s,e;p.destroy(n);gu.fn.init.call(i,n);f=r({},i.options,t);i.element.addClass(g+f.name.toLowerCase()).css("position","relative");i._originalOptions=r({},f);e=f.theme;s=h[e]||h[e.toLowerCase()];o=e&&s?s.chart:{};vl(f);i._applyDefaults(f,o);i.options=r({},o,f);ye(i.options);i.bind(i.events,i.options);i.wrapper=i.element;i._initDataSource(t);p.notify(i,u.ui)},_initDataSource:function(n){var t=this,i=(n||{}).dataSource;t._dataChangeHandler=h(t._onDataChanged,t);t.dataSource=yh.create(i).bind(tu,t._dataChangeHandler);t._redraw();t._attachEvents();i&&t.options.autoBind&&t.dataSource.fetch()},setDataSource:function(n){var t=this;t.dataSource.unbind(tu,t._dataChangeHandler);t.dataSource=n;n.bind(tu,t._dataChangeHandler);t.options.autoBind&&n.fetch()},events:[ef,wo,bo,gh,ho,co,wf,lf,hf,cf,go,ns,ts,rr,fi,ur],items:function(){return n()},options:{name:"Chart",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:li,data:[],highlight:{visible:!0},groupNameTemplate:"#= group.value + (kendo.dataviz.defined(series.name) ? ': ' + series.name : '') #",labels:{}},series:[],tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{}},refresh:function(){var n=this;n._applyDefaults(n.options);ye(n.options);n._bindSeries();n._bindCategories();n.trigger(ef);n._redraw()},redraw:function(n){var t=this,r,i;t._applyDefaults(t.options);n?(i=t._model._plotArea,r=i.findPane(n),i.redraw(r)):t._redraw()},_redraw:function(){var n=this,t=n._getModel(),r=u.ui.defaultView(),i;n._destroyView();n._model=t;n._plotArea=t._plotArea;r&&(i=n._view=r.fromModel(t),n._viewElement=n._renderView(i),n._tooltip=n._createTooltip(),n._highlight=new ks(i,n._viewElement),n._setupSelection())},_sharedTooltip:function(){var n=this,t=n.options;return n._plotArea instanceof le&&t.tooltip.shared},_createTooltip:function(){var n=this,t=n.options,i=n.element;return n._sharedTooltip()?new gs(i,n._plotArea,t.tooltip):new ds(i,t.tooltip)},_renderView:function(){var n=this;return n._view.renderTo(n.element[0])},svg:function(){var n=this._getModel(),t=u.SVGView.fromModel(n);return t.render()},_applyDefaults:function(n,t){yl(n,t);al(n,t)},_getModel:function(){var t=this,r=t.options,n=new bh(t._modelOptions()),i;return n.parent=t,uo.buildTitle(r.title,n),i=n._plotArea=t._createPlotArea(),r.legend.visible&&n.append(new fs(i.options.legend)),n.append(i),n.reflow(),n},_modelOptions:function(){var n=this,t=n.options,u=n.element,f=i.floor(u.height()),e=i.floor(u.width());return r({width:e||fc,height:f||uc,transitions:t.transitions},t.chartArea)},_createPlotArea:function(){for(var s=this,t=s.options,e=t.series,h=e.length,n,o=[],r=[],u=[],f=[],c=[],i=0;i<h;i++)n=e[i],w(n.type,tl)?o.push(n):w(n.type,is)?r.push(n):n.type===vi?u.push(n):n.type===sf?f.push(n):n.type===nr&&c.push(n);return u.length>0?new ve(u,t):f.length>0?new ws(f,t):r.length>0?new ps(r,t):new le(o,t)},_setupSelection:function(){var n=this,c=n._plotArea,s=c.axes,l=n._selections=[],f,e,u,o,i,t;for(n._selectStartHandler||(n._selectStartHandler=h(n._selectStart,n),n._selectHandler=h(n._select,n),n._selectEndHandler=h(n._selectEnd,n)),e=0;e<s.length;e++)u=s[e],t=u.options,u instanceof vt&&t.select&&!t.vertical&&(o=0,i=t.categories.length-1,u instanceof or&&(o=t.categories[o],i=t.categories[i]),t.justified||(u instanceof or?i=v(i,1,t.baseUnit,t.weekStartDay):i++),f=new au(n,u,r({min:o,max:i},t.select)),f.bind(rr,n._selectStartHandler),f.bind(fi,n._selectHandler),f.bind(ur,n._selectEndHandler),l.push(f))},_selectStart:function(n){return this.trigger(rr,n)},_select:function(n){return this.trigger(fi,n)},_selectEnd:function(n){return this.trigger(ur,n)},_attachEvents:function(){var n=this,t=n.element;t.on(tc,h(n._click,n));t.on(lc,h(n._mouseover,n));t.on(ac,h(n._mouseout,n));t.on(ao,h(n._mousewheel,n));t.on(dc,h(n._tap,n));t.on(cc,h(n._mouseleave,n));if(n._plotArea.crosshairs.length||n._tooltip&&n._sharedTooltip())t.on(vc,h(n._mousemove,n));p.UserEvents&&(n._userEvents=new p.UserEvents(t,{global:!0,threshold:5,filter:":not(.k-selector)",multiTouch:!1,start:h(n._start,n),move:h(n._move,n),end:h(n._end,n)}))},_mouseout:function(n){var i=this,t=i._model.modelMap[n.target.getAttribute("data-model-id")];t&&t.leave&&t.leave(i,n)},_start:function(n){var i=this,t=i._events;o(t[lf]||t[hf]||t[cf])&&i._startNavigation(n,lf)},_move:function(n){var s=this,r=s._navState,u,f={},i,t,h,e,o;if(r){for(n.preventDefault(),u=r.axes,i=0;i<u.length;i++)t=u[i],h=t.options.name,h&&(e=t.options.vertical?n.y:n.x,o=e.startLocation-e.location,o!==0&&(f[t.options.name]=t.translateRange(o)));r.axisRanges=f;s.trigger(hf,{axisRanges:f,originalEvent:n})}},_end:function(n){this._endNavigation(n,cf)},_mousewheel:function(n){var t=this,l=n.originalEvent,h,u=ah(n),f,i=t._navState,e,r,o,s,c={};if(i||(h=t._startNavigation(l,go),h||(i=t._navState)),i){for(f=i.totalDelta||u,i.totalDelta=f+u,e=t._navState.axes,r=0;r<e.length;r++)o=e[r],s=o.options.name,s&&(c[s]=o.scaleRange(f));t.trigger(ns,{delta:u,axisRanges:c,originalEvent:n});t._mwTimeout&&clearTimeout(t._mwTimeout);t._mwTimeout=setTimeout(function(){t._endNavigation(n,ts)},lo)}},_startNavigation:function(n,t){var i=this,f=i._eventCoordinates(n),e=i._model._plotArea,o=e.findPointPane(f),r=e.axes.slice(0),u,s,h=!1,c;if(o){for(u=0;u<r.length;u++)if(s=r[u],s.box.containsPoint(f)){h=!0;break}!h&&e.backgroundBox().containsPoint(f)&&(c=i.trigger(t,{axisRanges:bl(r),originalEvent:n}),c?i._userEvents.cancel():(i._suppressHover=!0,i._unsetActivePoint(),i._navState={pane:o,axes:r}))}},_endNavigation:function(n,t){var i=this;i._navState&&(i.trigger(t,{axisRanges:i._navState.axisRanges,originalEvent:n}),i._suppressHover=!1,i._navState=null)},_getChartElement:function(t){var r=this,u=n(t.target).data("modelId"),f=r._model,i;return u&&(i=f.modelMap[u]),i&&i.aliasFor&&(i=i.aliasFor(t,r._eventCoordinates(t))),i},_eventCoordinates:function(n){var i=this,t=o((n.x||{}).client),r=t?n.x.client:n.clientX,u=t?n.y.client:n.clientY;return i._toModelCoordinates(r,u)},_toModelCoordinates:function(t,i){var r=this.element,u=r.offset(),o=parseInt(r.css("paddingLeft"),10),s=parseInt(r.css("paddingTop"),10),e=n(window);return new f(t-u.left-o+e.scrollLeft(),i-u.top-s+e.scrollTop())},_click:function(n){for(var i=this,t=i._getChartElement(n);t;)t.click&&t.click(i,n),t=t.parent},_startHover:function(n){var t=this,e=t._tooltip,u=t._highlight,f=t.options.tooltip,i;if(!t._suppressHover&&u&&!w(n.target,u._overlays)&&!t._sharedTooltip())return i=t._getChartElement(n),i&&i.hover&&(i.hover(t,n),!n.isDefaultPrevented())?(t._activePoint=i,f=r({},f,i.options.tooltip),f.visible&&e.show(i),u.show(i),!0):void 0},_mouseover:function(t){var i=this;if(i._startHover(t))n(document).on(pf,h(i._mouseMoveTracking,i))},_mouseMoveTracking:function(t){var i=this,h=i.options,c=i._tooltip,l=i._highlight,e=i._eventCoordinates(t),u=i._activePoint,o,s,f;i._plotArea.box.containsPoint(e)?u&&u.series&&(u.series.type===vf||u.series.type===gr)&&(s=u.parent,f=s.getNearestPoint(e.x,e.y,u.seriesIx),f&&f!=u&&(f.hover(i,t),i._activePoint=f,o=r({},h.tooltip,u.options.tooltip),o.visible&&c.show(f),l.show(f))):(n(document).off(pf),i._unsetActivePoint())},_mousemove:function(n){var t=this,r=new Date,u=t._mousemove.timestamp,i;(!u||r-u>yc)&&(i=t._eventCoordinates(n),t._trackCrosshairs(i),t._sharedTooltip()&&t._trackSharedTooltip(i),t._mousemove.timestamp=r)},_trackCrosshairs:function(n){for(var r=this._plotArea.crosshairs,i,t=0;t<r.length;t++)i=r[t],i.box.containsPoint(n)?i.showAt(n):i.hide()},_trackSharedTooltip:function(n){var t=this,e=t.options,u=t._plotArea,o=u.categoryAxis,f=t._tooltip,s=e.tooltip,h=t._highlight,i,r;i=o.getCategoryIndex(n);i!==t._tooltipCategoryIx&&(r=u.pointsByCategoryIndex(i),r.length>0?(s.visible&&f.showAt(r,n),h.show(r)):f.hide(),t._tooltipCategoryIx=i)},_mouseleave:function(){for(var n=this,u=n._plotArea,i=u.crosshairs,r=n._tooltip,f=n._highlight,t=0;t<i.length;t++)i[t].hide();setTimeout(h(r.hide,r),kc);f.hide();n._tooltipCategoryIx=null},_unsetActivePoint:function(){var n=this,t=n._tooltip,i=n._highlight;n._activePoint=null;t&&t.hide();i&&i.hide()},_onDataChanged:function(){for(var n=this,f=n.options,r=n._sourceSeries||f.series,e=r.length,o=n.dataSource.view(),s=(n.dataSource.group()||[]).length>0,u=[],i,t=0;t<e;t++)i=r[t],n._isBindable(i)&&s?d(u,kl(i,o)):u.push(i||[]);n._sourceSeries=r;f.series=u;ye(n.options);n._bindSeries();n._bindCategories();n.trigger(ef);n._redraw()},_bindSeries:function(){for(var i=this,u=i.dataSource.view(),f=i.options.series,s=f.length,n,r,e,t=0;t<s;t++)n=f[t],i._isBindable(n)&&(r=n._groupIx,e=o(r)?(u[r]||{}).items:u,n.autoBind!==!1&&(n.data=e))},_bindCategories:function(){for(var n=this,r=n.dataSource.view(),f=(n.dataSource.group()||[]).length>0,e=(f?r[0].items:r)||[],o=n.options,u=[].concat(o.categoryAxis),i,t=0;t<u.length;t++)i=u[t],i.autoBind!==!1&&n._bindCategoryAxis(i,e)},_bindCategoryAxis:function(n,t){var i,u,r;if(n.field)for(n.categories=[],i=0;i<t.length;i++)r=t[i],u=oh(n.field,r),i===0?(n.categories=[u],n.dataItems=[r]):(n.categories.push(u),n.dataItems.push(r))},_isBindable:function(n){for(var r=we(n.type),u=!0,t,i=0;i<r.length;i++)if(t=r[i],t=t===er?"field":t+"Field",!n[t]){u=!1;break}return u},_tap:function(n){var t=this;t._startHover(n)||t._unsetActivePoint();t._click(n)},_legendItemClick:function(n,t){var i=this,f=i._plotArea,r=(f.srcSeries||f.series)[n],u,e;w(r.type,[vi,sf])?(u=r.data[t],u.visible=o(u.visible)?!u.visible:!1):r.visible=!r.visible;i.options.transitions&&(i.options.transitions=!1,e=!0);i.redraw();e&&(i.options.transitions=!0)},_legendItemHover:function(n,t){var r=this,i=r._plotArea,f=r._highlight,e=(i.srcSeries||i.series)[n],u;u=w(e.type,[vi,sf])?i.charts[0].segments[t]:i.pointsBySeriesIndex(n);f.show(u)},destroy:function(){var t=this,i=t.dataSource;t.element.off(pt);i.unbind(tu,t._dataChangeHandler);n(document).off(pf);t._userEvents&&t._userEvents.destroy();t._destroyView();gu.fn.destroy.call(t)},_destroyView:function(){var t=this,o=u.IDPool.current,r=t._model,f=t._view,e=t._viewElement,i=t._selections;if(r&&r.destroy(),f&&f.destroy(),e&&n("[id]",e).each(function(){o.free(n(this).attr("id"))}),i)while(i.length>0)i.shift().destroy()}}),us=e.extend({init:function(n,t){var i=this;e.fn.init.call(i,t);i.append(new nf(n,i.options))},options:{position:ui,margin:ft(3),padding:ft(4),color:di,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:ru,delay:ri},zIndex:1},reflow:function(n){var o=this,i=o.options,r=i.vertical,u=i.aboveAxis,t=o.children[0],f=t.box,e=t.options.padding;t.options.align=r?k:ct;t.options.vAlign=r?at:k;i.position==af?r?(t.options.vAlign=at,!u&&f.height()<n.height()&&(t.options.vAlign=ht)):t.options.align=u?it:ct:i.position==k?(t.options.vAlign=k,t.options.align=k):i.position==sc?r?t.options.vAlign=u?ht:at:t.options.align=u?ct:it:i.position==ui&&(r?n=u?new y(n.x1,n.y1-f.height(),n.x2,n.y1):new y(n.x1,n.y2,n.x2,n.y2+f.height()):(t.options.align=k,n=u?new y(n.x2+f.width(),n.y1,n.x2,n.y2):new y(n.x1-f.width(),n.y1,n.x1,n.y2)));r?e.left=e.right=(n.width()-t.contentBox.width())/2:e.top=e.bottom=(n.height()-t.contentBox.height())/2;t.reflow(n)}}),rl=ro.extend({init:function(n,t){var i=this;i.item=n;ro.fn.init.call(i,n.text,r({id:b(),cursor:{style:vo}},t));i.enableDiscovery()},click:function(t,i){var r=this.item;i.preventDefault();t.trigger(ho,{element:n(i.target),text:r.text,series:r.series,seriesIndex:r.series.index,pointIndex:r.pointIndex});t._legendItemClick(r.series.index,r.pointIndex)},hover:function(t,i){var r=this.item;i.preventDefault();t.trigger(co,{element:n(i.target),text:r.text,series:r.series,seriesIndex:r.series.index,pointIndex:r.pointIndex});t._legendItemHover(r.series.index,r.pointIndex)},leave:function(n){n._unsetActivePoint()}}),fs=e.extend({init:function(n){var t=this;e.fn.init.call(t,n);t.createLabels()},options:{position:it,items:[],labels:{},offsetX:0,offsetY:0,margin:ft(10),padding:ft(5),border:{color:di,width:0},background:"",zIndex:1,markers:{border:{width:1}}},createLabels:function(){for(var t=this,u=t.options.items,f=u.length,i,n=0;n<f;n++)i=u[n],t.append(new rl(i,r({},t.options.labels,{color:i.labelColor})))},reflow:function(n){var t=this,i=t.options,r=t.children.length;if(r===0){t.box=n.clone();return}if(i.position=="custom"){t.customLayout(n);return}i.position==at||i.position==ht?t.horizontalLayout(n):t.verticalLayout(n)},getViewElements:function(n){var s=this,p=s.children,t=s.options,w=t.items,b=w.length,u=s.markerSize(),h=n.createGroup({zIndex:t.zIndex}),c=t.border||{},l,i,f,a,v,r,o;for(d(h.children,e.fn.getViewElements.call(s,n)),o=0;o<b;o++)a=w[o].markerColor,v=p[o],i=y(),r=v.box,f=f?f.wrap(r):r.clone(),i.x1=r.x1-u*2,i.x2=i.x1+u,i.y1=t.position==at||t.position==ht?r.y1+u/2:r.y1+(r.height()-u)/2,i.y2=i.y1+u,h.children.push(n.createRect(i,{fill:a,stroke:a,strokeWidth:t.markers.border.width,data:{modelId:v.options.modelId},cursor:{style:vo}}));return p.length>0&&(l=ft(t.padding),l.left+=u*2,f.pad(l),h.children.unshift(n.createRect(f,{stroke:c.width?c.color:"",strokeWidth:c.width,dashType:c.dashType,fill:t.background}))),[h]},verticalLayout:function(n){for(var r=this,e=r.options,l=r.children,v=l.length,t=l[0].box.clone(),u=ft(e.margin),h=r.markerSize()*2,o,s,c,a,f=1;f<v;f++)c=r.children[f],c.box.alignTo(r.children[f-1].box,ht),t.wrap(c.box);e.position==ct?(o=n.x1+h+u.left,s=(n.y2-t.height())/2,t.x2+=h+u.left+u.right):(o=n.x2-t.width()-u.right,s=(n.y2-t.height())/2,t.translate(o,s),t.x1-=h+u.left);r.translateChildren(o+e.offsetX,s+e.offsetY);a=t.width();t.x1=i.max(n.x1,t.x1);t.x2=t.x1+a;t.y1=n.y1;t.y2=n.y2;r.box=t},horizontalLayout:function(n){for(var f=this,s=f.options,e=f.children,v=e.length,t=e[0].box.clone(),r=f.markerSize()*3,a,h,u=ft(s.margin),c=e[0].box.width()+r,p=n.width(),i,l=0,o=1;o<v;o++)i=e[o],c+=i.box.width()+r,c>p-r?(i.box=y(t.x1,t.y2,t.x1+i.box.width(),t.y2+i.box.height()),c=i.box.width()+r,l=i.box.y1):(i.box.alignTo(e[o-1].box,it),i.box.y2=l+i.box.height(),i.box.y1=l,i.box.translate(r,0)),t.wrap(i.box);a=(n.width()-t.width()+r)/2;s.position===at?(h=n.y1+u.top,t.y2=n.y1+t.height()+u.top+u.bottom,t.y1=n.y1):(h=n.y2-t.height()-u.bottom,t.y1=n.y2-t.height()-u.top-u.bottom,t.y2=n.y2);f.translateChildren(a+s.offsetX,h+s.offsetY);t.x1=n.x1;t.x2=n.x2;f.box=t},customLayout:function(n){for(var t=this,u=t.options,f=t.children,e=f.length,r=f[0].box.clone(),o=t.markerSize()*2,i=1;i<e;i++)r=t.children[i].box,r.alignTo(t.children[i-1].box,ht),r.wrap(r);t.translateChildren(u.offsetX+o,u.offsetY);t.box=n},markerSize:function(){var t=this,n=t.children;return n.length>0?n[0].box.height()/2:0}}),vt=kr.extend({init:function(n){var t=this;kr.fn.init.call(t,n);n=t.options;n.categories=n.categories.slice(0);t._ticks={}},options:{type:ff,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:di},zIndex:1,justified:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(n){for(var f=this,r=f.options,e=r.vertical,o=r.justified,t=f.lineBox(),v=e?t.height():t.width(),y=n-(o?1:0),p=v/y,s=e?a:l,h=t[s+1],i=[],u=0;u<n;u++)i.push(c(h,ti)),h+=p;return o||i.push(t[s+2]),r.reverse?i.reverse():i},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getTicks:function(){var n=this,t=n._ticks,i=n.options,r=i.categories.length,f=i.reverse,e=i.justified,o=n.lineBox(),u;return u=o.getHash()+r+f+e,t._hash!==u&&(t._hash=u,t.majorTicks=n.getTickPositions(r),t.minorTicks=n.getTickPositions(r*2)),t},getSlot:function(n,t){var h=this,c=h.options,f=h.getMajorTickPositions(),e=c.reverse,v=c.justified,s=c.vertical?a:l,y=h.lineBox(),k=y[s+(e?2:1)],d=y[s+(e?1:2)],p=y.clone(),w=i.max(1,f.length-(v?0:1)),r,u,b;return n=o(n)?n:0,t=o(t)?t:n,n=kt(n,0,w),t=kt(t-1,n,w),t=i.max(n,t),r=n===0?k:f[n],u=v?r:f[t],b=t-n,(b>0||n===t)&&(u=f[t+1]||d),v&&(n===w?r=u:u=r),p[s+1]=e?u:r,p[s+2]=e?r:u,p},getCategoryIndex:function(n){var h=this,c=h.options,y=c.reverse,p=c.vertical,v=p?a:l,w=h.lineBox(),b=w[v+1],k=w[v+2],r=n[v],f=h.getMajorTickPositions(),d=tt,e,u,t,s;if(r<b||r>k)return null;for(t=0;t<f.length;t++)if(e=f[t],u=f[t+1],o(u)||(u=y?b:k),y&&(e=u,u=f[t]),c.justified){if(r===u){s=i.max(0,p?f.length-t-1:t+1);break}i.abs(r-e)<d&&(d=r-e,s=t)}else if(r>=e&&r<=u){s=t;break}return s},getCategory:function(n){var t=this.getCategoryIndex(n);return t===null?null:this.options.categories[t]},translateRange:function(n){var t=this,i=t.options,r=t.lineBox(),e=i.vertical?r.height():r.width(),u=i.categories.length,o=e/u,f=c(n/o,of);return{min:f,max:u+f}},scaleRange:function(n){var r=this,u=r.options,t=u.categories.length,i=n*t;return{min:-i,max:t+i}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(n,t){var r=this,i=r.options,u=i.dataItems?i.dataItems[n]:null,f=o(i.categories[n])?i.categories[n]:"";return new to(f,n,u,t)}}),es=to.extend({formatValue:function(n,t){return p.toString(n,t.format,t.culture)}}),or=vt.extend({init:function(n){var t=this,i,u;n=n||{};n=r({roundToBaseUnit:!0},n,{min:s(n.min),max:s(n.max)});n.categories&&n.categories.length>0&&(i=(n.baseUnit||"").toLowerCase(),u=i!==nu&&!w(i,wi),u&&(n.baseUnit=t.defaultBaseUnit(n)),(i===nu||n.baseUnitStep===dh)&&t.autoBaseUnit(n),t.groupCategories(n));vt.fn.init.call(t,n)},options:{type:ai,labels:{dateFormats:rs},autoBaseUnitSteps:{minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},translateRange:function(n){var r=this,o=vt.fn.translateRange.call(r,n),t=r.options,u=t.baseUnit,f=i.round(o.min),e=t.weekStartDay;return{min:v(t.min,f,u,e),max:v(t.max,f,u,e)}},scaleRange:function(n){for(var o=this,f=o.options,s=i.abs(n),t=f.min,r=f.max,e,u;s--;)e=pu(t,r),u=i.round(e*.1),n<0?(t=ot(t,u),r=ot(r,-u)):(t=ot(t,-u),r=ot(r,u));return{min:t,max:r}},defaultBaseUnit:function(n){for(var f=n.categories,l=o(f)?f.length:0,u,e,t=tt,h,c,r=0;r<l;r++)u=s(f[r]),u&&h&&(e=pu(u,h),e>0&&(t=i.min(t,e),c=t>=gf?pi:t>=df-wt*3?ir:t>=kf?ou:t>=wt?ii:t>=bf?uu:yf)),h=u;return c||ii},range:function(n){n=n||this.options;var o=s(n.categories),h=n.baseUnit===nu,t=h?wi[0]:n.baseUnit,i=et(n.min),r=et(n.max),u=vr(o),f=et(u.min),e=et(u.max);return n.roundToBaseUnit?{min:v(i||f,0,t,n.weekStartDay),max:v(r||e,1,t,n.weekStartDay)}:{min:s(i||f),max:s(r||e)}},autoBaseUnit:function(n){for(var h=this,l=h.range(n),a=n.baseUnit===nu,v=0,t=a?wi[v++]:n.baseUnit,y=l.max-l.min,f=y/eu[t],e=f,o=n.maxDateGroups||h.options.maxDateGroups,p=r({},h.options.autoBaseUnitSteps,n.autoBaseUnitSteps),s,u,c;!u||f>o;)if(s=s||p[t].slice(0),c=s.shift(),c)u=c,f=e/u;else if(t===st(wi)){u=i.ceil(e/o);break}else if(a)t=wi[v++]||st(wi),e=y/eu[t],s=null;else{f>o&&(u=i.ceil(e/o));break}n.baseUnitStep=u;n.baseUnit=t},getMajorTickPositions:function(){var n=this,i=n.options,r=i.categories,t=[];if(i.roundToBaseUnit||r.length===0)t=vt.fn.getMajorTickPositions.call(n);else{for(var u=i.vertical,w=i.reverse,f=n.lineBox(),b=u?f.height():f.width(),k=r[0].getTime(),s=n.range(n.options),d=s.max-s.min,g=b/d,nt=r.length,o=(u?-1:1)*(w?-1:1),tt=o===1?1:2,it=o===1?2:1,h=f[(u?a:l)+tt],v=f[(u?a:l)+it],y=h,p,e=0;e<nt;e++)p=r[e]-k,y=h+p*g*o,t.push(c(y,ti));st(t)!==v&&t.push(v)}return t},groupCategories:function(n){var p=this,l=s(n.categories),w=n.baseUnit,b=n.baseUnitStep||1,f=p.range(n),a=n.roundToBaseUnit,t,i,o,u=[],h=p.categoryMap=[],y,c=[],r,e;for(t=a?v(f.max,b-1,w,n.weekStartDay):f.max,pr(f.min,f.max)&&(t=s(et(t)+1)),i=f.min;i<t;i=o){for(o=v(i,b,w,n.weekStartDay),u.push(i),y=[],r=ge(l,i);r<l.length;r++)if(e=l[r],e&&e>=i)if(e<o)n.justified&&pr(e,t)?c.push(r):y.push(r);else if(!a&&pr(o,t))c.push(r);else break;h.push(y)}c.length&&(u.push(t),h.push(c));n.max||(st(h)||[]).length!==0||(h.pop(),u.pop());n.min=u[0];n.max=a?st(u):t;n.categories=u},createAxisLabel:function(n,t){var i=this.options,s=i.dataItems?i.dataItems[n]:null,u=i.categories[n],f=i.baseUnit,e=!0,h=t.dateFormats[f],o;return i.justified&&(o=yu(u,f,i.weekStartDay),e=pr(o,u)),t=r({format:h},t,{visible:e}),new es(u,n,s,t)}}),os=kr.extend({init:function(n,t,i){var u=this;i=i||{};r(i,{min:s(i.min),max:s(i.max),axisCrossingValue:s(i.axisCrossingValues||i.axisCrossingValue)});i=u.applyDefaults(s(n),s(t),i);kr.fn.init.call(u,i)},options:{type:ai,labels:{dateFormats:rs}},applyDefaults:function(n,f,e){var d=this,y=e.min||n,h=e.max||f,o=e.baseUnit||d.timeUnits(h-y),p=eu[o],c=yu(et(y)-1,o)||s(h),l=sh(et(h)+1,o),g=e.majorUnit?e.majorUnit:t,a=g||u.ceil(u.autoMajorUnit(c.getTime(),l.getTime()),p)/p,w=yr(c,l,o),nt=u.ceil(w,a),b=nt-w,k=i.floor(b/2),tt=b-k;return e.baseUnit||delete e.baseUnit,r({baseUnit:o,min:v(c,-k,o),max:v(l,tt,o),minorUnit:a/5},e,{majorUnit:a})},range:function(){var n=this.options;return{min:n.min,max:n.max}},getDivisions:function(n){var t=this.options;return i.floor(yr(t.min,t.max,t.baseUnit)/n+1)},getTickPositions:function(n){for(var i=this,t=i.options,r=t.vertical,h=t.reverse,u=i.lineBox(),v=r?u.height():u.width(),y=yr(t.min,t.max,t.baseUnit),p=v/y,w=n*p,b=i.getDivisions(n),o=(r?-1:1)*(h?-1:1),k=o===1?1:2,f=u[(r?a:l)+k],s=[],e=0;e<b;e++)s.push(c(f,ti)),f=f+w*o;return s},getMajorTickPositions:function(){var n=this;return n.getTickPositions(n.options.majorUnit)},getMinorTickPositions:function(){var n=this;return n.getTickPositions(n.options.minorUnit)},getSlot:function(n,t){return ki.fn.getSlot.call(this,s(n),s(t))},getValue:function(n){var t=ki.fn.getValue.call(this,n);return t!==null?s(t):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(n,t){var i=this.options,r=n*i.majorUnit,u=v(i.min,r,i.baseUnit),f=t.dateFormats[i.baseUnit];return t.format=t.format||f,new es(u,n,null,t)},timeUnits:function(n){var t=uu;return n>=gf?t=pi:n>=df?t=ir:n>=kf?t=ou:n>=wt&&(t=ii),t},translateRange:function(n){var i=this,t=i.options,r=t.baseUnit,u=t.weekStartDay,f=i.lineBox(),s=t.vertical?f.height():f.width(),e=i.range(),h=s/(e.max-e.min),o=c(n/h,of),l=ot(t.min,o),a=ot(t.max,o);return{min:v(l,0,r,u),max:v(a,0,r,u)}},scaleRange:function(n){for(var h=this,f=h.options,e=f.baseUnit,o=f.weekStartDay,c=i.abs(n),t=f.min,r=f.max,s,u;c--;)s=pu(t,r),u=i.round(s*.1),n<0?(t=ot(t,u),r=ot(r,-u)):(t=ot(t,-u),r=ot(r,u)),t=v(t,0,e,o),r=v(r,1,e,o);return{min:t,max:r}}}),su=e.extend({init:function(n){var t=this;e.fn.init.call(t,n)},options:{vertical:!1,gap:0,spacing:0},reflow:function(n){for(var h=this,e=h.options,c=e.vertical,o=c?a:l,s=h.children,v=e.gap,y=e.spacing,i=s.length,p=i+v+y*(i-1),r=(c?n.height():n.width())/p,u=n[o+1]+r*(v/2),f,t=0;t<i;t++)f=(s[t].box||n).clone(),f[o+1]=u,f[o+2]=u+r,s[t].reflow(f),t<i-1&&(u+=r*y),u+=r}}),ue=e.extend({init:function(n){var t=this;e.fn.init.call(t,n)},options:{vertical:!0,isReversed:!1},reflow:function(n){for(var u=this,o=u.options,f=o.vertical,c=f?l:a,v=f?a:l,p=n[v+2],e=u.children,s=u.box=new y,w=e.length,r,i,h=o.isReversed?f?ht:ct:f?at:it,t=0;t<w;t++)r=e[t],i=r.box.clone(),i.snapTo(n,c),r.options&&(r.options.stackBase=p),t===0?s=u.box=i.clone():i.alignTo(e[t-1].box,h),r.reflow(i),s.wrap(i)}}),oi={click:function(t,i){var r=this;t.trigger(wo,{value:r.value,category:r.category,series:r.series,dataItem:r.dataItem,element:n(i.target)})},hover:function(t,i){var r=this;t.trigger(bo,{value:r.value,category:r.category,series:r.series,dataItem:r.dataItem,element:n(i.target)})}},fe=e.extend({init:function(n,t){var i=this;e.fn.init.call(i,t);i.value=n;n<0&&t.negativeColor&&(i.options.color=t.negativeColor);i.options.id=b();i.enableDiscovery()},options:{color:ei,border:{width:1},vertical:!0,overlay:{gradient:so},aboveAxis:!0,labels:{visible:!1},animation:{type:gt},opacity:1},render:function(){var n=this,f=n.value,u=n.options,t=u.labels,i=f,e;n._rendered||(n._rendered=!0,t.visible&&f&&(t.template?(e=dt(t.template),i=e({dataItem:n.dataItem,category:n.category,value:n.value,series:n.series})):t.format&&(i=ut(t.format,i)),n.append(new us(i,r({vertical:u.vertical,id:b()},u.labels)))))},reflow:function(n){this.render();var t=this,r=t.options,u=t.children,i=u[0];t.box=n;i&&(i.options.aboveAxis=r.aboveAxis,i.reflow(n))},getViewElements:function(n){var i=this,t=i.options,s=t.vertical,h=t.border.width>0?{stroke:i.getBorderColor(),strokeWidth:t.border.width,strokeOpacity:t.border.opacity,dashType:t.border.dashType}:{},u=i.box,o=r({id:t.id,fill:t.color,fillOpacity:t.opacity,strokeOpacity:t.opacity,vertical:t.vertical,aboveAxis:t.aboveAxis,stackBase:t.stackBase,animation:t.animation,data:{modelId:t.modelId}},h),f=[];return u.width()>0&&u.height()>0&&(t.overlay&&(o.overlay=r({rotation:s?0:90},t.overlay)),f.push(n.createRect(u,o))),d(f,e.fn.getViewElements.call(i,n)),f},highlightOverlay:function(n,t){var i=this,u=i.box;return t=r({data:{modelId:i.options.modelId}},t),t.id=null,n.createRect(u,t)},getBorderColor:function(){var r=this,t=r.options,u=t.color,i=t.border,n=i.color,f=i._brightness||uf;return o(n)||(n=new bi(u).brightness(f).toHex()),n},tooltipAnchor:function(n,t){var s=this,e=s.options,i=s.box,h=e.vertical,o=e.aboveAxis,r,u;return h?(r=i.x2+rt,u=o?i.y1:i.y2-t):e.isStacked?(r=o?i.x2-n:i.x1,u=i.y1-t-rt):(r=o?i.x2+rt:i.x1-n-rt,u=i.y1),new f(r,u)},formatValue:function(n){var t=this;return t.owner.formatPointValue(t,n)}}),hu,ee,si,se,hr,lr,lu;r(fe.fn,oi);var nt=e.extend({init:function(n,t){var i=this;e.fn.init.call(i,t);i.plotArea=n;i.categoryAxis=n.seriesCategoryAxis(t.series[0]);i.valueAxisRanges={};i.points=[];i.categoryPoints=[];i.seriesPoints=[];i.render()},options:{series:[],invertAxes:!1,isStacked:!1},render:function(){var n=this;n.traverseDataPoints(h(n.addValue,n))},addValue:function(n,t,i,r,u){var e=this,h=n.value,f,o=e.categoryPoints[i],s=e.seriesPoints[u];o||(e.categoryPoints[i]=o=[]);s||(e.seriesPoints[u]=s=[]);e.updateRange(h,i,r);f=e.createPoint(n,t,i,r,u);f&&(f.category=t,f.series=r,f.seriesIx=u,f.owner=e,f.dataItem=r.data[i]);e.points.push(f);s.push(f);o.push(f)},updateRange:function(n,t,r){var f=this,e=r.axis,u=f.valueAxisRanges[e];o(n)&&!isNaN(n)&&(u=f.valueAxisRanges[e]=u||{min:tt,max:lt},u.min=i.min(u.min,n),u.max=i.max(u.max,n))},seriesValueAxis:function(n){var i=this.plotArea,t=n.axis,r=t?i.namedValueAxes[t]:i.valueAxis;if(!r)throw new Error("Unable to locate value axis with name "+t);return r},reflow:function(n){var t=this,s=t.options,o=s.invertAxes,h=0,e=t.categorySlots=[],c=t.points,l=t.categoryAxis,r,u,f,i;t.traverseDataPoints(function(n,s,a,v){if(v.visible!==!1){r=t.pointValue(n);u=t.seriesValueAxis(v);f=t.categoryAxisCrossingValue(u);i=c[h++];i&&i.plotValue&&(r=i.plotValue);var p=t.categorySlot(l,a,u),w=t.valueSlot(u,r,f),b=o?w:p,k=o?p:w,d=new y(b.x1,k.y1,b.x2,k.y2),g=u.options.reverse?r<f:r>=f;i&&(i.options.aboveAxis=g,i.reflow(d));e[a]||(e[a]=p)}});t.reflowCategories(e);t.box=n},categoryAxisCrossingValue:function(n){var i=this.categoryAxis,t=n.options,r=[].concat(t.axisCrossingValues||t.axisCrossingValue);return r[i.axisIndex||0]||0},reflowCategories:function(){},valueSlot:function(n,t,i){return n.getSlot(t,i)},categorySlot:function(n,t){return n.getSlot(t)},traverseDataPoints:function(n){for(var r=this,s=r.options,u=s.series,h=r.categoryAxis.options.categories||[],c=vu(u),l=r.bindableFields(),i,e,o,f,a=u.length,t=0;t<c;t++)for(i=0;i<a;i++)f=u[i],o=h[t],e=ci(f,t,l),n(e,o,t,f,i)},bindableFields:function(){return[]},formatPointValue:function(n,t){return ut(t,n.value)},pointValue:function(n){return n.value}}),ss=nt.extend({init:function(n,t){var i=this;i._groupTotals={};i._groups=[];nt.fn.init.call(i,n,t)},render:function(){var n=this;nt.fn.render.apply(n);n.computeAxisRanges()},createPoint:function(n,i,u,f){var s=this,p=n.value,e=s.options,w=s.children,v=s.options.isStacked,y=r({},f.labels),h,o,c,l,a;return v&&y.position==ui&&(y.position=af),h=new fe(p,r({},{vertical:!e.invertAxes,overlay:f.overlay,labels:y,isStacked:v},f,{color:n.fields.color||t})),o=w[u],o||(o=new su({vertical:e.invertAxes,gap:e.gap,spacing:e.spacing}),s.append(o)),v?(c=s.getStackWrap(f,o),c.children.length===0?(l=new ue({vertical:!e.invertAxes}),a=new ue({vertical:!e.invertAxes,isReversed:!0}),c.append(l,a)):(l=c.children[0],a=c.children[1]),p>0?l.append(h):a.append(h)):o.append(h),h},getStackWrap:function(n,t){var u=t.children,f=n.stack,i,r,o=u.length;if(typeof f===yi){for(r=0;r<o;r++)if(u[r]._stackGroup===f){i=u[r];break}}else i=u[0];return i||(i=new e,i._stackGroup=f,t.append(i)),i},updateRange:function(n,t,i){var r=this,f=r.options.isStacked,u;o(n)&&(f?(u=r.groupTotals(i.stack),eh(n>0?u.positive:u.negative,t,n)):nt.fn.updateRange.apply(r,arguments))},computeAxisRanges:function(){var n=this,r=n.options.isStacked,i,t;r&&(i=n.options.series[0].axis,t=n.categoryTotals(),n.valueAxisRanges[i]={min:ih(t.negative.concat(0)),max:rh(t.positive.concat(0))})},seriesValueAxis:function(n){var t=this,i=t.options;return nt.fn.seriesValueAxis.call(t,i.isStacked?t.options.series[0]:n)},valueSlot:function(n,t,i){return n.getSlot(t,this.options.isStacked?0:i)},categorySlot:function(n,t,i){var o=this,f=o.options,u=n.getSlot(t),r,e;return f.isStacked&&(e=i.getSlot(0,0),r=f.invertAxes?l:a,u[r+1]=u[r+2]=e[r+1]),u},reflow:function(n){var t=this;t.setStacksDirection();nt.fn.reflow.call(t,n)},setStacksDirection:function(){for(var n=this,h=n.options,r=h.series,c=vu(r),l=n.children,t,u,f,a=r.length,i=0;i<a;i++)for(u=r[i],f=n.seriesValueAxis(u),t=0;t<c;t++){var v=l[t],y=n.getStackWrap(u,v),e=y.children,o=e[0],s=e[1];o&&s&&(o.options.isReversed=f.options.reverse,s.options.isReversed=!f.options.reverse)}},reflowCategories:function(n){for(var r=this,i=r.children,u=i.length,t=0;t<u;t++)i[t].reflow(n[t])},groupTotals:function(n){var t=this,i,r;return i=typeof n===yi?n:t._groups[0]||"default",r=t._groupTotals[i],r||(r=t._groupTotals[i]={positive:[],negative:[]},t._groups.push(i)),r},categoryTotals:function(){for(var r=this,u=r._groups,e=r._groupTotals,f,t,i={positive:[],negative:[]},o=u.length,n=0;n<o;n++)f=u[n],t=e[f],d(i.positive,t.positive),d(i.negative,t.negative);return i},bindableFields:function(){return["color"]}}),ul=nt.extend({init:function(n,t){var i=this;i.wrapData(t);nt.fn.init.call(i,n,t)},wrapData:function(n){for(var u=n.series,t,r,i=0;i<u.length;i++)r=u[i],t=r.data,t&&!ku(t[0])&&typeof t[0]!="object"&&(r.data=[t])},addValue:function(n,t,i,r,u){var e=this,o=e.categoryPoints[i],s=e.seriesPoints[u],f;o||(e.categoryPoints[i]=o=[]);s||(e.seriesPoints[u]=s=[]);e.updateRange(n.value,i,r);f=e.createPoint(n.value,i,r);f&&(f.category=t,f.series=r,f.seriesIx=u,f.owner=e,f.dataItem=r.data[i]);e.points.push(f);s.push(f);o.push(f)},reflowCategories:function(n){for(var r=this,i=r.children,u=i.length,t=0;t<u;t++)i[t].reflow(n[t])},createPoint:function(n,t,i){var e=this,u=e.options,s=e.children,o,f;return o=new hs(n,r({},{vertical:!u.invertAxes,overlay:i.overlay,categoryIx:t,invertAxes:u.invertAxes},i)),f=s[t],f||(f=new su({vertical:u.invertAxes,gap:u.gap,spacing:u.spacing}),e.append(f)),f.append(o),o},updateRange:function(n,t,r){var s=this,h=r.axis,f=n.current,e=n.target,u=s.valueAxisRanges[h];o(f)&&!isNaN(f)&&o(e&&!isNaN(e))&&(u=s.valueAxisRanges[h]=u||{min:tt,max:lt},u.min=i.min.apply(i,[u.min,f,e]),u.max=i.max.apply(i,[u.max,f,e]))},formatPointValue:function(n,t){return ut(t,n.value.current,n.value.target)},pointValue:function(n){return n.value.current}}),hs=e.extend({init:function(n,t){var i=this;e.fn.init.call(i,t);i.value=n;i.options.id=b();i.enableDiscovery();i.render()},options:{color:ei,border:{width:1},vertical:!1,animation:{type:gt},opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<\/br>Target: {1}"}},render:function(){var t=this,n=t.options;t.target=new ee({id:t.options.id,type:n.target.shape,background:n.target.color||n.color,opacity:n.opacity,zIndex:n.zIndex,border:n.target.border,vAlign:at,align:it});t.append(t.target)},reflow:function(n){var t=this,i=t.options,r=t.owner,f=t.target,u=i.invertAxes,o=r.seriesValueAxis(t.options),s=r.categorySlot(r.categoryAxis,i.categoryIx,o),h=r.valueSlot(o,t.value.target,t.value.target),c=u?h:s,l=u?s:h,e=new y(c.x1,l.y1,c.x2,l.y2);f.options.height=u?e.height():i.target.line.width;f.options.width=u?i.target.line.width:e.width();f.reflow(e);t.box=n},getViewElements:function(n){var i=this,t=i.options,s=t.vertical,h=t.border.width>0?{stroke:t.border.color||t.color,strokeWidth:t.border.width,dashType:t.border.dashType}:{},u=i.box,o=r({id:t.id,fill:t.color,fillOpacity:t.opacity,strokeOpacity:t.opacity,vertical:t.vertical,aboveAxis:t.aboveAxis,animation:t.animation,data:{modelId:t.modelId}},h),f=[];return u.width()>0&&u.height()>0&&(t.overlay&&(o.overlay=r({rotation:s?0:90},t.overlay)),f.push(n.createRect(u,o))),d(f,e.fn.getViewElements.call(i,n)),f},tooltipAnchor:function(n,t){var s=this,e=s.options,i=s.box,h=e.vertical,o=e.aboveAxis,r,u;return h?(r=i.x2+rt,u=o?i.y1:i.y2-t):e.isStacked?(r=o?i.x2-n:i.x1,u=i.y1-t-rt):(r=o?i.x2+rt:i.x1-n-rt,u=i.y1),new f(r,u)},highlightOverlay:function(n,t){var i=this,u=i.box;return t=r({data:{modelId:i.options.modelId}},t),t.id=null,n.createRect(u,t)},formatValue:function(n){var t=this;return t.owner.formatPointValue(t,n)}});r(hs.fn,oi);hu=dr.extend({options:{type:ni,align:k,vAlign:k},getViewElements:function(n,t){var u=this,s=u.options,h=s.type,i=u.paddingBox,l,e,o=i.width()/2;return!s.visible||!u.hasBox()?[]:(e=r(u.elementStyle(),t),l=h===gc?n.createPolyline([new f(i.x1+o,i.y1),new f(i.x1,i.y2),new f(i.x2,i.y2)],!0,e):h===ni?n.createCircle(new f(c(i.x1+o,ti),c(i.y1+i.height()/2,ti)),o,e):n.createRect(i,e),[l])}});ee=hu.extend();r(ee.fn,oi);si=e.extend({init:function(n,t){var i=this;e.fn.init.call(i,t);i.value=n;i.options.id=b();i.enableDiscovery()},options:{aboveAxis:!0,vertical:!0,markers:{visible:!0,background:ei,size:8,type:ni,border:{width:2},opacity:1},labels:{visible:!1,position:oo,margin:ft(3),padding:ft(4),animation:{type:ru,delay:ri}}},render:function(){var n=this,e=n.options,t=e.markers,i=e.labels,s=t.background,u=r({},t.border),f=n.value,h;n._rendered||(n._rendered=!0,o(u.color)||(u.color=new bi(s).brightness(uf).toHex()),n.marker=new hu({id:n.options.id,visible:t.visible&&t.size,type:t.type,width:t.size,height:t.size,background:s,border:u,opacity:t.opacity,zIndex:t.zIndex,animation:t.animation}),n.append(n.marker),i.visible&&(i.template?(h=dt(i.template),f=h({dataItem:n.dataItem,category:n.category,value:n.value,series:n.series})):i.format&&(f=n.formatValue(i.format)),n.label=new nf(f,r({id:b(),align:k,vAlign:k,margin:{left:5,right:5}},i)),n.append(n.label)))},markerBox:function(){return this.marker.box},reflow:function(n){var i=this,r=i.options,f=r.vertical,u=r.aboveAxis,t;i.render();i.box=n;t=n.clone();f?u?t.y1-=t.height():t.y2+=t.height():u?t.x1+=t.width():t.x2-=t.width();i.marker.reflow(t);i.reflowLabel(t)},reflowLabel:function(n){var r=this,u=r.options,f=r.marker,i=r.label,t=u.labels.position;i&&(t=t===oo?at:t,t=t===nc?ht:t,i.reflow(n),i.box.alignTo(f.box,t),i.reflow(i.box))},highlightOverlay:function(n,t){var i=this,u=i.marker;return t=r({data:{modelId:i.options.modelId}},t),u.getViewElements(n,r(t,{id:null,fill:u.options.border.color,fillOpacity:1,strokeOpacity:0}))[0]},tooltipAnchor:function(n,t){var r=this,i=r.marker.box,u=r.options.aboveAxis;return new f(i.x2+rt,u?i.y1-t:i.y2)},formatValue:function(n){var t=this;return t.owner.formatPointValue(t,n)}});r(si.fn,oi);var fl=si.extend({init:function(n,t){var i=this;si.fn.init.call(i,n,t);i.category=n.category},options:{labels:{position:k},highlight:{opacity:1,border:{width:1,opacity:1}}},highlightOverlay:function(n){var t=this,r=t.options,i=r.highlight,u=i.border.width,f=r.markers,e=t.box.center(),o=f.size/2-u/2,s=i.border.color||new bi(f.background).brightness(uf).toHex();return n.createCircle(e,o,{id:null,data:{modelId:t.options.modelId},stroke:s,strokeWidth:u,strokeOpacity:i.border.opacity})},toggleHighlight:function(n){var i=this,u=i.options.highlight.opacity,r;i.highlighted=!i.highlighted;r=i.marker.getViewElements(n,{fillOpacity:i.highlighted?u:t})[0];r.refresh(rf(this.options.id))}}),sr=e.extend({init:function(n,t,i){var r=this;e.fn.init.call(r);r.linePoints=n;r.series=t;r.seriesIx=i;r.options.id=b();r.enableDiscovery()},options:{},points:function(n){for(var e=this,r=e.linePoints.concat(n||[]),u=[],o=r.length,i,t=0;t<o;t++)i=r[t].markerBox().center(),u.push(new f(i.x,i.y));return u},getViewElements:function(n){var t=this,i=t.series;return e.fn.getViewElements.call(t,n),[n.createPolyline(t.points(),!1,{id:t.options.id,stroke:i.color,strokeWidth:i.width,strokeOpacity:i.opacity,fill:"",dashType:i.dashType,data:{modelId:t.options.modelId},zIndex:-1})]},aliasFor:function(n,t){var i=this,r=i.seriesIx;return i.parent.getNearestPoint(t.x,t.y,r)}}),cs={renderSegments:function(){for(var n=this,c=n.options,l=c.series,s=n.seriesPoints,u,a=s.length,e,i,o,f,h,r=[],t=0;t<a;t++){for(u=l[t],e=s[t],h=e.length,i=[],f=0;f<h;f++)o=e[f],o?i.push(o):n.seriesMissingValues(u)!==hc&&(i.length>1&&r.push(n.createSegment(i,u,t,st(r))),i=[]);i.length>1&&r.push(n.createSegment(i,u,t,st(r)))}n._segments=r;n.append.apply(n,r)},seriesMissingValues:function(n){var t=n.missingValues,i=!t&&this.options.isStacked;return i?re:t},createSegment:function(n,t,i){return new sr(n,t,i)},getNearestPoint:function(n,t,r){for(var s=this,h=s.options.invertAxes,w=h?a:l,b=h?t:n,c=s.seriesPoints[r],v=tt,k=c.length,u,y,e,p,f=0;f<k;f++)u=c[f],u&&o(u.value)&&u.value!==null&&(y=u.box,e=i.abs(y.center()[w]-b),e<v&&(p=u,v=e));return p}},cu=nt.extend({init:function(n,t){var i=this;i._stackAxisRange={min:tt,max:lt};i._categoryTotals=[];i.enableDiscovery();nt.fn.init.call(i,n,t)},render:function(){var n=this;nt.fn.render.apply(n);n.computeAxisRanges();n.renderSegments()},createPoint:function(n,t,i,u){var e=this,f=n.value,c=e.options,v=c.isStacked,y=e.categoryPoints[i],p=e.seriesMissingValues(u),h,l=0,a=n.fields,s;if(!o(f)||f===null)if(p===re)f=0;else return null;return s=new si(f,r({vertical:!c.invertAxes,markers:{border:{color:u.color}}},u,{color:a.color,markers:{border:{color:a.color}}})),v&&(h=wl(y),h&&(l=h.plotValue),s.plotValue=f+l),e.append(s),s},updateRange:function(n,t){var r=this,s=r.options.isStacked,u=r._stackAxisRange,e=r._categoryTotals,f;o(n)&&(s?(eh(e,t,n),f=vr(e),u.min=i.min(u.min,f.min),u.max=i.max(u.max,f.max)):nt.fn.updateRange.apply(r,arguments))},computeAxisRanges:function(){var n=this,i=n.options.isStacked,t;i&&(t=n.options.series[0].axis,n.valueAxisRanges[t]=n._stackAxisRange)},getViewElements:function(n){var i=this,r=nt.fn.getViewElements.call(i,n),t=n.createGroup({animation:{type:iu}});return t.children=r,[t]},bindableFields:function(){return["color"]}});r(cu.fn,cs);var el=sr.extend({init:function(n,t,i,r){var u=this;u.stackPoints=t;sr.fn.init.call(u,n,i,r)},points:function(){var t=this,r=t.parent,v=r.plotArea,u=r.options.invertAxes,y=r.seriesValueAxis(t.series),s=y.lineBox(),p=v.seriesCategoryAxis(t.series),h=p.lineBox(),i=u?h.x1:h.y1,w=t.stackPoints,n=sr.fn.points.call(t,w),c=u?l:a,e,o;return i=kt(i,s[c+1],s[c+2]),!t.stackPoints&&n.length>1&&(e=n[0],o=st(n),u?(n.unshift(f(i,e.y)),n.push(f(i,o.y))):(n.unshift(f(e.x,i)),n.push(f(o.x,i)))),n},getViewElements:function(n){var t=this,i=t.series,u=r({color:i.color,opacity:i.opacity},i.line),f=sr.fn.points.call(t),o=t.points();return e.fn.getViewElements.call(t,n),[n.createPolyline(o,!1,{id:t.options.id,fillOpacity:i.opacity,fill:i.color,stack:i.stack,data:{modelId:t.options.modelId},zIndex:-1}),n.createPolyline(f,!1,{stroke:u.color,strokeWidth:u.width,strokeOpacity:u.opacity,dashType:u.dashType,data:{modelId:t.options.modelId},strokeLineCap:"butt",zIndex:-1})]}}),ls=cu.extend({createSegment:function(n,t,i,r){var f=this,e=f.options,u;return e.isStacked&&i>0&&r&&(u=r.linePoints.slice(0).reverse()),new el(n,u,t,i)},seriesMissingValues:function(n){return n.missingValues||re}}),hi=e.extend({init:function(n,t){var i=this;e.fn.init.call(i,t);i.plotArea=n;i.xAxisRanges={};i.yAxisRanges={};i.points=[];i.seriesPoints=[];i.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"}},render:function(){var n=this;n.traverseDataPoints(h(n.addValue,n))},addValue:function(n,t){var r=this,i,u=n.x,f=n.y,e=t.seriesIx,s=r.seriesPoints[e];r.updateRange(n,t.series);o(u)&&u!==null&&o(f)&&f!==null&&(i=r.createPoint(n,t.series,e,t),i&&br(i,t));r.points.push(i);s.push(i)},updateRange:function(n,t){var h=this,r=n.x,u=n.y,c=t.xAxis,l=t.yAxis,f=h.xAxisRanges[c],e=h.yAxisRanges[l];o(r)&&r!==null&&(f=h.xAxisRanges[c]=f||{min:tt,max:lt},typeof r===yi&&(r=s(r)),f.min=i.min(f.min,r),f.max=i.max(f.max,r));o(u)&&u!==null&&(e=h.yAxisRanges[l]=e||{min:tt,max:lt},typeof u===yi&&(u=s(u)),e.min=i.min(e.min,u),e.max=i.max(e.max,u))},createPoint:function(n,t,i,u){var f=this,e;return e=new si(n,r({markers:{border:{color:t.color},opacity:t.opacity},tooltip:{format:f.options.tooltip.format},labels:{format:f.options.labels.format}},t,{color:u.color,markers:{border:{color:u.color}}})),f.append(e),e},seriesAxes:function(n){var t=this.plotArea,i=n.xAxis,u=i?t.namedXAxes[i]:t.axisX,r=n.yAxis,f=r?t.namedYAxes[r]:t.axisY;if(!u)throw new Error("Unable to locate X axis with name "+i);if(!f)throw new Error("Unable to locate Y axis with name "+r);return{x:u,y:f}},reflow:function(n){var t=this,u=t.points,f=0,i,r;t.traverseDataPoints(function(n,e){i=u[f++];r=t.seriesAxes(e.series);var o=r.x.getSlot(n.x,n.x),s=r.y.getSlot(n.y,n.y),h=new y(o.x1,s.y1,o.x2,s.y2);i&&i.reflow(h)});t.box=n},getViewElements:function(n){var i=this,r=e.fn.getViewElements.call(i,n),t=n.createGroup({animation:{type:iu}});return t.children=r,[t]},traverseDataPoints:function(n){for(var f=this,a=f.options,o=a.series,s=f.seriesPoints,v=f.bindableFields(),i,u,h,e,c,l,t=0;t<o.length;t++)for(u=o[t],h=s[t],h||(s[t]=[]),i=0;i<u.data.length;i++)e=ci(u,i,v),c=e.value,l=e.fields,n(c,r({pointIx:i,series:u,seriesIx:t,dataItem:u.data[i],owner:f},l))},bindableFields:function(){return["color"]},formatPointValue:function(n,t){var i=n.value;return ut(t,i.x,i.y)}}),oe=hi.extend({render:function(){var n=this;hi.fn.render.call(n);n.renderSegments()}});r(oe.fn,cs);se=hi.extend({options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(n,t){var o=this,i,r=t.series,u=r.negativeValues,f=o.plotArea.options.seriesColors||[],e=!0;i=t.color||r.color||f[t.pointIx%f.length];n.size<0&&(i=u.color||i,e=u.visible);t.color=i;e&&hi.fn.addValue.call(this,n,t)},reflow:function(n){var t=this;t.updateBubblesSize(n);hi.fn.reflow.call(t,n)},createPoint:function(n,t,i,u){var f=this,e,h=t.data.length,o=u.pointIx*(ri/h),s={delay:o,duration:ri-o,type:gi};return e=new fl(n,r({tooltip:{format:f.options.tooltip.format},labels:{format:f.options.labels.format,animation:s}},t,{color:u.color,markers:{type:ni,background:u.color,border:t.border,opacity:t.opacity,animation:s}})),f.append(e),e},updateBubblesSize:function(n){for(var e=this,p=e.options,h=p.series,c=i.min(n.width(),n.height()),u,t=0;t<h.length;t++){var l=h[t],o=e.seriesPoints[t],w=e.maxSize(o),b=l.minSize||i.max(c*.02,10),k=l.maxSize||c*.2,a=b/2,f=k/2,v=i.PI*a*a,d=i.PI*f*f,g=d-v,nt=g/w;for(u=0;u<o.length;u++){var y=o[u],tt=i.abs(y.value.size)*nt,s=i.sqrt((v+tt)/i.PI);r(y.options,{markers:{size:s*2,zIndex:f-s},labels:{zIndex:f-s+1}})}}},maxSize:function(n){for(var f=n.length,r=0,u,t=0;t<f;t++)u=n[t].value.size,r=i.max(r,i.abs(u));return r},bindableFields:function(){return["color","category","visibleInLegend"]},getViewElements:function(n){var i=this,r=e.fn.getViewElements.call(i,n),t=n.createGroup();return t.children=r,[t]},formatPointValue:function(n,t){var i=n.value;return ut(t,i.x,i.y,i.size,n.category)}});hr=e.extend({init:function(n,t){var i=this;e.fn.init.call(i,t);i.value=n;i.options.id=b();i.enableDiscovery()},options:{border:{_brightness:.8},line:{width:2},overlay:{gradient:so},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}<\/th><tr><td>Open:<\/td><td>{0:C}<\/td><\/tr><tr><td>High:<\/td><td>{1:C}<\/td><\/tr><tr><td>Low:<\/td><td>{2:C}<\/td><\/tr><tr><td>Close:<\/td><td>{3:C}<\/td><\/tr><\/table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}}},reflow:function(n){var r=this,h=r.options,c=r.owner,e=r.value,s=c.seriesValueAxis(h),o=[],u,t,i;t=s.getSlot(e.open,e.close);i=s.getSlot(e.low,e.high);t.x1=i.x1=n.x1;t.x2=i.x2=n.x2;r.realBody=t;u=i.center().x;o.push([new f(u,i.y1),new f(u,t.y1)]);o.push([new f(u,t.y2),new f(u,i.y2)]);r.lowHighLinePoints=o;r.box=i.clone().wrap(t)},getViewElements:function(n){var i=this,t=i.options,u=[],c=t.border.width>0?{stroke:i.getBorderColor(),strokeWidth:t.border.width,dashType:t.border.dashType,strokeOpacity:o(t.border.opacity)?t.border.opacity:t.opacity}:{},f=r({fill:t.color,fillOpacity:t.opacity},c),s={strokeOpacity:o(t.line.opacity)?t.line.opacity:t.opacity,strokeWidth:t.line.width,stroke:t.line.color||t.color,dashType:t.line.dashType,strokeLineCap:"butt"},h=n.createGroup({animation:{type:iu}});return t.overlay&&(f.overlay=r({rotation:0},t.overlay)),u.push(n.createRect(i.realBody,f)),u.push(n.createPolyline(i.lowHighLinePoints[0],!1,s)),u.push(n.createPolyline(i.lowHighLinePoints[1],!1,s)),u.push(i.createOverlayRect(n,t)),d(u,e.fn.getViewElements.call(i,n)),h.children=u,[h]},getBorderColor:function(){var r=this,t=r.options,i=t.border,n=i.color;return o(n)||(n=new bi(t.color).brightness(i._brightness).toHex()),n},createOverlayRect:function(n,t){return n.createRect(this.box,{data:{modelId:t.modelId},fill:"#fff",fillOpacity:0})},highlightOverlay:function(n,t){var i=this,e=i.options,o=e.highlight,s=o.border,h=i.getBorderColor(),f=o.line,c={data:{modelId:e.modelId}},a=r({},c,t,{stroke:h,strokeOpacity:s.opacity,strokeWidth:s.width}),l=r({},c,{stroke:f.color||h,strokeWidth:f.width,strokeOpacity:f.opacity,strokeLineCap:"butt"}),u=n.createGroup();return u.children.push(n.createRect(i.realBody,a)),u.children.push(n.createPolyline(i.lowHighLinePoints[0],!1,l)),u.children.push(n.createPolyline(i.lowHighLinePoints[1],!1,l)),u},tooltipAnchor:function(){var t=this,n=t.box;return new f(n.x2+rt,n.y1+rt)},formatValue:function(n){var t=this;return t.owner.formatPointValue(t,n)}});r(hr.fn,oi);var he=nt.extend({options:{},bindableFields:function(){return["color","downColor"]},reflowCategories:function(n){for(var r=this,i=r.children,u=i.length,t=0;t<u;t++)i[t].reflow(n[t])},addValue:function(n,t,i,u,f){var o=this,c=o.options,s=n.value,v=o.children,a=n.fields.color||u.color,y=this.splitValue(s),p=lh(y),l=o.categoryPoints[i],e,h;l||(o.categoryPoints[i]=l=[]);p&&(u.type==tr&&s.open>s.close&&(a=n.fields.downColor||u.downColor),e=o.createPoint(s,r({},u,{color:a})));h=v[i];h||(h=new su({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing}),o.append(h));e&&(o.updateRange(s,i,u),h.append(e),e.categoryIx=i,e.category=t,e.series=u,e.seriesIx=f,e.owner=o,e.dataItem=u.data[i]);o.points.push(e);l.push(e)},createPoint:function(n,t){return new hr(n,t)},splitValue:function(n){return[n.low,n.open,n.close,n.high]},updateRange:function(n,t,r){var f=this,e=r.axis,u=f.valueAxisRanges[e],o=f.splitValue(n);u=f.valueAxisRanges[e]=u||{min:tt,max:lt};u=f.valueAxisRanges[e]={min:i.min.apply(i,o.concat([u.min])),max:i.max.apply(i,o.concat([u.max]))}},formatPointValue:function(n,t){var i=n.value;return ut(t,i.open,i.high,i.low,i.close,n.category)}}),as=hr.extend({reflow:function(n){var t=this,a=t.options,v=t.owner,e=t.value,s=v.seriesValueAxis(a),h=[],c=[],l=[],o,i,r,u;u=s.getSlot(e.low,e.high);i=s.getSlot(e.open,e.open);r=s.getSlot(e.close,e.close);i.x1=r.x1=u.x1=n.x1;i.x2=r.x2=u.x2=n.x2;o=u.center().x;h.push(new f(i.x1,i.y1));h.push(new f(o,i.y1));c.push(new f(o,r.y1));c.push(new f(r.x2,r.y1));l.push(new f(o,u.y1));l.push(new f(o,u.y2));t.oPoints=h;t.cPoints=c;t.lhPoints=l;t.box=u.clone().wrap(i.clone().wrap(r))},getViewElements:function(n){var t=this,r=t.options,i=[],u={strokeOpacity:r.opacity,zIndex:-1,strokeWidth:r.width,stroke:r.color,dashType:r.dashType},f=n.createGroup({animation:{type:iu}});return i.push(t.createOverlayRect(n,r)),i.push(n.createPolyline(t.oPoints,!0,u)),i.push(n.createPolyline(t.cPoints,!0,u)),i.push(n.createPolyline(t.lhPoints,!0,u)),d(i,e.fn.getViewElements.call(t,n)),f.children=i,[f]},highlightOverlay:function(n){var t=this,e=t.options,u=e.highlight,o={data:{modelId:e.modelId}},f=r(o,{strokeWidth:u.line.width,strokeOpacity:u.line.opacity,stroke:u.line.color||t.color}),i=n.createGroup();return i.children.push(n.createPolyline(t.oPoints,!0,f)),i.children.push(n.createPolyline(t.cPoints,!0,f)),i.children.push(n.createPolyline(t.lhPoints,!0,f)),i}}),vs=he.extend({createPoint:function(n,t){return new as(n,t)},bindableFields:function(){return["color"]}}),cr=e.extend({init:function(n,t,i){var r=this;r.value=n;r.sector=t;r.enableDiscovery();e.fn.init.call(r,i)},options:{color:ei,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:rc,margin:ft(.5),align:ni,zIndex:1,position:ui},animation:{type:vi},highlight:{visible:!0,border:{width:1}},visible:!0},render:function(){var n=this,f=n.options,t=f.labels,i=n.value,u;n._rendered||n.visible===!1||(n._rendered=!0,t.template?(u=dt(t.template),i=u({dataItem:n.dataItem,category:n.category,value:n.value,series:n.series,percentage:n.percentage})):t.format&&(i=ut(t.format,i)),t.visible&&i&&(n.label=new nf(i,r({},t,{id:b(),align:k,vAlign:"",animation:{type:ru,delay:n.animationDelay}})),n.append(n.label)))},reflow:function(n){var t=this;t.render();t.box=n;t.reflowLabel()},reflowLabel:function(){var f=this,t=f.sector.clone(),c=f.options,r=f.label,e=c.labels,l=e.distance,o=t.middle(),n,s,h,u;r&&(u=r.box.height(),h=r.box.width(),e.position==k?(t.r=i.abs((t.r-u)/2)+u,n=t.point(o),r.reflow(y(n.x,n.y-u/2,n.x,n.y))):e.position==af?(t.r=t.r-u/2,n=t.point(o),r.reflow(y(n.x,n.y-u/2,n.x,n.y))):(n=t.clone().expand(l).point(o),n.x>=t.c.x?(s=n.x+h,r.orientation=it):(s=n.x-h,r.orientation=ct),r.reflow(y(s,n.y-u,n.x,n.y))))},getViewElements:function(n){var i=this,u=i.sector,t=i.options,f=t.border||{},h=f.width>0?{stroke:f.color,strokeWidth:f.width,strokeOpacity:f.opacity,dashType:f.dashType}:{},o=[],s=t.overlay;return s&&(s=r({},t.overlay,{r:u.r,ir:u.ir,cx:u.c.x,cy:u.c.y,bbox:u.getBBox()})),i.value&&o.push(i.createSegment(n,u,r({id:t.id,fill:t.color,overlay:s,fillOpacity:t.opacity,strokeOpacity:t.opacity,animation:r(t.animation,{delay:i.animationDelay}),data:{modelId:t.modelId},zIndex:t.zIndex,singleSegment:(i.options.data||[]).length===1},h))),d(o,e.fn.getViewElements.call(i,n)),o},createSegment:function(n,t,i){return i.singleSegment?n.createCircle(t.c,t.r,i):n.createSector(t,i)},highlightOverlay:function(n,t){var i=this,u=i.options.highlight||{},f=u.border||{},o=i.options.id+pc,e;return t=r({},t,{id:o}),i.value!==0&&(e=i.createSegment(n,i.sector,r({},t,{fill:u.color,fillOpacity:u.opacity,strokeOpacity:f.opacity,strokeWidth:f.width,stroke:f.color,id:null,data:{modelId:i.options.modelId}}))),e},tooltipAnchor:function(n,t){var y=this,e=y.sector.clone().expand(rt),o=n/2,s=t/2,h=e.middle(),c=h*ec,l=e.point(h),a=l.x-o,v=l.y-s,r=i.sin(c),u=i.cos(c);return i.abs(r)<.9&&(a+=o*-u/i.abs(u)),i.abs(u)<.9&&(v+=s*-r/i.abs(r)),new f(a,v)},formatValue:function(n){var t=this;return t.owner.formatPointValue(t,n)}});r(cr.fn,oi);lr=e.extend({init:function(n,t){var i=this;e.fn.init.call(i,t);i.plotArea=n;i.segments=[];i.legendItems=[];i.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4},inactiveItems:{markers:{},labels:{}}},render:function(){var n=this;n.traverseDataPoints(h(n.addValue,n))},traverseDataPoints:function(n){for(var u=this,w=u.options,d=u.plotArea.options.seriesColors||[],rt=d.length,g=w.series,e=g.length,ut=b(),nt=u.bindableFields(),t,s,f,a,h,tt,l,it,v,y,r,p=0,i=0;i<e;i++){for(t=g[i],h=t.data,v=u.pointsTotal(t,nt),tt=360/v,y=o(t.startAngle)?t.startAngle:w.startAngle,i!=e-1&&t.labels.position==ui&&(t.labels.position=k),r=0;r<h.length;r++)s=ci(t,r,nt),l=s.value,f=s.fields,a=c(l*tt,of),it=h.length!=1&&!!f.explode,t.color=f.color||d[r%rt],n(l,new kh(null,0,0,y,a),{owner:u,category:f.category||"",index:p,series:t,seriesIx:i,dataItem:h[r],percentage:l/v,explode:it,visibleInLegend:f.visibleInLegend,visible:f.visible,overlay:{id:ut+i},zIndex:e-i,animationDelay:u.animationDelay(r,i,e)}),s.fields.visible!==!1&&(y+=a),p++;p=0}},bindableFields:function(){return["category","color","explode","visibleInLegend","visible"]},addValue:function(n,t,i){var u=this,r;(u.createLegendItem(n,i),i.visible!==!1)&&(r=new cr(n,t,i.series),r.options.id=b(),br(r,i),u.append(r),u.segments.push(r))},createLegendItem:function(n,t){var r=this,u=(r.options.legend||{}).labels||{},o=(r.options.legend||{}).inactiveItems||{},i,s,f,e;t&&t.visibleInLegend!==!1&&(i=t.category||"",(u||{}).template&&(s=dt(u.template),i=s({text:i,series:t.series,dataItem:t.dataItem,percentage:t.percentage,value:n})),t.visible===!1?(f=(o.markers||{}).color,e=(o.labels||{}).color):(f=(t.series||{}).color,e=u.color),r.legendItems.push({pointIndex:t.index,text:i,series:t.series,markerColor:f,labelColor:e}))},pointsTotal:function(n,t){for(var e=n.data,o=e.length,f=0,r,u,i=0;i<o;i++)u=ci(n,i,t),r=u.value,r&&u.fields.visible!==!1&&(f+=r);return f},reflow:function(n){var r=this,k=r.options,u=n.clone(),nt=5,l=i.min(u.width(),u.height()),d=l/2,st=l-l*.85,e=o(k.padding)?k.padding:st,s=y(u.x1,u.y1,u.x1+l,u.y1+l),tt=s.center(),rt=r.seriesConfigs||[],ut=u.center(),ft=r.segments,ht=ft.length,et=k.series.length,a=[],v=[],g,p,h,c,t,w,b,ot;for(e=e>d-nt?d-nt:e,s.translate(ut.x-tt.x,ut.y-tt.y),w=d-e,ot=f(w+s.x1+e,w+s.y1+e),b=0;b<ht;b++)c=ft[b],t=c.sector,t.r=w,t.c=ot,p=c.seriesIx,rt.length&&(g=rt[p],t.ir=g.ir,t.r=g.r),p==et-1&&c.explode&&(t.c=t.clone().radius(t.r*.15).point(t.middle())),c.reflow(s),h=c.label,h&&h.options.position===ui&&p==et-1&&(h.orientation===it?v.push(h):a.push(h));a.length>0&&(a.sort(r.labelComparator(!0)),r.leftLabelsReflow(a));v.length>0&&(v.sort(r.labelComparator(!1)),r.rightLabelsReflow(v));r.box=s},leftLabelsReflow:function(n){var t=this,i=t.distanceBetweenLabels(n);t.distributeLabels(i,n)},rightLabelsReflow:function(n){var t=this,i=t.distanceBetweenLabels(n);t.distributeLabels(i,n)},distanceBetweenLabels:function(n){var a=this,o=a.segments,s=o[o.length-1],f=s.sector,i=n[0].box,e=n.length-1,h=f.r+s.options.labels.distance,u=[],l,t,r;for(t=c(i.y1-(f.c.y-h-i.height()-i.height()/2)),u.push(t),r=0;r<e;r++)i=n[r].box,l=n[r+1].box,t=c(l.y1-i.y2),u.push(t);return t=c(f.c.y+h-n[e].box.y2-n[e].box.height()/2),u.push(t),u},distributeLabels:function(n,t){for(var u=this,o=n.length,r,f,e,i=0;i<o;i++)for(f=e=i,r=-n[i];r>0&&(f>=0||e<o);)r=u._takeDistance(n,i,--f,r),r=u._takeDistance(n,i,++e,r);u.reflowLabels(n,t)},_takeDistance:function(n,t,r,u){if(n[r]>0){var f=i.min(n[r],u);u-=f;n[r]-=f;n[t]+=f}return u},reflowLabels:function(n,t){var c=this,l=c.segments,a=l[l.length-1],r=a.sector,v=t.length,h=a.options.labels,s=h.distance,i=r.c.y-(r.r+s)-t[0].box.height(),f,u,e,o;for(n[0]+=2,o=0;o<v;o++)f=t[o],i+=n[o],e=f.box,u=c.hAlignLabel(e.x2,r.clone().expand(s),i,i+e.height(),f.orientation==it),f.orientation==it?(h.align!==ni&&(u=r.r+r.c.x+s),f.reflow(new y(u+e.width(),i,u,i))):(h.align!==ni&&(u=r.c.x-r.r-s),f.reflow(new y(u-e.width(),i,u,i))),i+=e.height()},getViewElements:function(n){for(var y=this,ft=y.options,p=ft.connectors,tt=y.segments,rt,g=[],et=tt.length,l=4,r,nt,u,c,ot,w,k=0;k<et;k++)if(c=tt[k],r=c.sector,nt=r.middle(),w=c.label,ot={seriesId:c.seriesIx},w&&(u=[],w.options.position===ui&&c.value!==0)){var v=w.box,ut=r.c,s=r.point(nt),h=f(v.x1,v.center().y),a,o,t;s=r.clone().expand(p.padding).point(nt);u.push(s);w.orientation==it?(o=f(v.x1-p.padding,v.center().y),t=uh(ut,s,h,o),h=f(o.x-l,o.y),t=t||h,t.x=i.min(t.x,h.x),y.pointInCircle(t,r.c,r.r+l)||t.x<r.c.x?(a=r.c.x+r.r+l,c.options.labels.align!==li?a<h.x?u.push(f(a,s.y)):u.push(f(s.x+l*2,s.y)):u.push(f(a,s.y)),u.push(f(h.x,o.y))):(t.y=o.y,u.push(t))):(o=f(v.x2+p.padding,v.center().y),t=uh(ut,s,h,o),h=f(o.x+l,o.y),t=t||h,t.x=i.max(t.x,h.x),y.pointInCircle(t,r.c,r.r+l)||t.x>r.c.x?(a=r.c.x-r.r-l,c.options.labels.align!==li?a>h.x?u.push(f(a,s.y)):u.push(f(s.x-l*2,s.y)):u.push(f(a,s.y)),u.push(f(h.x,o.y))):(t.y=o.y,u.push(t)));u.push(o);rt=n.createPolyline(u,!1,{id:b(),stroke:p.color,strokeWidth:p.width,animation:{type:ru,delay:c.animationDelay},data:{modelId:c.options.modelId}});g.push(rt)}return d(g,e.fn.getViewElements.call(y,n)),g},labelComparator:function(n){return n=n?-1:1,function(t,i){return t=(t.parent.sector.middle()+270)%360,i=(i.parent.sector.middle()+270)%360,(t-i)*n}},hAlignLabel:function(n,t,r,u,f){var h=t.c.x,s=t.c.y,e=t.r,o=i.min(i.abs(s-r),i.abs(s-u));return o>e?n:h+i.sqrt(e*e-o*o)*(f?1:-1)},pointInCircle:function(n,t,i){return pe(t.x-n.x)+pe(t.y-n.y)<pe(i)},formatPointValue:function(n,t){return ut(t,n.value)},animationDelay:function(n){return n*wc}});lu=cr.extend({options:{overlay:{gradient:"roundedGlass"},labels:{position:k},animation:{type:vi}},reflowLabel:function(){var i=this,n=i.sector.clone(),f=i.options,r=i.label,e=f.labels,t,o=n.middle(),u;r&&(u=r.box.height(),e.position==k?(n.r-=(n.r-n.ir)/2,t=n.point(o),r.reflow(new y(t.x,t.y-u/2,t.x,t.y))):cr.fn.reflowLabel.call(i))},createSegment:function(n,t,i){return n.createRing(t,i)}});r(lu.fn,oi);var ys=lr.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(n,t,i){var u=this,r;(u.createLegendItem(n,i),n&&i.visible!==!1)&&(r=new lu(n,t,i.series),r.options.id=b(),br(r,i),u.append(r),u.segments.push(r))},reflow:function(n){var h=this,a=h.options,w=n.clone(),b=5,v=i.min(w.width(),w.height()),c=v/2,tt=v-v*.85,f=o(a.padding)?a.padding:tt,y=a.series,t,l=y.length,k=0,e,u,d,g=0,r,p,s=0,nt=0;for(h.seriesConfigs=[],f=f>c-b?c-b:f,u=c-f,r=0;r<l;r++)t=y[r],r===0&&o(t.holeSize)&&(e=t.holeSize,u-=t.holeSize),o(t.size)?u-=t.size:k++,o(t.margin)&&r!=l-1&&(u-=t.margin);for(o(e)||(nt=(c-f)/(l+.75),e=nt*.75,u-=e),s=e,r=0;r<l;r++)t=y[r],d=o(t.size)?t.size:u/k,s+=g,p=s+d,h.seriesConfigs.push({ir:s,r:p}),g=t.margin||0,s=p;lr.fn.reflow.call(h,n)},animationDelay:function(n,t,i){return n*oc+ri*(t+1)/(i+1)}}),ce=dr.extend({init:function(n){var t=this;dr.fn.init.call(t,n);n=t.options;n.id=b();t.title=uo.buildTitle(n.title,t,ce.fn.options.title);t.content=new e;t.append(t.content);t.axes=[];t.charts=[]},options:{zIndex:-1,shrinkToFit:!0,title:{align:ct},visible:!0},appendAxis:function(n){var t=this;t.content.append(n);t.axes.push(n);n.pane=t},appendChart:function(n){var t=this;t.charts.push(n);t.content.append(n);n.pane=t},empty:function(){var n=this,i=n.parent,t;if(i){for(t=0;t<n.axes.length;t++)i.removeAxis(n.axes[t]);for(t=0;t<n.charts.length;t++)i.removeChart(n.charts[t])}n.axes=[];n.charts=[];n.content.destroy();n.content.children=[]},reflow:function(n){var t=this;st(t.children)===t.content&&t.children.pop();dr.fn.reflow.call(t,n);t.title&&(t.contentBox.y1+=t.title.box.height())},getViewElements:function(n){var t=this,u=nt.fn.getViewElements.call(t,n),i=n.createGroup({id:t.options.id}),r=[];return i.children=u.concat(t.renderGridLines(n),t.content.getViewElements(n)),t.view=n,t.options.visible&&(r=[i]),r},renderGridLines:function(n){for(var s=this,u=s.axes,h=u.concat(s.parent.axes),c=[],l=[],f,i,r,e,o,t=0;t<u.length;t++)for(r=u[t],e=r.options.vertical,f=e?c:l,i=0;i<h.length;i++)f.length===0&&(o=h[i],e!==o.options.vertical&&d(f,r.renderGridLines(n,o,r)));return c.concat(l)},refresh:function(){var n=this,t=n.view,i=rf(n.options.id);t&&i&&i.parentNode.replaceChild(t.renderElement(n.getViewElements(t)[0]),i)}}),yt=e.extend({init:function(n,t){var i=this;e.fn.init.call(i,t);i.series=n;i.setSeriesIndexes();i.charts=[];i.options.legend.items=[];i.axes=[];i.crosshairs=[];i.options.id=b();i.enableDiscovery();i.createPanes();i.render();i.createCrosshairs()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:di,width:0},legend:{}},setSeriesIndexes:function(){for(var t=this.series,i,n=0;n<t.length;n++)i=t[n],i.index=n},createPanes:function(){for(var r=this,u=[],f=r.options.panes||[],e=i.max(f.length,1),t,n=0;n<e;n++)t=new ce(f[n]),t.paneIndex=n,u.push(t),r.append(t);r.panes=u},destroy:function(){for(var t=this,i=t.charts,r=t.axes,n=0;n<i.length;n++)i[n].destroy();for(n=0;n<r.length;n++)r[n].destroy();e.fn.destroy.call(t)},createCrosshairs:function(){for(var r=this,e=r.panes,i,u,n,f,t=0;t<e.length;t++)for(u=e[t],i=0;i<u.axes.length;i++)n=u.axes[i],n.options.crosshair&&n.options.crosshair.visible&&(f=new nh(n,n.options.crosshair),r.crosshairs.push(f),r.append(f))},findPane:function(n){for(var u=this,i=u.panes,r,t=0;t<i.length;t++)if(i[t].options.name===n){r=i[t];break}return r||i[0]},findPointPane:function(n){for(var u=this,i=u.panes,r,t=0;t<i.length;t++)if(i[t].box.containsPoint(n)){r=i[t];break}return r},appendAxis:function(n){var t=this,i=t.findPane(n.options.pane);i.appendAxis(n);t.axes.push(n);n.plotArea=t},removeAxis:function(n){for(var i=this,r,u=[],t=0;t<i.axes.length;t++)r=i.axes[t],n!==r&&u.push(r);i.axes=u},appendChart:function(n,t){var i=this;i.charts.push(n);t?t.appendChart(n):i.append(n)},removeChart:function(n){for(var i=this,r,u=[],t=0;t<i.charts.length;t++)r=i.charts[t],r!==n&&u.push(r);i.charts=u},addToLegend:function(n){for(var c=n.length,s=[],t,r,u=this.options.legend,f=u.labels||{},h=u.inactiveItems||{},e,o,i=0;i<c;i++)(t=n[i],t.visibleInLegend!==!1)&&(r=t.name||"",f.template&&(r=dt(f.template)({text:r,series:t})),t.visible===!1?(e=h.labels.color,o=h.markers.color):(e=f.color,o=t.color),s.push({text:r,labelColor:e,markerColor:o,series:t,active:t.visible}));d(u.items,s)},groupAxes:function(n){for(var u=[],f=[],e,t,r,i=0;i<n.length;i++)for(e=n[i].axes,r=0;r<e.length;r++)t=e[r],t.options.vertical?f.push(t):u.push(t);return{x:u,y:f,any:u.concat(f)}},groupSeriesByPane:function(){for(var u=this,f=u.series,n={},i,r,t=0;t<f.length;t++)r=f[t],i=u.seriesPaneName(r),n[i]?n[i].push(r):n[i]=[r];return n},filterSeriesByType:function(n,t){var i,r,u=[];for(t=[].concat(t),i=0;i<n.length;i++)r=n[i],w(r.type,t)&&u.push(r);return u},filterVisibleSeries:function(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],i.visible!==!1&&r.push(i);return r},reflow:function(n){var t=this,r=t.options.plotArea,i=t.panes,u=ft(r.margin);t.box=n.clone().unpad(u);t.reflowPanes();t.reflowAxes(i);t.reflowCharts(i)},redraw:function(n){var i=this,t;for(n=[].concat(n),t=0;t<n.length;t++)n[t].empty();for(i.render(n),i.reflowAxes(i.panes),i.reflowCharts(n),t=0;t<n.length;t++)n[t].refresh()},axisCrossingValues:function(n,t){for(var u=n.options,i=[].concat(u.axisCrossingValues||u.axisCrossingValue),f=t.length-i.length,e=i[0]||0,r=0;r<f;r++)i.push(e);return i},alignAxisTo:function(n,t,i,r){var u=n.getSlot(i,i),f=n.options.reverse?2:1,e=t.getSlot(r,r),o=t.options.reverse?2:1,s=n.box.translate(e[l+o]-u[l+f],e[a+o]-u[a+f]);n.pane!==t.pane&&s.translate(0,n.pane.box.y1-t.pane.box.y1);n.reflow(s)},alignAxes:function(n,t){for(var e=this,o=n[0],f=t[0],s=e.axisCrossingValues(o,t),h=e.axisCrossingValues(f,n),a={},v={},y={},p={},l,u,i,r=0;r<t.length;r++)(i=t[r],l=i.pane,u=l.options.id,e.alignAxisTo(i,o,h[r],s[r]),i.options._overlap)||(c(i.lineBox().x1)===c(o.lineBox().x1)&&(a[u]&&i.reflow(i.box.alignTo(a[u].box,ct).translate(-i.options.margin,0)),a[u]=i),c(i.lineBox().x2)===c(o.lineBox().x2)&&(i._mirrored||(i.options.labels.mirror=!i.options.labels.mirror,i._mirrored=!0),e.alignAxisTo(i,o,h[r],s[r]),v[u]&&i.reflow(i.box.alignTo(v[u].box,it).translate(i.options.margin,0)),v[u]=i),r!==0&&f.pane===i.pane&&i.alignTo(f));for(r=0;r<n.length;r++)(i=n[r],l=i.pane,u=l.options.id,e.alignAxisTo(i,f,s[r],h[r]),i.options._overlap)||(c(i.lineBox().y1)===c(f.lineBox().y1)&&(i._mirrored||(i.options.labels.mirror=!i.options.labels.mirror,i._mirrored=!0),e.alignAxisTo(i,f,s[r],h[r]),y[u]&&i.reflow(i.box.alignTo(y[u].box,at).translate(0,-i.options.margin)),y[u]=i),c(i.lineBox().y2,ti)===c(f.lineBox().y2,ti)&&(p[u]&&i.reflow(i.box.alignTo(p[u].box,ht).translate(0,i.options.margin)),p[u]=i),r!==0&&i.alignTo(o))},shrinkAxisWidth:function(n){for(var o=this,u=o.groupAxes(n).any,s=bu(u),f=0,e,r,t=0;t<n.length;t++)e=n[t],e.axes.length>0&&(f=i.max(f,s.width()-e.contentBox.width()));for(t=0;t<u.length;t++)r=u[t],r.options.vertical||r.reflow(r.box.shrink(f,0))},shrinkAxisHeight:function(n){for(var e,r,o,u,f,t=0;t<n.length;t++)for(e=n[t],r=e.axes,o=i.max(0,bu(r).height()-e.contentBox.height()),u=0;u<r.length;u++)f=r[u],f.options.vertical&&f.reflow(f.box.shrink(0,o))},fitAxes:function(n){for(var a=this,c=a.groupAxes(n).any,s=0,u,f,e,l,h,r,o,t=0;t<n.length;t++)if(h=n[t],u=h.axes,f=h.contentBox,u.length>0)for(e=bu(u),s=i.max(s,f.x1-e.x1),l=i.max(f.y1-e.y1,f.y2-e.y2),o=0;o<u.length;o++)r=u[o],r.reflow(r.box.translate(0,l));for(t=0;t<c.length;t++)r=c[t],r.reflow(r.box.translate(s,0))},reflowAxes:function(n){for(var t=this,i=t.groupAxes(n),r=0;r<n.length;r++)t.reflowPaneAxes(n[r]);i.x.length>0&&i.y.length>0&&(t.alignAxes(i.x,i.y),t.shrinkAxisWidth(n),t.alignAxes(i.x,i.y),t.shrinkAxisHeight(n),t.alignAxes(i.x,i.y),t.fitAxes(n))},reflowPaneAxes:function(n){var i=n.axes,t,r=i.length;if(r>0)for(t=0;t<r;t++)i[t].reflow(n.contentBox)},reflowCharts:function(n){for(var u=this,i=u.charts,f=i.length,e=u.box,r,t=0;t<f;t++)r=i[t].pane,(!r||w(r,n))&&i[t].reflow(e)},reflowPanes:function(){for(var e=this,i=e.box,r=e.panes,u=r.length,n,o,s=i.height(),a=u,h=0,c=i.y1,f,l,t=0;t<u;t++)n=r[t],f=n.options.height,n.options.width=i.width(),n.options.height?(f.indexOf&&f.indexOf("%")&&(l=parseInt(f,10)/100,n.options.height=l*i.height()),n.reflow(i.clone()),s-=n.options.height):h++;for(t=0;t<u;t++)n=r[t],n.options.height||(n.options.height=s/h);for(t=0;t<u;t++)n=r[t],o=i.clone().move(i.x1,c),n.reflow(o),a--,c+=n.options.height},backgroundBox:function(){for(var o=this,r=o.axes,s=r.length,u,n,i,f,e,t=0;t<s;t++)for(f=r[t],i=0;i<s;i++)e=r[i],f.options.vertical!==e.options.vertical&&(u=f.lineBox().clone().wrap(e.lineBox()),n=n?n.wrap(u):u);return n||o.box},getViewElements:function(n){var i=this,f=i.backgroundBox(),r=i.options,u=r.plotArea,t=u.border||{},o=e.fn.getViewElements.call(i,n);return d(o,[n.createRect(f,{fill:u.background,fillOpacity:u.opacity,zIndex:-2,strokeWidth:.1}),n.createRect(f,{id:r.id,data:{modelId:r.modelId},stroke:t.width?t.color:"",strokeWidth:t.width,fill:ei,fillOpacity:0,zIndex:-1,dashType:t.dashType})]),o},pointsByCategoryIndex:function(n){var f=this.charts,e=[],t,u,i,r,s;if(n!==null)for(t=0;t<f.length;t++)if((s=f[t],s.pane.options.name!=="_navigator")&&(i=f[t].categoryPoints[n],i&&i.length))for(u=0;u<i.length;u++)r=i[u],r&&o(r.value)&&r.value!==null&&e.push(r);return e},pointsBySeriesIndex:function(n){for(var f=this.charts,e=[],r,u,i,o,t=0;t<f.length;t++)for(o=f[t],r=o.points,i=0;i<r.length;i++)u=r[i],u.options.index===n&&e.push(u);return e},paneByPoint:function(n){for(var u=this,r=u.panes,i,t=0;t<r.length;t++)if(i=r[t],i.box.containsPoint(n))return i}}),le=yt.extend({init:function(n,t){var i=this;i.namedCategoryAxes={};i.namedValueAxes={};i.valueAxisRangeTracker=new ae;n.length>0&&(i.invertAxes=w(n[0].type,[gt,nr,ie,ne]));yt.fn.init.call(i,n,t)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(n){var t=this;n=n||t.panes;t.createCategoryAxes(n);t.aggregateDateSeries(n);t.createCharts(n);t.createValueAxes(n)},removeAxis:function(n){var t=this,i=n.options.name;yt.fn.removeAxis.call(t,n);n instanceof vt?delete t.namedCategoryAxes[i]:(t.valueAxisRangeTracker.reset(i),delete t.namedValueAxes[i]);n===t.categoryAxis&&delete t.categoryAxis;n===t.valueAxis&&delete t.valueAxis},createCharts:function(n){for(var t=this,e=t.groupSeriesByPane(),i,f,r,u=0;u<n.length;u++)(i=n[u],f=e[i.options.name||"default"]||[],t.addToLegend(f),r=t.filterVisibleSeries(f),r)&&(t.createAreaChart(t.filterSeriesByType(r,[gr,ne]),i),t.createBarChart(t.filterSeriesByType(r,[li,gt]),i),t.createLineChart(t.filterSeriesByType(r,[vf,ie]),i),t.createCandlestickChart(t.filterSeriesByType(r,tr),i),t.createOHLCChart(t.filterSeriesByType(r,fu),i),t.createBulletChart(t.filterSeriesByType(r,[nr,te]),i))},aggregateDateSeries:function(n){for(var t=this,a=t.srcSeries||t.series,b=[],u,k,d,g,f,e,i,h,nt,tt,c,l,v,y,it,p,s=0;s<a.length;s++){if(i=a[s],h=r({},i),u=t.seriesCategoryAxis(i),k=t.findPane(u.options.pane),w(k,n)&&ke(u.options.type,ai))for(d=u.options.categories,g=u.categoryMap,nt=h.data,h.data=tt=[],f=0;f<d.length;f++){for(e=g[f],c=[],p=[],l=0;l<e.length;l++)v=e[l],y=ci(i,v),it=y.value,o(it)&&c.push(y.value),p.push(i.data[v]);tt[f]=c.length>1?ll(c,i,p):nt[e[0]]}b.push(h)}t.srcSeries=a;t.series=b},appendChart:function(n,t){for(var r=this,u=n.options.series,e=r.seriesCategoryAxis(u[0]),f=e.options.categories,o=i.max(0,vu(u)-f.length);o--;)f.push("");r.valueAxisRangeTracker.update(n.valueAxisRanges);yt.fn.appendChart.call(r,n,t)},seriesPaneName:function(t){var r=this,i=r.options,u=t.axis,f=[].concat(i.valueAxis),e=n.grep(f,function(n){return n.name===u})[0],o=i.panes||[{}],s=(o[0]||{}).name||"default";return(e||{}).pane||s},seriesCategoryAxis:function(n){var i=this,t=n.categoryAxis,r=t?i.namedCategoryAxes[t]:i.categoryAxis;if(!r)throw new Error("Unable to locate category axis with name "+t);return r},createBarChart:function(n,t){if(n.length!==0){var i=this,r=n[0],u=new ss(i,{series:n,invertAxes:i.invertAxes,isStacked:r.stack&&n.length>1,gap:r.gap,spacing:r.spacing});i.appendChart(u,t)}},createBulletChart:function(n,t){if(n.length!==0){var i=this,r=n[0],u=new ul(i,{series:n,invertAxes:i.invertAxes,gap:r.gap,spacing:r.spacing});i.appendChart(u,t)}},createLineChart:function(n,t){if(n.length!==0){var i=this,r=n[0],u=new cu(i,{invertAxes:i.invertAxes,isStacked:r.stack&&n.length>1,series:n});i.appendChart(u,t)}},createAreaChart:function(n,t){if(n.length!==0){var i=this,r=n[0],u=new ls(i,{invertAxes:i.invertAxes,isStacked:r.stack&&n.length>1,series:n});i.appendChart(u,t)}},createOHLCChart:function(n,t){if(n.length!==0){var i=this,r=n[0],u=new vs(i,{invertAxes:i.invertAxes,gap:r.gap,series:n,spacing:r.spacing});i.appendChart(u,t)}},createCandlestickChart:function(n,t){if(n.length!==0){var i=this,r=n[0],u=new he(i,{invertAxes:i.invertAxes,gap:r.gap,series:n,spacing:r.spacing});i.appendChart(u,t)}},axisRequiresRounding:function(n,t){for(var u=this,f=u.filterSeriesByType(u.series,[gt,li,fu,tr]),r,i=0;i<f.length;i++)if(r=f[i].categoryAxis||"",r===n||!r&&t===0)return!0},createCategoryAxes:function(n){for(var i=this,h=i.invertAxes,l=[].concat(i.options.categoryAxis),t,a,v,c,f,y,e,p=[],s,u=0;u<l.length;u++)if(t=l[u],a=i.findPane(t.pane),w(a,n)){if(f=t.name,v=t.categories||[],y=v[0]instanceof Date,c=t.type||"",t=r({vertical:h,axisCrossingValue:h?tt:0},t),o(t.justified)||(t.justified=i.inJustified()),i.axisRequiresRounding(f,u)&&(t.justified=!1,t.roundToBaseUnit=!0),e=!c&&y||ke(c,ai)?new or(t):new vt(t),f){if(i.namedCategoryAxes[f])throw new Error("Category axis with name "+f+" is already defined");i.namedCategoryAxes[f]=e}e.axisIndex=u;p.push(e);i.appendAxis(e)}s=i.categoryAxis||p[0];i.categoryAxis=s;h?i.axisY=s:i.axisX=s},inJustified:function(){for(var r=this,t=r.series,i,n=0;n<t.length;n++)if(i=t[n],i.type!==gr)return!1;return!0},createValueAxes:function(n){for(var t=this,l=t.valueAxisRangeTracker,s=l.query(),a=[].concat(t.options.valueAxis),v=t.invertAxes,b={vertical:!v},h,y,o,c,p=[],u,f,e=0;e<a.length;e++)if(h=a[e],y=t.findPane(h.pane),w(y,n)){if(f=h.name,u=l.query(f)||s||{min:0,max:1},e===0&&u&&s&&(u.min=i.min(u.min,s.min),u.max=i.max(u.max,s.max)),o=new ki(u.min,u.max,r({},b,h)),f){if(t.namedValueAxes[f])throw new Error("Value axis with name "+f+" is already defined");t.namedValueAxes[f]=o}o.axisIndex=e;p.push(o);t.appendAxis(o)}c=t.valueAxis||p[0];t.valueAxis=c;v?t.axisX=c:t.axisY=c},click:function(t,i){var c=this,l=t._eventCoordinates(i),u=new f(l.x,l.y),a=c.pointPane(u),s,e,o,r=[],h=[];if(a){for(s=a.axes,e=0;e<s.length;e++)o=s[e],o.getValue?de(h,o.getValue(u)):de(r,o.getCategory(u));r.length===0&&de(r,c.categoryAxis.getCategory(u));r.length>0&&h.length>0&&t.trigger(wf,{element:n(i.target),category:wu(r),value:wu(h)})}},pointPane:function(n){for(var u=this,r=u.panes,i,t=0;t<r.length;t++)if(i=r[t],i.contentBox.containsPoint(n))return i}}),ae=du.extend({init:function(){var n=this;n.axisRanges={}},update:function(n){var e=this,f=e.axisRanges,t,r;for(var u in n)t=f[u],r=n[u],f[u]=t=t||{min:tt,max:lt},t.min=i.min(t.min,r.min),t.max=i.max(t.max,r.max)},reset:function(n){this.axisRanges[n]=t},query:function(n){return this.axisRanges[n]}}),ps=yt.extend({init:function(n,t){var i=this;i.namedXAxes={};i.namedYAxes={};i.xAxisRangeTracker=new ae;i.yAxisRangeTracker=new ae;yt.fn.init.call(i,n,t)},options:{xAxis:{},yAxis:{}},render:function(n){var t=this,e=t.groupSeriesByPane(),u,i,f,r;for(n=n||t.panes,u=0;u<n.length;u++)(i=n[u],f=e[i.options.name||"default"]||[],t.addToLegend(f),r=t.filterVisibleSeries(f),r)&&(t.createScatterChart(t.filterSeriesByType(r,yo),i),t.createScatterLineChart(t.filterSeriesByType(r,po),i),t.createBubbleChart(t.filterSeriesByType(r,gi),i));t.createAxes(n)},appendChart:function(n,t){var i=this;i.xAxisRangeTracker.update(n.xAxisRanges);i.yAxisRangeTracker.update(n.yAxisRanges);yt.fn.appendChart.call(i,n,t)},removeAxis:function(n){var t=this,i=n.options.name;yt.fn.removeAxis.call(t,n);n.options.vertical?(t.yAxisRangeTracker.reset(i),delete t.namedYAxes[i]):(t.xAxisRangeTracker.reset(i),delete t.namedXAxes[i]);n===t.axisX&&delete t.axisX;n===t.axisY&&delete t.axisY},seriesPaneName:function(t){var r=this,i=r.options,u=t.xAxis,f=[].concat(i.xAxis),e=n.grep(f,function(n){return n.name===u})[0],o=t.yAxis,s=[].concat(i.yAxis),h=n.grep(s,function(n){return n.name===o})[0],c=i.panes||[{}],l=c[0].name||"default";return(e||{}).pane||(h||{}).pane||l},createScatterChart:function(n,t){var i=this;n.length>0&&i.appendChart(new hi(i,{series:n}),t)},createScatterLineChart:function(n,t){var i=this;n.length>0&&i.appendChart(new oe(i,{series:n}),t)},createBubbleChart:function(n,t){var i=this;n.length>0&&i.appendChart(new se(i,{series:n}),t)},createXYAxis:function(n,t,u){for(var o=this,s=n.name,w=t?o.namedYAxes:o.namedXAxes,b=t?o.yAxisRangeTracker:o.xAxisRangeTracker,h=b.query(),f=b.query(s)||h||{min:0,max:1},e=r({},n,{vertical:t}),c,k=o.series,v,y,d,p=[e.min,e.max],g,a,l=0;l<k.length;l++)if(v=k[l],y=v[t?"yAxis":"xAxis"],y==e.name||u===0&&!y){d=ci(v,0).value;p.push(d[t?"y":"x"]);break}for(u===0&&h&&(f.min=i.min(f.min,h.min),f.max=i.max(f.max,h.max)),a=0;a<p.length;a++)if(p[a]instanceof Date){g=!0;break}if(c=ke(e.type,ai)||!e.type&&g?new os(f.min,f.max,e):new ki(f.min,f.max,e),s){if(w[s])throw new Error((t?"Y":"X")+" axis with name "+s+" is already defined");w[s]=c}return o.appendAxis(c),c},createAxes:function(n){var t=this,r=t.options,i,e=[].concat(r.xAxis),u=[],o=[].concat(r.yAxis),f=[];wr(e,function(r){i=t.findPane(this.pane);w(i,n)&&u.push(t.createXYAxis(this,!1,r))});wr(o,function(r){i=t.findPane(this.pane);w(i,n)&&f.push(t.createXYAxis(this,!0,r))});t.axisX=t.axisX||u[0];t.axisY=t.axisY||f[0]},click:function(t,i){for(var a=this,h=t._eventCoordinates(i),v=new f(h.x,h.y),c=a.axes,y=c.length,u,e=[],o=[],s,l,r=0;r<y;r++)u=c[r],l=u.options.vertical?o:e,s=u.getValue(v),s!==null&&l.push(s);e.length>0&&o.length>0&&t.trigger(wf,{element:n(i.target),x:wu(e),y:wu(o)})}}),ve=yt.extend({render:function(){var n=this,t=n.series;n.createPieChart(t)},createPieChart:function(n){var t=this,i=n[0],r=new lr(t,{series:n,padding:i.padding,startAngle:i.startAngle,connectors:i.connectors,legend:t.options.legend});t.appendChart(r)},appendChart:function(n,t){yt.fn.appendChart.call(this,n,t);d(this.options.legend.items,n.legendItems)}}),ws=ve.extend({render:function(){var n=this,t=n.series;n.createDonutChart(t)},createDonutChart:function(n){var t=this,i=n[0],r=new ys(t,{series:n,padding:i.padding,connectors:i.connectors,legend:t.options.legend});t.appendChart(r)}}),bs=io.extend({options:{easing:"easeOutElastic",duration:ri},setup:function(){var t=this.element,n=t.config,i;t.options.singleSegment&&(n=t);this.endRadius=n.r;i=this.startRadius=n.ir||0;n.r=i},step:function(n){var t=this,i=t.element,u=t.endRadius,r=i.config,f=t.startRadius;i.options.singleSegment&&(r=i);r.r=fo(f,u,n)}}),ol=io.extend({options:{easing:"easeOutElastic",duration:ri},setup:function(){var n=this.element;n.endRadius=n.radius;n.radius=0},step:function(n){var t=this.element,i=t.endRadius;t.radius=fo(0,i,n)}}),sl=tf(gt,wh),hl=tf(vi,bs),cl=tf(gi,ol),ks=du.extend({init:function(n,t,i){var u=this;u.options=r({},u.options,i);u.view=n;u.viewElement=t;u._overlays=[]},options:{fill:ei,fillOpacity:.2,stroke:ei,strokeWidth:1,strokeOpacity:.2},show:function(n){var i=this,u=i.view,s=i.viewElement,f,h=i._overlays,e,r,t,o;for(i.hide(),i._points=n=[].concat(n),r=0;r<n.length;r++)t=n[r],t&&(o=t.options,(!o||(o.highlight||{}).visible)&&(t.highlightOverlay&&(f=t.highlightOverlay(u,i.options),f&&(e=u.renderElement(f),s.appendChild(e),h.push(e))),t.toggleHighlight&&t.toggleHighlight(u)))},hide:function(){for(var n=this,r=n._points,e=n._overlays,u,i,t,f;e.length;)u=n._overlays.pop(),u.parentNode.removeChild(u);if(r)for(i=0;i<r.length;i++)t=r[i],t&&(f=t.options,(!f||(f.highlight||{}).visible)&&t.toggleHighlight&&t.toggleHighlight(n.view));n._points=[]}}),bt=du.extend({init:function(t,i){var u=this;u.options=r({},u.options,i);u.chartElement=t;u.chartPadding={top:parseInt(t.css("paddingTop"),10),left:parseInt(t.css("paddingLeft"),10)};u.template=bt.template;u.template||(u.template=bt.template=eo("<div class='"+g+"tooltip' style='display:none; position: absolute; font: #= d.font #;border: #= d.border.width #px solid;opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'><\/div>"));u.element=n(u.template(u.options)).appendTo(t);u._moveProxy=h(u.move,u)},options:{border:{width:1},opacity:1,animation:{duration:150}},move:function(){var n=this,r=n.options,i=n.element,t=n._offset();n.visible||i.css({top:t.top,left:t.left});i.stop(!0,!0).show().animate({left:t.left,top:t.top},r.animation.duration);n.visible=!0},_offset:function(){var t=this,e=t.element,o=t.anchor,s=t.chartPadding,i=c(o.y+s.top),r=c(o.x+s.left),h=p.support.zoomLevel(),l=n(window),u=window.pageYOffset||document.documentElement.scrollTop||0,f=window.pageXOffset||document.documentElement.scrollLeft||0;return u=t.chartElement.offset().top-u,f=t.chartElement.offset().left-f,i+=t._currentPosition(i+u,e.outerHeight(),l.outerHeight()/h),r+=t._currentPosition(r+f,e.outerWidth(),l.outerWidth()/h),{top:i,left:r}},setStyle:function(n){this.element.css({backgroundColor:n.background,borderColor:n.border.color||n.background,font:n.font,color:n.color,opacity:n.opacity,borderWidth:n.border.width})},show:function(){var n=this;n.showTimeout=setTimeout(n._moveProxy,bc)},hide:function(){var n=this;clearTimeout(n.showTimeout);n.visible&&(n._hideElement(),n.point=null,n.visible=!1,n.index=null)},_hideElement:function(){this.element.fadeOut()},_pointContent:function(n){var f=this,t=r({},f.options,n.options.tooltip),i,u;return o(n.value)&&(i=n.value.toString()),t.template?(u=dt(t.template),i=u({value:n.value,category:n.category,series:n.series,dataItem:n.dataItem,percentage:n.percentage})):t.format&&(i=n.formatValue(t.format)),i},_pointAnchor:function(n){var i=this,t=i.element;return n.tooltipAnchor(t.outerWidth(),t.outerHeight())},_currentPosition:function(n,t,i){var r=0;return n+t>i&&(r=i-(n+t)),n<0&&(r=-n),r},_updateStyle:function(n,t){if(o(n.background)||(n.background=t.color),!o(n.color)){var r=this,i=r.element,u=new bi(n.background).percBrightness();u>180?i.addClass(g+ko):i.removeClass(g+ko)}}}),ds=bt.extend({show:function(n){var t=this,i=r({},t.options,n.options.tooltip);n&&(t.element.html(t._pointContent(n)),t.anchor=t._pointAnchor(n),t._updateStyle(i,n.options),t.setStyle(i),bt.fn.show.call(t,n))}}),gs=bt.extend({init:function(n,t,i){var r=this;bt.fn.init.call(r,n,i);r.plotArea=t},options:{sharedTemplate:"<table><th colspan='2'>#= categoryText #<\/th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(point.series.name) { #<td>#= point.series.name #:<\/td> # } #<td>#= content(point) #<\/td><\/tr># } #<\/table>",categoryFormat:"{0:d}"},showAt:function(n,t){var i=this,u=i.options,e=i.plotArea,r=e.categoryAxis,o=r.getCategoryIndex(t),s=r.getCategory(t),h=r.getSlot(o),f;f=i._content(n,s);i.element.html(f);i.anchor=i._slotAnchor(t,h);i._updateStyle(u,n[0].options);i.setStyle(u);bt.fn.show.call(i)},_slotAnchor:function(n,t){var i=this,u=i.plotArea,e=u.categoryAxis,r=n.y-i.element.height()/2;return e.options.vertical?f(n.x,r):f(t.center().x,r)},_content:function(n,t){var i=this,r;return r=p.template(i.options.sharedTemplate),r({points:n,category:t,categoryText:ut(i.options.categoryFormat,t),content:i._pointContent})}}),nh=e.extend({init:function(n,t){var i=this;e.fn.init.call(i,t);i.axis=n;i.options.id||(i.options.id=b());i._visible=!1;i.stickyMode=n instanceof vt},options:{color:di,width:1,zIndex:-1,tooltip:{visible:!1}},repaint:function(){var n=this,t=n.element;n.getViewElements(n._view);t=n.element;t.refresh(rf(n.options.id))},showAt:function(n){var t=this;t.updateAxisReference();t._visible=!0;t.point=n;t.repaint();t.options.tooltip.visible&&(t.tooltip||(t.tooltip=new th(t,r({},t.options.tooltip,{stickyMode:t.stickyMode}))),t.tooltip.showAt(n))},hide:function(){var n=this;n._visible&&(n._visible=!1,n.repaint(),n.tooltip&&n.tooltip.hide())},linePoints:function(){var i=this,e=i.axis,s=e.options.vertical,n=i.getBox(),o=i.point,t=s?a:l,h,r,u;return r=f(n.x1,n.y1),u=s?f(n.x2,n.y1):f(n.x1,n.y2),o&&(i.stickyMode?(h=e.getSlot(e.getCategoryIndex(o)),r[t]=u[t]=h.center()[t]):r[t]=u[t]=o[t]),i.box=n,[r,u]},getBox:function(){for(var s=this,u=s.axis,e=u.pane.axes,h=e.length,o=u.options.vertical,f=u.lineBox().clone(),t=o?l:a,n,i,r=0;r<h;r++)i=e[r],i.options.vertical!=o&&(n?n.wrap(i.lineBox()):n=i.lineBox().clone());return f[t+1]=n[t+1],f[t+2]=n[t+2],f},getViewElements:function(n){var t=this,i=t.options,r=[];return t.points=t.linePoints(),t.element=n.createPolyline(t.points,!1,{id:i.id,stroke:i.color,strokeWidth:i.width,strokeOpacity:i.opacity,dashType:i.dashType,zIndex:i.zIndex,visible:t._visible}),r.push(t.element),t._view=n,d(r,e.fn.getViewElements.call(t,n)),r},updateAxisReference:function(){for(var r=this,n=r.axis,f=n.plotArea,u=f.axes,t,i=0;i<u.length;i++)if(t=u[i],o(n.axisIndex)&&n instanceof ki!=t instanceof vt&&n.axisIndex===t.axisIndex){r.axis=t;break}}}),th=bt.extend({init:function(n,t){var i=this,u=n.axis.getRoot().parent.element;i.crosshair=n;bt.fn.init.call(i,u,r({},i.options,{background:n.axis.plotArea.options.seriesColors[0]},t));i._updateStyle(i.options,{});i.setStyle(i.options)},options:{padding:10},showAt:function(n){var t=this,i=t.element;t.point=n;t.element.html(t.content(n));t.anchor=t.getAnchor(i.outerWidth(),i.outerHeight());t.move()},move:function(){var n=this,i=n.element,t=n._offset();i.css({top:t.top,left:t.left}).show()},content:function(n){var f=this,t=f.options,e=f.crosshair.axis,u=e.options,i,r,o;return r=i=e[t.stickyMode?"getCategory":"getValue"](n),t.template?(o=dt(t.template),i=o({value:r})):t.format?i=ut(t.format,r):u.type===ai&&(i=ut(u.labels.dateFormats[u.baseUnit],r)),i},getAnchor:function(n,t){var s=this,h=s.options,c=h.position,y=s.crosshair.axis.options.vertical,l=s.crosshair.points,u=l[0],e=l[1],a=n/2,v=t/2,o=h.padding,i,r;return y?c===ct?(i=u.x-n-o,r=u.y-v):(i=e.x+o,r=e.y-v):c===ht?(i=e.x-a,r=e.y+o):(i=u.x-a,r=u.y-t-o),f(i,r)},hide:function(){this.element.hide();this.point=null}}),ar={max:function(n){var t=i.max.apply(i,n);return isNaN(t)?rh(n):t},min:function(n){var t=i.min.apply(i,n);return isNaN(t)?ih(n):t},sum:function(n){for(var u=n.length,r=0,i,t=0;t<u;t++)i=n[t],o(i)&&!isNaN(i)&&(r+=i);return r},count:function(n){return n.length},avg:function(n){return ar.sum(n)/ar.count(n)}},au=no.extend({init:function(t,i,u){var f=this,c=t.element,y=i.lineBox(),v=f.getValueAxis(i),a=v.lineBox(),o="."+g,e,l;if(no.fn.init.call(f),f.options=r({},f.options,u),u=f.options,f.chart=t,f.chartElement=c,f.categoryAxis=i,f._dateAxis=f.categoryAxis instanceof or,f.valueAxis=v,f._dateAxis&&r(u,{min:s(u.min),max:s(u.max),from:s(u.from),to:s(u.to)}),f.template=au.template,f.template||(f.template=au.template=eo("<div class='"+g+"selector' style='width: #= d.width #px; height: #= d.height #px; top: #= d.offset.top #px; left: #= d.offset.left #px;'><div class='"+g+"mask'><\/div><div class='"+g+"mask'><\/div><div class='"+g+"selection'><div class='"+g+"selection-bg'><\/div><div class='"+g+"handle "+g+"leftHandle'><div><\/div><\/div><div class='"+g+"handle "+g+"rightHandle'><div><\/div><\/div><\/div><\/div>")),l={left:parseInt(c.css("paddingLeft"),10),right:parseInt(c.css("paddingTop"),10)},f.options=r({},{width:y.width(),height:a.height(),padding:l,offset:{left:a.x2+l.left,top:a.y1+l.right},from:u.min,to:u.max},u),f.options.visible){f.wrapper=e=n(f.template(f.options)).appendTo(c);f.selection=e.find(o+"selection");f.leftMask=e.find(o+"mask").first();f.rightMask=e.find(o+"mask").last();f.leftHandle=e.find(o+"leftHandle");f.rightHandle=e.find(o+"rightHandle");f.options.selection={border:{left:parseFloat(f.selection.css("border-left-width"),10),right:parseFloat(f.selection.css("border-right-width"),10)}};f.leftHandle.css("top",(f.selection.height()-f.leftHandle.height())/2);f.rightHandle.css("top",(f.selection.height()-f.rightHandle.height())/2);f.set(f._index(u.from),f._index(u.to));f.bind(f.events,f.options);f.wrapper[0].style.cssText=f.wrapper[0].style.cssText;f.wrapper.on(ao,h(f._mousewheel,f));p.UserEvents?f.userEvents=new p.UserEvents(f.wrapper,{global:!0,threshold:5,stopPropagation:!0,multiTouch:!0,start:h(f._start,f),move:h(f._move,f),end:h(f._end,f),tap:h(f._tap,f),gesturestart:h(f._gesturechange,f),gesturechange:h(f._gesturechange,f)}):f.leftHandle.add(f.rightHandle).removeClass(g+"handle")}},events:[rr,fi,ur],options:{visible:!0,mousewheel:{zoom:"both"},min:lt,max:tt},destroy:function(){var t=this,n=t.userEvents;n&&n.destroy()},_rangeEventArgs:function(n){var t=this;return{axis:t.categoryAxis.options,from:t._value(n.from),to:t._value(n.to)}},_start:function(t){var i=this,r=i.options,u=n(t.event.target),f;!i._state&&u&&(i.chart._unsetActivePoint(),i._state={moveTarget:u.parents(".k-handle").add(u).first(),startLocation:t.x?t.x.location:0,range:{from:i._index(r.from),to:i._index(r.to)}},f=i._rangeEventArgs({from:i._index(r.from),to:i._index(r.to)}),i.trigger(rr,f)&&(i.userEvents.cancel(),i._state=null))},_move:function(n){if(this._state){var r=this,o=r._state,u=r.options,v=r.categoryAxis.options.categories,c=r._index(u.from),y=r._index(u.to),s=r._index(u.min),f=r._index(u.max),p=o.startLocation-n.x.location,t=o.range,l={from:t.from,to:t.to},a=t.to-t.from,e=o.moveTarget,w=r.wrapper.width()/(v.length-1),h=i.round(p/w);e&&(n.preventDefault(),e.is(".k-selection, .k-selection-bg")?(t.from=i.min(i.max(s,c-h),f-a),t.to=i.min(t.from+a,f)):e.is(".k-leftHandle")?(t.from=i.min(i.max(s,c-h),f-1),t.to=i.max(t.from+1,t.to)):e.is(".k-rightHandle")&&(t.to=i.min(i.max(s+1,y-h),f),t.from=i.min(t.to-1,t.from)),(t.from!==l.from||t.to!==l.to)&&(r.move(t.from,t.to),r.trigger(fi,r._rangeEventArgs(t))))}},_end:function(){var n=this,t=n._state.range;delete n._state;n.set(t.from,t.to);n.trigger(ur,n._rangeEventArgs(t))},_gesturechange:function(n){if(this._state){var t=this,f=t.chart,e=t._state,o=t.options,s=t.categoryAxis,r=e.range,h=f._toModelCoordinates(n.touches[0].x.location).x,c=f._toModelCoordinates(n.touches[1].x.location).x,l=i.min(h,c),a=i.max(h,c);n.preventDefault();e.moveTarget=null;r.from=s.getCategoryIndex(new u.Point2D(l))||o.min;r.to=s.getCategoryIndex(new u.Point2D(a))||o.max;t.move(r.from,r.to)}},_tap:function(n){var t=this,f=t.options,l=t.chart._eventCoordinates(n),e=t.categoryAxis,a=e.getCategoryIndex(new u.Point2D(l.x,e.box.y1)),o=t._index(f.from),v=t._index(f.to),y=t._index(f.min),h=t._index(f.max),s=v-o,p=o+s/2,c=i.round(p-a),r={},w=n.event.which===3;t._state||w||(n.preventDefault(),t.chart._unsetActivePoint(),e.options.justified||c--,r.from=i.min(i.max(y,o-c),h-s),r.to=i.min(r.from+s,h),t._start(n),t._state&&(t._state.range=r,t.trigger(fi,t._rangeEventArgs(r)),t._end()))},_mousewheel:function(n){var t=this,f=t.options,r=ah(n),u;t._start({event:{target:t.selection}});t._state&&(u=t._state.range,n.preventDefault(),n.stopPropagation(),i.abs(r)>1&&(r*=nl),f.mousewheel.reverse&&(r*=-1),t.expand(r)&&t.trigger(fi,{axis:t.categoryAxis.options,delta:r,originalEvent:n,from:t._value(u.from),to:t._value(u.to)}),t._mwTimeout&&clearTimeout(t._mwTimeout),t._mwTimeout=setTimeout(function(){t._end()},lo))},_index:function(n){var u=this,i=u.categoryAxis,r=i.options.categories,t=n;return n instanceof Date&&(t=ge(r,n),!i.options.justified&&n>st(r)&&(t+=1)),t},_value:function(n){var t=this,u=this.categoryAxis,i=u.options.categories,r=n;return t._dateAxis&&(r=n>i.length-1?t.options.max:i[n]),r},_slot:function(n){var t=this,i=this.categoryAxis;return i.getSlot(t._index(n))},move:function(n,t){var r=this,u=r.options,h=u.offset,l=u.padding,a=u.selection.border,f,e,o,s;o=r._slot(n);f=c(o.x1-h.left+l.left);r.leftMask.width(f);r.selection.css("left",f);o=r._slot(t);e=c(u.width-(o.x1-h.left+l.left));r.rightMask.width(e);s=u.width-e;s!=u.width&&(s+=a.right);r.rightMask.css("left",s);r.selection.width(i.max(u.width-(f+e)-a.right,0))},set:function(n,t){var i=this,r=i.options,f=i._index(r.min),u=i._index(r.max);n=kt(i._index(n),f,u);t=kt(i._index(t),n+1,u);r.visible&&i.move(n,t);r.from=i._value(n);r.to=i._value(t)},expand:function(n){var i=this,u=i.options,o=i._index(u.min),f=i._index(u.max),s=u.mousewheel.zoom,h=i._index(u.from),e=i._index(u.to),t={from:h,to:e},c=r({},t);return i._state&&(t=i._state.range),s!==it&&(t.from=kt(kt(h-n,0,e-1),o,f)),s!==ct&&(t.to=kt(kt(e+n,t.from+1,f),o,f)),t.from!==c.from||t.to!==c.to?(i.set(t.from,t.to),!0):void 0},getValueAxis:function(n){for(var r=n.pane.axes,u=r.length,i,t=0;t<u;t++)if(i=r[t],i.options.vertical!==n.options.vertical)return i}});br(n.easing,{easeOutElastic:function(n,t,r,u){var o=1.70158,f=0,e=u;return n===0?r:n===1?r+u:(f||(f=.5),e<i.abs(u)?(e=u,o=f/4):o=f/(2*i.PI)*i.asin(u/e),e*i.pow(2,-10*n)*i.sin((n*1-o)*1.1*i.PI/f)+u+r)}});u.ui.plugin(il);r(u,{Aggregates:ar,AreaChart:ls,Bar:fe,BarAnimationDecorator:sl,BarChart:ss,BarLabel:us,BubbleAnimationDecorator:cl,BubbleChart:se,CandlestickChart:he,Candlestick:hr,CategoricalPlotArea:le,CategoryAxis:vt,ClusterLayout:su,Crosshair:nh,CrosshairTooltip:th,DateCategoryAxis:or,DateValueAxis:os,DonutChart:ys,DonutPlotArea:ws,DonutSegment:lu,Highlight:ks,SharedTooltip:gs,Legend:fs,LineChart:cu,LinePoint:si,Pane:ce,PieAnimation:bs,PieAnimationDecorator:hl,PieChart:lr,PiePlotArea:ve,PieSegment:cr,ScatterChart:hi,ScatterLineChart:oe,Selection:au,ShapeElement:hu,StackLayout:ue,Tooltip:ds,OHLCChart:vs,OHLCPoint:as,XYPlotArea:ps,addDuration:v,axisGroupBox:bu,validNumbers:lh,bindPoint:ci,categoriesCount:vu,ceilDate:sh,duration:yr,floorDate:yu,lteDateIndex:ge,sparseArrayLimits:vr,toDate:s,toTime:et})}(window.kendo.jQuery);
/*
//# sourceMappingURL=kendo.dataviz.chart.min.js.map
*/